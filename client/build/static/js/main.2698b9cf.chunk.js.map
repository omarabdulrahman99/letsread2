{"version":3,"sources":["images/greencheck.jpg","actions/index.js","Turn.js","reducers/index.js","reducers/authReducer.js","reducers/bookReducer.js","components/Footer.js","components/Spinner.js","components/Button.js","components/SearchResults.js","components/Landing.js","components/Profile.js","components/Calendar.js","components/books/DraftEditor.js","components/books/BookNote.js","components/books/BookList.js","Header2.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","fetchUser","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","res","wrap","_context","prev","next","axios","get","sent","type","payload","data","stop","_x","apply","this","arguments","callbacklul","pathlul","_ref2","_callee2","_context2","_x2","notebookid","bookid","_ref3","_callee3","_context3","_x3","calendarbookid","_ref4","_callee4","_context4","_x4","Turn","handleKeyDown","event","keyCode","$","_this","el","turn","assign","props","options","document","addEventListener","remove","removeEventListener","_this2","name","coverinfo","chapnum","title","profile","react_default","createElement","className","ref","turnjstext","map","page","index","key","React","Component","defaultProps","style","pages","width","height","autoCenter","display","acceleration","elevation","gradients","isTouch","when","turned","e","connect","thisuser","auth","actions","combineReducers","state","length","undefined","action","console","log","bknid","FooterSec","Spinner","Button","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","activeshelf","loading","activeshelves2","prevCounter","othershelves2","shelftitle","renderItems","bind","assertThisInitialized","renderToggle","onCheckChange","searchcounter","setState","shelfid","bookId","shelfname","checked","target","shelfadd","prevState","objectSpread","defineProperty","post","book_id","_this3","bookobj","best_book","id","_","usershelfbooks","toggleitemd","trueshelf","book","i","j","shelves","shelf","exclusive","push","mdbreact_esm","caret","color","toggleitem","filter","n","_this4","ditems","shelflist","GoodreadsResponse","user_shelf","exclusive_flag","shelfmatch","nomatch","components_Spinner","onChange","value","SearchResults","searchRef","createRef","searchquery","trows","tdata","rows","tcolumns","columns","tbooksarray","booksarray","usershelfbooksraw","handleInputChanges","handleSubmits","forEach","rowobj","trowsArray","button","components_Button","preventDefault","ee","currentTarget","dataresults","user","goodreadId","nodeName","form","parentNode","query","elements","concat","onSubmit","onClick","onClicki","aria-hidden","required","placeholder","aria-label","striped","bordered","fixed","hover","small","paging","Landing","qresults","searchpage","handleInputChange","handleSubmit","components_SearchResults","renderContent","Profile","dataloaded","profileload","profilerender","toggle","profileres","nr","modalNumber","modal1","profileinfo","profileuserdata","gender","location","age","about","image","image_url","styles","favbooks","reviews","review","backgroundImage","imagesarray","src","alt","galleryrender","Calendar","addSched","startdate","enddate","svds","getdata","datesched","datesres","saveddates","dateFns","parse","warning1","warning2","warning3","toString","titlenum","dates","editSched","editnum","deleteSched","dateres","togglemodale","schedinput","calchange","togglemodalc","selectedDate","togglee","createmodal","togsd","toged","sd","ed","found","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","obj","err","return","editmodal","onDateClick","day","nextMonth","currentMonth","addMonths","prevMonth","subMonths","rtogsd","sdsd","stringsd","format","rtoged","Date","booksched","days","startDate","startOfWeek","addDays","_this$state","monthStart","startOfMonth","monthEnd","endOfMonth","endDate","endOfWeek","formattedDate","svdsnum","_loop","cloneDay","colorsched","cDay","isSameMonth","isSameDay","renderHeader","renderDays","renderCells","isOpen","entry_default","Editor","Draft","RichUtils","EditorState","DraftEditor","editorState","initialEditor","focus","refs","editor","saveEditorState","handleKeyCommand","command","_handleKeyCommand","toggleBlockType","_toggleBlockType","toggleInlineStyle","_toggleInlineStyle","newState","onTab","blockType","inlineStyle","contentState","getCurrentContent","hasText","getBlockMap","first","getType","DraftEditor_BlockStyleControls","onToggle","DraftEditor_InlineStyleControls","blockStyleFn","getBlockStyle","customStyleMap","styleMap","spellCheck","CODE","backgroundColor","fontFamily","fontSize","padding","block","StyleButton","active","onMouseDown","label","BLOCK_TYPES","BlockStyleControls","selection","getSelection","getBlockForKey","getStartKey","DraftEditor_StyleButton","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","BookNote","saveEditorToDB","rawString","JSON","stringify","convertToRaw","chapters","addChapter","patt","valid","valid2","datares","RegExp","test","parseInt","mStartOnChange","setChapterStart","addchapter","addBookNote","noteid","predictions","editorPredictions","createWithContent","convertFromRaw","createEmpty","notemodal","renderEditCards","sortedchaps","cardsarr","inputstyle","sort","b","cardselects","editCardClick","cardinputs","cardonChange","cardid","chapid","turnjsSwitch","turnjsEditor","predObj","stylechars","stylesDict","blockcount","tempstyles","k","start","end","divarr","blocknum","linecount","pagenum","divarr2","m","olchars","lines","totallines","nextindex","divarrcut","_olchars","_lines","_totallines","_nextindex","_divarrcut","_olchars2","_lines2","_totallines2","_nextindex2","_divarrcut2","_olchars3","_lines3","_totallines3","_nextindex3","_divarrcut3","_olchars4","_lines4","_totallines4","_nextindex4","_divarrcut4","_turnjstext","getPlainText","header-one","unordered-list-item","ordered-list-item","BOLD","fontWeight","UNDERLINE","textDecoration","ITALIC","fontStyle","match","blocks","inlineStyleRanges","offset","text","pop","t0","abrupt","splice","Math","ceil","turnjs","renderCards","seteditRender","edit","trashButton","delChapters","saveedits","saveinputs","key2","newchapters","slice","savemsg","setTimeout","_callee5","_context5","deletemsg","firstLoad","_callee6","_context6","firstload","quotes","lessons","general","savemsgStyle","textAlign","react_router_dom","to","src_Turn","href","size","greencheck","books_DraftEditor","min","max","maxLength","BookList","bookcounter","tabledata","grid2","booknote","mybookdata","bookpreviewId","mybooksload","leftnav","tablerender","tableload","previewState","previewRender","booksres","bookdata","othershelves","textContent","booklistres","booklist","tabledatachoice","books","keys","cover","author","avgrating","year","currObj","authors","average_rating","published","num_pages","description","btn","field","bookDates","descr","previewId","components_Calendar","books_BookNote","Header2","App","src_Header2","react_router","exact","path","component","books_BookList","components_Landing","render","components_Profile","Footer","store","createStore","reducers","applyMiddleware","reduxThunk","rootElement","getElementById","ReactDOM","es","src_App"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,6gBCE3BC,EAAY,iCAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAM,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAGZC,IAAMC,IAAI,qBAHE,OAGxBN,EAHwBE,EAAAK,KAK9BR,EAAS,CAAES,KAAK,aAAcC,QAAQT,EAAIU,OALZ,wBAAAR,EAAAS,SAAAb,MAAN,gBAAAc,GAAA,OAAApB,EAAAqB,MAAAC,KAAAC,YAAA,IAUZC,EAAc,SAACC,GAAD,sBAAAC,EAAAzB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAa,SAAAsB,EAAMpB,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cAAAgB,EAAAhB,KAAA,EAGrBC,IAAMC,IAAI,4BAHW,OAGjCN,EAHiCoB,EAAAb,KAKvCR,EAAS,CAACS,KAAK,cAAeC,QAAQT,EAAIU,OALH,wBAAAU,EAAAT,SAAAQ,MAAb,gBAAAE,GAAA,OAAAH,EAAAL,MAAAC,KAAAC,YAAA,IAUdO,EAAa,SAACC,GAAD,sBAAAC,EAAA/B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAY,SAAA4B,EAAM1B,GAAN,OAAAJ,EAAAC,EAAAK,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,OAGrCL,EAAS,CAACS,KAAK,aAAcC,QAAQc,IAHA,wBAAAG,EAAAf,SAAAc,MAAZ,gBAAAE,GAAA,OAAAH,EAAAX,MAAAC,KAAAC,YAAA,IAOba,EAAiB,SAACL,GAAD,sBAAAM,EAAApC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAY,SAAAiC,EAAM/B,GAAN,OAAAJ,EAAAC,EAAAK,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,OAGzCL,EAAS,CAACS,KAAK,YAAaC,QAAQc,IAHK,wBAAAQ,EAAApB,SAAAmB,MAAZ,gBAAAE,GAAA,OAAAH,EAAAhB,MAAAC,KAAAC,YAAA,YCnBxBkB,6MAqDFC,cAAgB,SAAAC,GACU,KAAlBA,EAAMC,SACNC,IAAEC,EAAKC,IAAIC,KAAK,YAEE,KAAlBL,EAAMC,SACNC,IAAEC,EAAKC,IAAIC,KAAK,4FApBhB1B,KAAKyB,IACLF,IAAEvB,KAAKyB,IAAIC,KAAK/C,OAAOgD,OAAO,GAAI3B,KAAK4B,MAAMC,UAEjDC,SAASC,iBAAiB,UAAW/B,KAAKoB,eAAe,kDAIrDpB,KAAKyB,IACLF,IAAEvB,KAAKyB,IACFC,KAAK,WACLM,SAETF,SAASG,oBAAoB,UAAWjC,KAAKoB,eAAe,oCAYvD,IAAAc,EAAAlC,KAMDmC,GAFUnC,KAAK4B,MAAMQ,UAAUC,QACvBrC,KAAK4B,MAAMQ,UAAUE,MACtBtC,KAAK4B,MAAMW,QAAQ,GAAGJ,KAAK,IAGtC,OACIK,EAAA1D,EAAA2D,cAAA,OAAKC,UAAW1C,KAAK4B,MAAMc,UAAWC,IAAK,SAAAlB,GAAE,OAAKS,EAAKT,GAAKA,IAEvDe,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,QACZF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aACXF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAa,0BAA4B1C,KAAK4B,MAAMQ,UAAUC,SAC7EG,EAAA1D,EAAA2D,cAAA,WACAD,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,cAAc1C,KAAK4B,MAAMQ,UAAUE,SAGzDE,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,SACX1C,KAAK4B,MAAMgB,WAAWC,IAAI,SAACC,EAAMC,GAAP,OACvBP,EAAA1D,EAAA2D,cAAA,OAAKO,IAAKD,EAAOL,UAAU,QACvBF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,iBAAiBK,EAAM,GACtCP,EAAA1D,EAAA2D,cAAA,WACAD,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,YACVI,MAIjBN,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,QACPF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAa,qBAAuBP,IAE3DK,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,QACXF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAf,sBA/FDO,IAAMC,WAAnB/B,EACKgC,0BACHC,MAAO,GACPV,UAAW,OACXb,QAAS,GACTwB,MAAO,CACH,4EACA,4EACA,4EACA,4EACA,4EACA,wFAEK,CACLC,MAAO,IACPC,OAAQ,IACRC,YAAY,EACZC,QAAS,SACTC,cAAc,EACdC,UAAW,GACXC,WAAYrC,IAAEsC,QACdC,KAAM,CACFC,OAAQ,SAASC,EAAGlB,QAyFrBmB,kBANf,SAAyBrC,GAErB,MAAO,CAAEsC,SAAUtC,EAAMuC,OAIWC,EAAzBH,CAAkC9C,oBCnHlCkD,cAAgB,CAE9BF,KCRc,WAA8B,IAArBG,EAAqBrE,UAAAsE,OAAA,QAAAC,IAAAvE,UAAA,GAAAA,UAAA,GAAb,KAAMwE,EAAOxE,UAAAsE,OAAA,EAAAtE,UAAA,QAAAuE,EAE5C,OAAOC,EAAO/E,MAEb,IAAK,aAIL,IAAK,cAEJ,OADAgF,QAAQC,IAAIF,EAAO9E,SACZ8E,EAAO9E,UAAW,EAC1B,QAEC,OAAO2E,IDJTM,METc,WAA8B,IAArBN,EAAqBrE,UAAAsE,OAAA,QAAAC,IAAAvE,UAAA,GAAAA,UAAA,GAAb,KAAMwE,EAAOxE,UAAAsE,OAAA,EAAAtE,UAAA,QAAAuE,EAE5C,OAAOC,EAAO/E,MAGb,IAAK,aAGL,IAAK,YACJ,OAAO+E,EAAO9E,UAAW,EAC1B,QACC,OAAO2E,uBCYKO,mLAdf,OAEErC,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,UAEdF,EAAA1D,EAAA2D,cAAA,MAAIC,UAAU,WACbF,EAAA1D,EAAA2D,cAAA,4DAXoBS,mCCqBT4B,mLAhBP,OAEItC,EAAA1D,EAAA2D,cAAA,WACRD,EAAA1D,EAAA2D,cAAA,KAAGC,UAAU,0BADL,sBANUQ,aCGhB6B,cAEL,SAAAA,EAAYnD,GAAM,IAAAJ,EAAA,OAAA7C,OAAAqG,EAAA,EAAArG,CAAAqB,KAAA+E,IACjBvD,EAAA7C,OAAAsG,EAAA,EAAAtG,CAAAqB,KAAArB,OAAAuG,EAAA,EAAAvG,CAAAoG,GAAAI,KAAAnF,KAAM4B,KACD0C,MAAQ,CAIXc,YAAY,GACZC,SAAQ,GAOV7D,EAAK8D,eAAiB,GACtB9D,EAAK+D,YAAc,EACnB/D,EAAKgE,cAAgB,GACrBhE,EAAKiE,WAAa,GAGlBjE,EAAKkE,YAAclE,EAAKkE,YAAYC,KAAjBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KACnBA,EAAKqE,aAAerE,EAAKqE,aAAaF,KAAlBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KACpBA,EAAKsE,cAAgBtE,EAAKsE,cAAcH,KAAnBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KAtBJA,mFAiCjBxB,KAAKuF,YAAcvF,KAAK4B,MAAMmE,cAC9B/F,KAAK6F,eACL7F,KAAK0F,cAEL1F,KAAKgG,SAAS,CAACZ,YAAYpF,KAAKsF,uDAQlBtB,EAAEiC,EAAQC,EAAOC,GAAU,IAAAjE,EAAAlC,KAMrCoG,EAAUpC,EAAEqC,OAAOD,QACnBE,EAAW,GACftG,KAAKsF,eAAeW,GAAWG,EAE/BpG,KAAKgG,SAAS,SAAAO,GAAS,MAAK,CAE3BnB,YAAYzG,OAAA6H,EAAA,EAAA7H,CAAA,GACR4H,EAAUnB,YADHzG,OAAA8H,EAAA,EAAA9H,CAAA,GAETsH,EAAS/D,EAAKoD,eAAeW,KAE/BZ,SAAQ,IANT1G,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAQI,SAAAC,IAAA,OAAAH,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAGcC,IAAMmH,KAAK,uCAAwC,CACnEvE,KAAKgE,EACLQ,QAAQT,EACRpH,EAAEsH,EAAU,GAAK,WANf,OAGHE,EAHGlH,EAAAK,KASHiF,QAAQC,IAAI2B,EAAS,aACrBpE,EAAK8D,SAAS,CACbX,SAAQ,IAXN,wBAAAjG,EAAAS,SAAAb,8CAoBS,IAAA4H,EAAA5G,KAETkG,EAASlG,KAAK4B,MAAMiF,QAAQC,UAAU,GAAGC,GAAG,GAAGC,EAC/CC,EAAiBjH,KAAK4B,MAAMqF,eAC5BC,EAAc,GACdC,EAAY,GAKhB,GAJAnH,KAAKwF,cAAe,GACpBxF,KAAKyF,gBAAajB,EAGfyC,EAAe,CAEjBvC,QAAQC,IAAIsC,GAEVC,EAAcD,EAAepE,IAAI,SAACuE,EAAKC,GAGtC,GAAGJ,EAAeI,GAAGD,KAAK,GAAGL,GAAG,GAAGC,IAAMd,EAAO,CAE9C,IAAI,IAAIoB,EAAE,EAAEA,EAAEL,EAAeI,GAAGE,QAAQ,GAAGC,MAAMjD,OAAO+C,IAIC,QAArDL,EAAeI,GAAGE,QAAQ,GAAGC,MAAMF,GAAG/F,EAAEkG,WAG1Cb,EAAKnB,WAAawB,EAAeI,GAAGE,QAAQ,GAAGC,MAAMF,GAAG/F,EAAEY,KAKxDgF,EAAUO,KAAKlF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAgB3E,IAAKkD,EAAQ0B,OAAK,EAACC,MAAM,OAAzC,UAAkDjB,EAAKnB,cAKhB,SAArDwB,EAAeI,GAAGE,QAAQ,GAAGC,MAAMF,GAAG/F,EAAEkG,WAE1Cb,EAAKpB,cAAckC,KAAKT,EAAeI,GAAGE,QAAQ,GAAGC,MAAMF,GAAG/F,EAAEY,MAKnE,OAASgF,KAUoB,GAA7BnH,KAAKwF,cAAcjB,SACrBvE,KAAKwF,mBAAgBhB,GAGtB,IAAIsD,EAAaZ,EAAYa,OAAO,SAAAC,GAAC,OAAIA,IAGzC,YAAkBxD,IAAfsD,GAAiD,GAArBA,EAAWvD,OAIxC/B,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAgBC,OAAK,EAACC,MAAM,WAA5B,kBAKQC,EAMZ,OAAOtF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAgBC,OAAK,EAACC,MAAM,WAA5B,wDAUM,IAAAI,EAAAjI,KAEPkI,EAAS,GACThC,EAASlG,KAAK4B,MAAMiF,QAAQC,UAAU,GAAGC,GAAG,GAAGC,EAChDmB,EAAYnI,KAAK4B,MAAMuG,UAIzBA,EAKFD,EAFcC,EAAUvI,KAAKwI,kBAAkBb,QAAQ,GAAGc,WAEzCxF,IAAI,SAAC2E,GAGnB,GAAgC,QAA7BA,EAAMc,eAAe,GAAGtB,EAuBtB,CAEH,GAAGiB,EAAKzC,cAAc,CAKpB,IAHD,IAAI+C,OAAa/D,EACbgE,OAAUhE,EAEL8C,EAAE,EAAEA,EAAEW,EAAKzC,cAAcjB,OAAO+C,IAEnCE,EAAMrF,KAAK,IAAM8F,EAAKzC,cAAc8B,IAGtCW,EAAK3C,eAAekC,EAAMT,GAAG,GAAGC,IAAK,EACrCuB,EAEC/F,EAAA1D,EAAA2D,cAAA,OAAKO,IAAKwE,EAAMT,GAAG,GAAGC,EAAGtE,UAAU,iBAC7BF,EAAA1D,EAAA2D,cAAA,SAAOO,IAAKwE,EAAMT,GAAG,GAAGC,GACnBiB,EAAK3D,MAAMe,QAAU7C,EAAA1D,EAAA2D,cAACgG,EAAD,MAAa,GACtCjG,EAAA1D,EAAA2D,cAAA,SAAOO,IAAKwE,EAAMT,GAAG,GAAGC,EAAG0B,SAAU,SAAC1E,GAAD,OAAOiE,EAAKnC,cAAc9B,EAAEwD,EAAMT,GAAG,GAAGC,EAAGd,EAAQsB,EAAMrF,KAAK,KAAKzC,KAAK,WAAWiJ,MAAOnB,EAAMrF,KAAK,GAAIiE,QAAS6B,EAAK3D,MAAMc,YAAYoC,EAAMT,GAAG,GAAGC,KACzLQ,EAAMrF,KAAK,IAEnBK,EAAA1D,EAAA2D,cAAA,cAKDwF,EAAK3C,eAAekC,EAAMT,GAAG,GAAGC,IAAK,EAErCwB,EAEChG,EAAA1D,EAAA2D,cAAA,OAAKO,IAAKwE,EAAMT,GAAG,GAAGC,EAAGtE,UAAU,iBAC7BF,EAAA1D,EAAA2D,cAAA,SAAOO,IAAKwE,EAAMT,GAAG,GAAGC,GACnBiB,EAAK3D,MAAMe,QAAU7C,EAAA1D,EAAA2D,cAACgG,EAAD,MAAa,GACtCjG,EAAA1D,EAAA2D,cAAA,SAAOO,IAAKwE,EAAMT,GAAG,GAAGC,EAAG0B,SAAU,SAAC1E,GAAD,OAAOiE,EAAKnC,cAAc9B,EAAEwD,EAAMT,GAAG,GAAGC,EAAGd,EAAQsB,EAAMrF,KAAK,KAAKzC,KAAK,WAAWiJ,MAAOnB,EAAMrF,KAAK,GAAKiE,QAAS6B,EAAK3D,MAAMc,YAAYoC,EAAMT,GAAG,GAAGC,KAC1LQ,EAAMrF,KAAK,IAEnBK,EAAA1D,EAAA2D,cAAA,aAOH,OAAG8F,GAGKC,EAOV,OAFAP,EAAK3C,eAAekC,EAAMT,GAAG,GAAGC,IAAK,EAIpCxE,EAAA1D,EAAA2D,cAAA,OAAKO,IAAKwE,EAAMT,GAAG,GAAGC,EAAGtE,UAAU,iBAC7BF,EAAA1D,EAAA2D,cAAA,SAAOO,IAAKwE,EAAMT,GAAG,GAAGC,GACnBiB,EAAK3D,MAAMe,QAAU7C,EAAA1D,EAAA2D,cAACgG,EAAD,MAAa,GACtCjG,EAAA1D,EAAA2D,cAAA,SAAOO,IAAKwE,EAAMT,GAAG,GAAGC,EAAG0B,SAAU,SAAC1E,GAAD,OAAOiE,EAAKnC,cAAc9B,EAAEwD,EAAMT,GAAG,GAAGC,EAAGd,EAAQsB,EAAMrF,KAAK,KAAKzC,KAAK,WAAWiJ,MAAOnB,EAAMrF,KAAK,GAAIiE,QAAS6B,EAAK3D,MAAMc,YAAYoC,EAAMT,GAAG,GAAGC,KACzLQ,EAAMrF,KAAK,IAEnBK,EAAA1D,EAAA2D,cAAA,YAjFF,OAAGwF,EAAKxC,WACFwC,EAAKxC,YAAc+B,EAAMrF,KAAK,GAIhCK,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAc3E,IAAKwE,EAAMT,GAAG,GAAGC,GAC7BQ,EAAMrF,KAAK,SALd,EAYFK,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAc3E,IAAKwE,EAAMT,GAAG,GAAGC,GAC5BQ,EAAMrF,KAAK,OAiFtB+F,EAAOR,KAAKlF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAc3E,IAAK,GAAnB,SAGZkF,EAAOR,KAAKlF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAc3E,IAAK,GAAnB,sBAGZkF,EAAOR,KAAKlF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAc3E,IAAK,GAAnB,aAkCX,OApBEhD,KAAKuF,aAAevF,KAAK4B,MAAMmE,gBAEjCrB,QAAQC,IAAI3E,KAAKuF,YAAa,OAASvF,KAAK4B,MAAMmE,cAAgB,iBAEhE/F,KAAKuF,YAAcvF,KAAK4B,MAAMmE,cAE9B/F,KAAKgG,SAAS,SAAAO,GAEb,OAAO5H,OAAA6H,EAAA,EAAA7H,CAAA,GACH4H,EADJ,CAECnB,YAAY6C,EAAK3C,kBAEhB,kBAAMZ,QAAQC,IAAI,sBAQhBuD,mCAaR,OAGC1F,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,UAEZF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,KACG3H,KAAK6F,eAEDrD,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,KAEE3H,KAAK0F,wBA3VCxC,aAsXNe,kBATf,SAAyBrC,GAExB,MAAO,CAACsC,SAAStC,EAAMuC,OAOTF,CAAyBc,GCvXlC6D,cAEL,SAAAA,EAAYhH,GAAM,IAAAJ,EAAA,OAAA7C,OAAAqG,EAAA,EAAArG,CAAAqB,KAAA4I,IACjBpH,EAAA7C,OAAAsG,EAAA,EAAAtG,CAAAqB,KAAArB,OAAAuG,EAAA,EAAAvG,CAAAiK,GAAAzD,KAAAnF,KAAM4B,KACDiH,UAAY5F,IAAM6F,YACvBtH,EAAK8C,MAAQ,CAEZyE,YAAY,GACZC,MAAMxH,EAAKI,MAAMqH,MAAMC,KACvBC,SAAS3H,EAAKI,MAAMqH,MAAMG,QAC1BC,YAAY7H,EAAKI,MAAMqH,MAAMK,WAC7BC,kBAAkB/H,EAAKI,MAAM2H,kBAC7BpB,UAAU3G,EAAKI,MAAMuG,UACrBpC,cAAc,GAGfvE,EAAKgI,mBAAqBhI,EAAKgI,mBAAmB7D,KAAxBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KAC1BA,EAAKiI,cAAgBjI,EAAKiI,cAAc9D,KAAnBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KAfJA,mFAqBjB,IAAIyF,EAAiB,GACjBsC,EAAoBvJ,KAAKsE,MAAMiF,kBAGlCtC,EADEsC,EACevJ,KAAKsE,MAAMiF,kBAAkB3J,KAAKqH,eAElCjH,KAAKsE,MAAMiF,kBAI7B,IAAID,EAAatJ,KAAKsE,MAAM+E,YACxBL,EAAQhJ,KAAKsE,MAAM0E,MACnBb,EAAYnI,KAAKsE,MAAM6D,UACvBpC,EAAgB/F,KAAKsE,MAAMyB,cAE/BiD,EAAMU,QAAQ,SAASC,EAAQtC,EAAGuC,GAGjCA,EAAWvC,GAAGwC,OAASrH,EAAA1D,EAAA2D,cAACqH,EAAD,CAAQ7C,eAAgBA,EAAgBkB,UAAWA,EAAWtB,QAASyC,EAAWjC,GAAItB,cAAeA,MAI7H/F,KAAKgG,SAAS,CAACgD,MAAMA,kFAMFhF,gGAEnBA,EAAE+F,iBACEC,EAAKhG,EAAEiG,cACP5I,EAAQ2C,EAAEiG,cACVC,EAAc,GACdjD,EAAgB,GAChBsC,EAAoB,GACpBpB,EAAY,IAEZnI,KAAK4B,MAAMsC,2CAEK3E,IAAMmH,KAAK,uCAAuC,CACnEyD,KAAKnK,KAAK4B,MAAMsC,0BADjBiE,mBAI0B5I,IAAMmH,KAAK,2CAA4C,CACjF0D,WAAWpK,KAAK4B,MAAMsC,SAASkG,qBAD/Bb,SAIDtC,EAAiBsC,EAAkB3J,KAAKqH,uCAGtCkB,GAAY,EACZoB,GAAoB,EACpBtC,GAAiB,aAIC,OAAlB5F,EAAMgJ,iCAGFC,EAAON,EAAGO,WACVC,EAAQF,EAAKG,SAAL,QAAyB9B,gBACnBpJ,IAAMC,IAAN,oCAAAkL,OAA8CF,YAAlEN,SAIInE,EAAgB/F,KAAKsE,MAAMyB,cAE3BuD,EAAaY,EAAYtK,KAAK0J,WAGlCY,EAAYtK,KAAKsJ,KAAKQ,QAAQ,SAASC,EAAOtC,EAAEuC,GAE/CA,EAAWvC,GAAGwC,OAASrH,EAAA1D,EAAA2D,cAACqH,EAAD,CAAQ3B,UAAWA,EAAWlB,eAAgBA,EAAgBJ,QAASyC,EAAWjC,GAAItB,cAAeA,MAK7H/F,KAAKgG,SAAS,SAAAO,GAAS,MAAK,CAC3ByC,MAAMkB,EAAYtK,KAAKsJ,KACvBC,SAASe,EAAYtK,KAAKwJ,QAC1BC,YAAYa,EAAYtK,KAAK0J,WAC7BvD,cAAcQ,EAAUR,cAAgB,oCASnCyE,EADOR,EACMS,SAAL,QAAyB9B,gBACnBpJ,IAAMC,IAAN,oCAAAkL,OAA8CF,YAAlEN,SAKInE,EAAgB/F,KAAKsE,MAAMyB,cAE3BuD,EAAaY,EAAYtK,KAAK0J,WAClCY,EAAYtK,KAAKsJ,KAAKQ,QAAQ,SAASC,EAAOtC,EAAEuC,GAE/CA,EAAWvC,GAAGwC,OAASrH,EAAA1D,EAAA2D,cAACqH,EAAD,CAAQ3B,UAAWA,EAAWlB,eAAgBA,EAAgBJ,QAASyC,EAAWjC,GAAItB,cAAeA,MAI7H/F,KAAKgG,SAAS,SAAAO,GAAS,MAAK,CAC3ByC,MAAMkB,EAAYtK,KAAKsJ,KACvBC,SAASe,EAAYtK,KAAKwJ,QAC1BC,YAAYa,EAAYtK,KAAK0J,WAC7BvD,cAAcQ,EAAUR,cAAgB,oJAcxB/B,GAElBhE,KAAKgG,SAAS,CAEb+C,YAAY/E,EAAEqC,OAAOsC,yCAUtB,IAAIM,EAAQ,CAEXG,QAAQpJ,KAAKsE,MAAM6E,SACnBD,KAAKlJ,KAAKsE,MAAM0E,OAOjB,OAEAxG,EAAA1D,EAAA2D,cAAA,WACED,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAEhBF,EAAA1D,EAAA2D,cAAA,QAAMkI,SAAU3K,KAAKyJ,cAAe/G,UAAU,4CAC5CF,EAAA1D,EAAA2D,cAAA,OAAKmI,QAAS5K,KAAKyJ,eACjBjH,EAAA1D,EAAA2D,cAAA,KAAGmI,QAAS5K,KAAK6K,SAAUnI,UAAU,eAAeoI,cAAY,UAEhEtI,EAAA1D,EAAA2D,cAAA,SAAOC,UAAU,yCAAyCC,IAAK3C,KAAK6I,UAAYkC,UAAU,EAAMrL,KAAK,OAAOyC,KAAK,UAAUwG,MAAO3I,KAAKsE,MAAMyE,YAAaL,SAAU1I,KAAKwJ,mBAAoBwB,YAAY,0CAA0CC,aAAW,aAIlQzI,EAAA1D,EAAA2D,cAAA,WACAD,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CACCuD,SAAO,EACPC,UAAQ,EACRC,OAAK,EACLC,OAAK,EACLC,OAAK,EACLC,QAAQ,EACR3L,KAAMqJ,aAhMkB/F,aAoNbe,kBANf,SAAyBrC,GAExB,MAAO,CAACsC,SAAStC,EAAMuC,OAITF,CAAyB2E,GCrNlC4C,cAEL,SAAAA,EAAY5J,GAAM,IAAAJ,EAAA,OAAA7C,OAAAqG,EAAA,EAAArG,CAAAqB,KAAAwL,IAEjBhK,EAAA7C,OAAAsG,EAAA,EAAAtG,CAAAqB,KAAArB,OAAAuG,EAAA,EAAAvG,CAAA6M,GAAArG,KAAAnF,KAAM4B,KAED0C,MAAQ,CAEZyE,YAAa,GACb0C,SAAS,GACTlC,kBAAkB,GAClBpB,UAAU,GACVuD,YAAW,GAIZlK,EAAKmK,kBAAoBnK,EAAKmK,kBAAkBhG,KAAvBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KACzBA,EAAKoK,aAAepK,EAAKoK,aAAajG,KAAlBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KAfHA,iFAoBAwC,GAEjB,IAAM2E,EAAQ3E,EAAEqC,OAAOsC,MACvB3I,KAAKgG,SAAS,CACb+C,YAAYJ,iFAKK3E,0FAElBA,EAAE+F,iBACEC,EAAKhG,EAAEiG,cACPC,EAAc,GACd/B,EAAY,GACZoB,EAAoB,GACpBlI,EAAQ2C,EAAEiG,eAEXjK,KAAK4B,MAAMsC,0CAIK3E,IAAMmH,KAAK,uCAAuC,CAClEyD,KAAKnK,KAAK4B,MAAMsC,yBADlBiE,mBAI0B5I,IAAMmH,KAAK,2CAA2C,CAChF0D,WAAWpK,KAAK4B,MAAMsC,SAASkG,qBAD/Bb,iCAMApB,GAAY,EACZoB,GAAoB,aAMA,OAAlBlI,EAAMgJ,iCAGFC,EAAON,EAAGO,WACVC,EAAQF,EAAKG,SAAL,QAAyB9B,gBACnBpJ,IAAMC,IAAN,oCAAAkL,OAA8CF,YAAlEN,SAIAlK,KAAKgG,SAAS,CAACyF,SAASvB,EAAYtK,KAAMuI,UAAUA,EAAWoB,kBAAkBA,EAAmBmC,YAAW,mCAOzGlB,EADOR,EACMS,SAAL,QAAyB9B,gBACnBpJ,IAAMC,IAAN,oCAAAkL,OAA8CF,YAAlEN,SAKDlK,KAAKgG,SAAS,CAACyF,SAASvB,EAAYtK,KAAMuI,UAAUA,EAAWoB,kBAAkBA,EAAmBmC,YAAW,gJAoB/G,OAA4B,GAAzB1L,KAAKsE,MAAMoH,WAKblJ,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,cACdF,EAAA1D,EAAA2D,cAAA,KAAGC,UAAU,cAAb,eACAF,EAAA1D,EAAA2D,cAAA,QAAMkI,SAAU3K,KAAK4L,aAAclJ,UAAU,4CAC5CF,EAAA1D,EAAA2D,cAAA,OAAKmI,QAAS5K,KAAK4L,cACjBpJ,EAAA1D,EAAA2D,cAAA,KAAGC,UAAU,eAAeoI,cAAY,UAExCtI,EAAA1D,EAAA2D,cAAA,SAAOC,UAAU,yCAAyCqI,UAAU,EAAMrL,KAAK,OAAOyC,KAAK,UAAUwG,MAAO3I,KAAKsE,MAAMyE,YAAaL,SAAU1I,KAAK2L,kBAAmBX,YAAY,0CAA0CC,aAAW,aAS3OzI,EAAA1D,EAAA2D,cAACoJ,EAAD,CAAe5C,MAAOjJ,KAAKsE,MAAMmH,SAAUtD,UAAWnI,KAAKsE,MAAM6D,UAAWoB,kBAAmBvJ,KAAKsE,MAAMiF,qDAW3G,OAEA/G,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,kBACb1C,KAAK8L,wBAzIa5I,aAuJPe,kBANf,SAAyBrC,GAExB,MAAO,CAACsC,SAAStC,EAAMuC,OAITF,CAAyBuH,GCrJlCO,cAEL,SAAAA,EAAYnK,GAAM,IAAAJ,EAAA,OAAA7C,OAAAqG,EAAA,EAAArG,CAAAqB,KAAA+L,IAEjBvK,EAAA7C,OAAAsG,EAAA,EAAAtG,CAAAqB,KAAArB,OAAAuG,EAAA,EAAAvG,CAAAoN,GAAA5G,KAAAnF,KAAM4B,KACD0C,MAAQ,CAEZ0H,WAAW,aAIZxK,EAAKyK,YAAczK,EAAKyK,YAAYtG,KAAjBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KACnBA,EAAK0K,cAAgB1K,EAAK0K,cAAcvG,KAAnBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KACrBA,EAAK2K,OAAS3K,EAAK2K,OAAOxG,KAAZhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KACdA,EAAK4K,WAAa,GAZD5K,mHA0BV6K,GAAI,IAAAnK,EAAAlC,KACV0E,QAAQC,IAAI,WACV,IAAI2H,EAAc,QAAUD,EAC5BrM,KAAKgG,SAALrH,OAAA8H,EAAA,EAAA9H,CAAA,GACG2N,GAAetM,KAAKsE,MAAMgI,IAC1B,kBAAM5H,QAAQC,IAAIzC,EAAKoC,MAAMiI,sFAGlBpC,4EAEbA,EAAKC,oDAED5H,EAAA1D,EAAA2D,cAAA,gCAGqB,UAAzBzC,KAAKsE,MAAM0H,kEAKUzM,IAAMmH,KAAK,mBAAoB,CAAC0D,WAAWD,EAAKC,oBAAnEgC,SAEkBA,EAAWxM,KAAK4M,YAAYpE,kBAAkB+B,KACpEnK,KAAKoM,WAAaA,EAGlBpM,KAAKgG,SAAS,SAAAO,GAAS,MAAK,CAC3ByF,WAAmC,aAAxBzF,EAAUyF,WAA4B,KAAO,wJAiB1D,IAAIS,EAAkBzM,KAAKoM,WAAWxM,KAAK4M,YAAYpE,kBAAkB+B,KACrEhI,EAAOsK,EAAgB,GAAGtK,KAAK,GAC/BuK,EAASD,EAAgB,GAAGC,OAAO,GACnCC,EAAWF,EAAgB,GAAGE,SAAS,GAGvCC,EAAMH,EAAgB,GAAGG,IAAI,GAC7BC,EAAQJ,EAAgB,GAAGI,MAAM,GACjCC,EAAQL,EAAgB,GAAGM,UAAU,GAQrCC,GANWhN,KAAKoM,WAAWxM,KAAKqN,SAAS7E,kBAAkB8E,QAAQ,GAAGC,OAM7D,CAEZC,gBAAe,OAAA1C,OAASoC,EAAT,OAIhB,OAGGtK,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,iBAEdF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,eAAeU,MAAO4J,IAErCxK,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,eAEdF,EAAA1D,EAAA2D,cAAA,MAAIC,UAAU,eAAeP,GAC7BK,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,iBACdF,EAAA1D,EAAA2D,cAAA,yBACAD,EAAA1D,EAAA2D,cAAA,sBACAD,EAAA1D,EAAA2D,cAAA,mBACAD,EAAA1D,EAAA2D,cAAA,yBAEDD,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,eACdF,EAAA1D,EAAA2D,cAAA,WAAMkK,GACNnK,EAAA1D,EAAA2D,cAAA,WAAgB,IAAViK,EAAeA,EAAO,OAC5BlK,EAAA1D,EAAA2D,cAAA,WAAY,IAANmK,EAAWA,EAAI,OACrBpK,EAAA1D,EAAA2D,cAAA,WACAD,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAamK,8CAsBnC,IAVc,IAAAjG,EAAA5G,KAIVqN,EAAa,GAEbJ,EAAWjN,KAAKoM,WAAWxM,KAAKqN,SAAS7E,kBAAkB8E,QAAQ,GAAGC,OAIlE9F,EAAE,EAAEA,EAAE,EAAEA,IAGT4F,EAAS5F,GAIdgG,EAAY3F,KAAKlF,EAAA1D,EAAA2D,cAAA,UAAQO,IAAKqE,EAAGuD,QAAS,kBAAMhE,EAAKuF,OAAO,KAAI3J,EAAA1D,EAAA2D,cAAA,OAAK6K,IAAKL,EAAS5F,GAAGD,KAAK,GAAG2F,UAAU,GAAIQ,IAAI,OAHhHF,EAAY3F,KAAKlF,EAAA1D,EAAA2D,cAAA,UAAQO,IAAKqE,GAAG7E,EAAA1D,EAAA2D,cAAA,OAAK6K,IATzB,kCASwCC,IAAI,OAWzD,OAEE/K,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,YAEdF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,cAEdF,EAAA1D,EAAA2D,cAAA,OAAKsE,GAAG,YACNsG,sCAiBR,OAFArN,KAAKiM,YAAYjM,KAAK4B,MAAMsC,UAI1B1B,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,oBAEY,aAAzB1C,KAAKsE,MAAM0H,WAA4BhM,KAAKkM,gBAAkB1J,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,WACpD,aAAzB1C,KAAKsE,MAAM0H,WAA4BhM,KAAKwN,gBAAkBhL,EAAA1D,EAAA2D,cAAA,YAEhED,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,qBACdF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,iBAAf,kBACAF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,gBACdF,EAAA1D,EAAA2D,cAAA,OAAK6K,IAAI,8CA1LOpK,aA8MPe,kBANf,SAAyBrC,GAGxB,MAAO,CAACsC,SAAStC,EAAMuC,OAGe3D,EAAxByD,CAAoC8H,oCCgfpC0B,cAtrBd,SAAAA,EAAY7L,GAAM,IAAAJ,EAAA,OAAA7C,OAAAqG,EAAA,EAAArG,CAAAqB,KAAAyN,IACjBjM,EAAA7C,OAAAsG,EAAA,EAAAtG,CAAAqB,KAAArB,OAAAuG,EAAA,EAAAvG,CAAA8O,GAAAtI,KAAAnF,KAAM4B,KAoDL8L,SArDgB,eAAAhP,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAqDJ,SAAAC,EAAOgF,GAAP,IAAA2J,EAAAC,EAAAC,EAAAC,EAAAzG,EAAA0G,EAAAC,EAAA,OAAAnP,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAKPqO,EAAYnM,EAAK8C,MAAMqJ,UACvBC,EAAUpM,EAAK8C,MAAMsJ,QAEX,MAAbD,GAAgC,MAAXC,EARX,CAAAxO,EAAAE,KAAA,cAUTqO,EAAYC,GAVH,CAAAxO,EAAAE,KAAA,SAgBZ,GAJKuO,EAAOrM,EAAK8C,MAAM2J,WAClBH,GAAU,EAGJ,MAARD,EACF,IAAQxG,EAAE,EAAEA,EAAEwG,EAAKtJ,OAAO8C,KAGrBsG,GAAaO,IAAQC,MAAMN,EAAKxG,GAAGsG,YAAcA,GAAaO,IAAQC,MAAMN,EAAKxG,GAAGuG,UAAcA,GAAWM,IAAQC,MAAMN,EAAKxG,GAAGsG,YAAcC,GAAWM,IAAQC,MAAMN,EAAKxG,GAAGuG,YAErLE,GAAU,IAIPI,IAAQC,MAAMN,EAAKxG,GAAGsG,YAAcA,GAAaO,IAAQC,MAAMN,EAAKxG,GAAGsG,YAAcC,GAAaM,IAAQC,MAAMN,EAAKxG,GAAGuG,UAAYD,GAAaO,IAAQC,MAAMN,EAAKxG,GAAGuG,UAAYA,KAErLE,GAAU,GA5BF,GAiCG,GAAXA,EAjCQ,CAAA1O,EAAAE,KAAA,SAkCVkC,EAAKwE,SAAS,CAACoI,UAAS,EAAMC,UAAS,EAAMC,UAAS,IAlC5ClP,EAAAE,KAAA,wBAoCVkC,EAAKwE,SAAS,CAACoI,UAAS,EAAMC,UAAS,EAAOC,UAAS,IACnDP,EAAY,CAACJ,UAAUA,EAAUY,WAAYX,QAAQA,EAAQW,WAAYC,SAAShN,EAAK8C,MAAMkK,UArCvFpP,EAAAE,KAAA,GAsCaC,IAAMmH,KAAK,iBAAkB,CAACyD,KAAK3I,EAAK8C,MAAM6F,KAAM1J,OAAOe,EAAK8C,MAAM7D,OAAQgE,OAAO,OAAQsJ,UAAUA,IAtCpH,QAsCJC,EAtCI5O,EAAAK,KAwCV+B,EAAKwE,SAAS,CAACiI,WAAWD,EAASpO,KAAK6O,MAAMV,UAAWS,SAASR,EAASpO,KAAK6O,MAAMV,UAAUC,EAASpO,KAAK6O,MAAMV,UAAUxJ,OAAO,GAAGiK,SAAW,IAxCzI,QAAApP,EAAAE,KAAA,iBAiDXkC,EAAKwE,SAAS,CAACqI,UAAS,EAAMD,UAAS,EAAOE,UAAS,IAjD5C,QAAAlP,EAAAE,KAAA,iBAuDZkC,EAAKwE,SAAS,CAACoI,UAAS,EAAMC,UAAS,EAAOC,UAAS,IAvD3C,yBAAAlP,EAAAS,SAAAb,MArDI,gBAAAc,GAAA,OAAApB,EAAAqB,MAAAC,KAAAC,YAAA,GAAAuB,EA4HhBkN,UA5HgB,eAAAtO,EAAAzB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KA4HJ,SAAAsB,EAAO2D,GAAP,IAAA2J,EAAAC,EAAAC,EAAAC,EAAA9K,EAAA+K,EAAAC,EAAA,OAAAnP,EAAAC,EAAAK,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,UAGNqO,EAAYnM,EAAK8C,MAAMqJ,UACvBC,EAAUpM,EAAK8C,MAAMsJ,QAEX,MAAbD,GAAgC,MAAXC,EANZ,CAAAtN,EAAAhB,KAAA,cAQRqO,EAAYC,GARJ,CAAAtN,EAAAhB,KAAA,SAeV,IAAQ0D,KALJ6K,EAVMlP,OAAA6H,EAAA,EAAA7H,CAAA,GAUK6C,EAAK8C,MAAM2J,YACtBH,GAAU,EAICD,EACXA,EAAK7K,GAAKwL,UAAYhN,EAAKmN,UAE7BjK,QAAQC,IAAIkJ,EAAK7K,WACV6K,EAAK7K,IAMb,IAAQA,KAAO6K,GAMVF,GAAaO,IAAQC,MAAMN,EAAK7K,GAAK2K,YAAcA,GAAaO,IAAQC,MAAMN,EAAK7K,GAAK4K,UAAcA,GAAWM,IAAQC,MAAMN,EAAK7K,GAAK2K,YAAcC,GAAWM,IAAQC,MAAMN,EAAK7K,GAAK4K,YAE7LlJ,QAAQC,IAAI,SACZmJ,GAAU,IAIPI,IAAQC,MAAMN,EAAK7K,GAAK2K,YAAcA,GAAaO,IAAQC,MAAMN,EAAK7K,GAAK2K,YAAcC,GAAaM,IAAQC,MAAMN,EAAK7K,GAAK4K,UAAYD,GAAaO,IAAQC,MAAMN,EAAK7K,GAAK4K,UAAYA,KAE9LlJ,QAAQC,IAAI,SACZmJ,GAAU,GAzCH,GA8CI,GAAXA,EA9CO,CAAAxN,EAAAhB,KAAA,SAgDToF,QAAQC,IAAInD,EAAK8C,MAAM2J,YACvBzM,EAAKwE,SAAS,CAACoI,UAAS,EAAMC,UAAS,EAAMC,UAAS,IAjD7ChO,EAAAhB,KAAA,wBAoDToF,QAAQC,IAAInD,EAAK8C,MAAM2J,YACvBzM,EAAKwE,SAAS,CAACoI,UAAS,EAAMC,UAAS,EAAOC,UAAS,IACnDP,EAAY,CAACJ,UAAUA,EAAUY,WAAYX,QAAQA,EAAQW,WAAYC,SAAShN,EAAKmN,SAtDlFrO,EAAAhB,KAAA,GAuDcC,IAAMmH,KAAK,iBAAkB,CAACyD,KAAK3I,EAAK8C,MAAM6F,KAAM1J,OAAOe,EAAK8C,MAAM7D,OAAQgE,OAAO,OAAQsJ,UAAUA,IAvDrH,QAuDHC,EAvDG1N,EAAAb,KA0DT+B,EAAKwE,SAAS,CAACiI,WAAWD,EAASpO,KAAKmO,WAAW,WAAKrJ,QAAQC,IAAInD,EAAK8C,MAAM2J,WAAW,kBA1DjF,QAAA3N,EAAAhB,KAAA,iBAoEVkC,EAAKwE,SAAS,CAACqI,UAAS,EAAMD,UAAS,EAAOE,UAAS,IApE7C,QAAAhO,EAAAhB,KAAA,iBAyEXkC,EAAKwE,SAAS,CAACoI,UAAS,EAAMC,UAAS,EAAOC,UAAS,IAzE5C,yBAAAhO,EAAAT,SAAAQ,MA5HI,gBAAAE,GAAA,OAAAH,EAAAL,MAAAC,KAAAC,YAAA,GAAAuB,EAoNhBoN,YApNgBjQ,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAoNF,SAAA4B,IAAA,IAAAgO,EAAAE,EAAA,OAAAhQ,EAAAC,EAAAK,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cAEboF,QAAQC,IAAI,UACRgK,EAAUnN,EAAKmN,QAHN/N,EAAAtB,KAAA,EAIOC,IAAMmH,KAAK,iBAAkB,CAACyD,KAAK3I,EAAK8C,MAAM6F,KAAM1J,OAAOe,EAAK8C,MAAM7D,OAAQ+N,SAASG,EAASlK,OAAO,SAAUkJ,UAAUnM,EAAK8C,MAAMqJ,UAAWC,QAAQpM,EAAK8C,MAAMsJ,UAJ3K,OAITiB,EAJSjO,EAAAnB,KAKbiF,QAAQC,IAAIgK,GACZjK,QAAQC,IAAIkK,EAAQjP,MACpB4B,EAAKwE,SAAS,CAACiI,WAAWY,EAAQjP,KAAKwH,KAAK2G,WAAY,WAAKrJ,QAAQC,IAAI,aAEzEnD,EAAKsN,eATQ,wBAAAlO,EAAAf,SAAAc,MApNEa,EAwOhBuN,WAAa,SAACpG,EAAM3E,GAKX,aAALA,EAGFxC,EAAKwE,SAAS,SAAAO,GAEb,MAAO,CAENoH,UAAUhF,EACVqG,WAAU,KAQZxN,EAAKwE,SAAS,SAAAO,GACb,MAAM,CAEPqH,QAAQjF,EACRqG,WAAU,MAjQIxN,EA8QfyN,aAAe,WAKfvK,QAAQC,IAAInD,EAAK8C,MAAMqJ,WACvBjJ,QAAQC,IAAInD,EAAK8C,MAAM4K,cAMC,SAAjB1N,EAAK2N,SACPzK,QAAQC,IAAInD,EAAK8C,MAAM8K,aACvB5N,EAAK2N,SAAU,EACf3N,EAAKwE,SAAS,CACboJ,aAAY,EACZhB,UAAS,EACTC,UAAS,EACTC,UAAS,EACTU,WAAU,EACVrB,UAAUnM,EAAK6N,MACfzB,QAAQpM,EAAK8N,SAMf9N,EAAKwE,SAAS,CACXoJ,aAAa5N,EAAK8C,MAAM8K,YACxBhB,UAAS,EACTC,UAAS,EACTC,UAAS,EACTU,WAAU,EACVrB,UAAUnM,EAAK8C,MAAM4K,aACrBtB,QAAQpM,EAAK8C,MAAM4K,gBAjTX1N,EAiUbsN,aAAe,SAAC9K,GAIf,GAAGA,EAAE,CAIJ,IAAIwK,EAAWxK,EAAEiG,cAAclD,GAE/BrC,QAAQC,IAAIX,EAAEiG,eACdzI,EAAKmN,QAAUH,EAEf,IAEIe,EACAC,EAHAvB,EAAazM,EAAK8C,MAAM2J,WACxBwB,GAAQ,EAVRC,GAAA,EAAAC,GAAA,EAAAC,OAAApL,EAAA,IAaJ,QAAAqL,EAAAC,EAAe7B,EAAf8B,OAAAC,cAAAN,GAAAG,EAAAC,EAAAxQ,QAAA2Q,MAAAP,GAAA,EAA0B,KAAlBQ,EAAkBL,EAAAlH,MAGtBuH,EAAI1B,UAAYA,IAGlBhN,EAAK6N,MAAQnB,IAAQC,MAAM+B,EAAIvC,WAC/BnM,EAAK8N,MAAQpB,IAAQC,MAAM+B,EAAItC,SAC/B2B,EAAKW,EAAIvC,UACT6B,EAAKU,EAAItC,QACT6B,GAAQ,IAvBN,MAAAU,GAAAR,GAAA,EAAAC,EAAAO,EAAA,YAAAT,GAAA,MAAAI,EAAAM,QAAAN,EAAAM,SAAA,WAAAT,EAAA,MAAAC,GA8BDH,GACD/K,QAAQC,IAAI4K,EAAIC,EAAIhO,EAAK6N,OACzB7N,EAAKwE,SAAS,CAAC2H,UAAU4B,EAAI3B,QAAQ4B,GAAK,WACtChO,EAAK2N,QAAU,OAClB3N,EAAKwE,SAAS,CACZqK,WAAY7O,EAAK8C,MAAM+L,WACtB,WAAK3L,QAAQC,IAAI,oBAOrBnD,EAAKwE,SAAS,CAACqK,WAAW7O,EAAK8C,MAAM+L,iBAKvC7O,EAAKwE,SAAS,CAACqK,WAAW7O,EAAK8C,MAAM+L,aArX1B7O,EAoYjB8O,YAAc,SAAAC,GAKT/O,EAAKwE,SAAS,CACXkJ,aAAcqB,GAEb,kBAAI/O,EAAKyN,kBA5YDzN,EA+YjBgP,UAAY,WAEThP,EAAKwE,SAAS,CACXyK,aAAcvC,IAAQwC,UAAUlP,EAAK8C,MAAMmM,aAAc,MAlZ9CjP,EAsZjBmP,UAAY,WAETnP,EAAKwE,SAAS,CACXyK,aAAcvC,IAAQ0C,UAAUpP,EAAK8C,MAAMmM,aAAc,MAzZ9CjP,EA6iBlBqP,OAAS,WAER,IAAIC,EAAOtP,EAAK6N,MACZ0B,EAAW,GAWf,OAVW,MAARD,IAGFC,GADAA,EAAW7C,IAAQ8C,OAAOF,EAAM,6BACZvC,YAQpB/L,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAaqO,IA5jBZvP,EAgkBlByP,OAAS,WAER,IAAIH,EAAOtP,EAAK8N,MACZyB,EAAW,GAWf,OAVW,MAARD,IAGFC,GADAA,EAAW7C,IAAQ8C,OAAOF,EAAM,6BACZvC,YAQpB/L,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAaqO,IA7kB7BvP,EAAK8C,MAAQ,CACZmM,aAAc,IAAIS,KAClBhC,aAAc,IAAIgC,KAClBC,UAAW3P,EAAKI,MAAMuP,UACtB1Q,OAAOe,EAAKI,MAAMnB,OAClB0J,KAAK3I,EAAKI,MAAMuI,KAChBiF,aAAY,EACZiB,WAAU,EACVjC,UAAS,EACTC,UAAS,EACTC,UAAS,EACTX,UAAU,KACVC,QAAQ,KACRoB,WAAU,EACVf,WAAW,KACXO,SAAS,GAIXhN,EAAK2N,SAAU,EACf3N,EAAK6N,MAAQ,KACb7N,EAAK8N,MAAQ,KAvBK9N,mNAmCOjC,IAAMmH,KAAK,iBAAiB,CAACyD,KAAKnK,KAAKsE,MAAM6F,KAAM1J,OAAOT,KAAKsE,MAAM7D,OAAQgE,OAAO,gBAArGuJ,UAGMpO,KAAK6O,QAChB/J,QAAQC,IAAIqJ,EAASpO,KAAK6O,QAC1BA,EAAQT,EAASpO,KAAK6O,MAAMV,YACfU,EAAMlK,OAAS,GAC5BvE,KAAKgG,SAAS,CAAEiI,WAAWQ,EAAOD,SAASC,EAAMA,EAAMlK,OAAO,GAAGiK,SAAW,8IAyX9E,OACEhM,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,0BACdF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,iBACdF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,OAAOkI,QAAS5K,KAAK2Q,WAApC,iBAIDnO,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,kBACdF,EAAA1D,EAAA2D,cAAA,YACEyL,IAAQ8C,OAAOhR,KAAKsE,MAAMmM,aAXb,eAchBjO,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,cAAckI,QAAS5K,KAAKwQ,WAC1ChO,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,QAAf,wDAcJ,IAJA,IACM0O,EAAO,GAETC,EAAYnD,IAAQoD,YAAYtR,KAAKsE,MAAMmM,cACvCpJ,EAAE,EAAEA,EAAE,EAAEA,IAEf+J,EAAK1J,KACJlF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,iBAAiBM,IAAKqE,GACnC6G,IAAQ8C,OAAO9C,IAAQqD,QAAQF,EAAUhK,GAR1B,UAenB,OAAO7E,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,YAAY0O,yCA4BlC,IAtBY,IAAAlP,EAAAlC,KAAAwR,EAE2BxR,KAAKsE,MAApCmM,EAFIe,EAEJf,aAAcvB,EAFVsC,EAEUtC,aAChBuC,EAAavD,IAAQwD,aAAajB,GAClCkB,EAAWzD,IAAQ0D,WAAWH,GAC9BJ,EAAYnD,IAAQoD,YAAYG,GAChCI,EAAU3D,IAAQ4D,UAAUH,GAG5BzI,EAAO,GAETkI,EAAO,GACPb,EAAMc,EACNU,EAAgB,GAEhBC,EAAUhS,KAAKsE,MAAM2J,WAAajO,KAAKsE,MAAM2J,WAAW1J,OAAS,EACjE0J,EAAajO,KAAKsE,MAAM2J,WAMtBsC,GAAOsB,GAAQ,CACpB,IADoB,IAAAI,EAAA,SACZ5K,GACP0K,EAAgB7D,IAAQ8C,OAAOT,EAhBd,KAiBjB,IAAM2B,EAAW3B,EAMjB,IALI4B,EAAa,GAKT7K,EAAE,EAAEA,EAAE0K,EAAQ1K,IAGjBiI,EAAKrB,IAAQ8C,OAAO/C,EAAW3G,GAAGqG,UAAW,cAC7C6B,EAAKtB,IAAQ8C,OAAO/C,EAAW3G,GAAGsG,QAAS,eAC3CwE,EAAOlE,IAAQ8C,OAAOkB,EAAU,gBAKxB3C,GAAQ6C,GAAQ5C,GAE1B2C,EAAWzK,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAKiL,EAAW3G,GAAGkH,SAAUzH,GAAIkH,EAAW3G,GAAGkH,SAAU5D,QAAS1I,EAAK4M,aAAcpM,UAAU,cAOvH0O,EAAK1J,KACJlF,EAAA1D,EAAA2D,cAAA,OACCC,UAAS,qBAAAgI,OAEPwD,IAAQmE,YAAY9B,EAAIkB,GAEvBvD,IAAQoE,UAAU/B,EAAIrB,GAAgB,WAAa,GADnD,YAIHlM,IAAKuN,EACL3F,QAAS,kBAAM1I,EAAKoO,YAAYpC,IAAQC,MAAM+D,MAG9C1P,EAAA1D,EAAA2D,cAAA,QAAMC,UAAU,UAAUqP,GACzBI,IAQF5B,EAAMrC,IAAQqD,QAAQhB,EAAI,IAjDpBlJ,EAAE,EAAEA,EAAE,EAAEA,IAAI,KAGf8K,EAKI7K,EAGHiI,EACAC,EACA4C,EAbcH,IAqDpB/I,EAAKxB,KAEJlF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,MAAMM,IAAKuN,GACxBa,IAKHA,EAAO,GAKR,OAAO5O,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,QAAQwG,oCA6CtB,IAAAtC,EAAA5G,KAEHuP,EAAK,YACLC,EAAK,UACLpB,EAAW,kCACXC,EAAW,8CACXC,EAAW,0CAEf,OACI9L,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,YACf1C,KAAKuS,eACLvS,KAAKwS,aACLxS,KAAKyS,cAKNjQ,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAO+K,OAAQ1S,KAAKsE,MAAM+L,UAAWlE,OAAQnM,KAAK8O,cAC1CtM,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAawE,OAAQnM,KAAK8O,cACjCtM,EAAA1D,EAAA2D,cAAA,0CAIOD,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,KACFnF,EAAA1D,EAAA2D,cAAA,WACQD,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAf,UACH1C,KAAK6Q,SACRrO,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAf,QACG1C,KAAKiR,UAENzO,EAAA1D,EAAA2D,cAAA,QAAMC,UAAU,cAAhB,eACAF,EAAA1D,EAAA2D,cAACkQ,EAAA7T,EAAD,CACE4D,UAAU,cACnBgG,SAAU,SAACC,GAAW/B,EAAKmI,WAAWpG,EAAO4G,IAC7C5G,MAAO3I,KAAKsE,MAAMqJ,YAEXnL,EAAA1D,EAAA2D,cAAA,WACAD,EAAA1D,EAAA2D,cAAA,QAAMC,UAAU,cAAhB,kBACAF,EAAA1D,EAAA2D,cAACkQ,EAAA7T,EAAD,CACE4D,UAAU,YACnBgG,SAAU,SAACC,GAAW/B,EAAKmI,WAAWpG,EAAO6G,IAC7C7G,MAAO3I,KAAKsE,MAAMsJ,UAEK,GAAxB5N,KAAKsE,MAAM8J,SAAqB,KAAO5L,EAAA1D,EAAA2D,cAAA,WAAM2L,GACtB,GAAvBpO,KAAKsE,MAAM+J,SAAoB,KAAO7L,EAAA1D,EAAA2D,cAAA,WAAM4L,GACrB,GAAvBrO,KAAKsE,MAAMgK,SAAoB,KAAO9L,EAAA1D,EAAA2D,cAAA,WAAM6L,IAItC9L,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,KACDnF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAQE,MAAM,UAAU+C,QAAS5K,KAAK0O,WAAtC,gBACAlM,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAQE,MAAM,QAAQ+C,QAAS5K,KAAK4O,aAApC,UACGpM,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAQE,MAAM,YAAY+C,QAAS5K,KAAK8O,cAAxC,WAMJtM,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAO+K,OAAQ1S,KAAKsE,MAAM8K,YAAajD,OAAQnM,KAAKiP,cAClDzM,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAawE,OAAQnM,KAAKiP,cAA1B,oCACAzM,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,mBAEEnF,EAAA1D,EAAA2D,cAACkQ,EAAA7T,EAAD,CACP4J,SAAU,SAACC,GAAW/B,EAAKmI,WAAWpG,EAAO4G,IAC7C5G,MAA+B,GAAxB3I,KAAKsE,MAAM0K,UAAqBhP,KAAKsE,MAAMqJ,UAAY3N,KAAKsE,MAAM4K,eAElE1M,EAAA1D,EAAA2D,cAAA,WANF,YAQED,EAAA1D,EAAA2D,cAACkQ,EAAA7T,EAAD,CACP4J,SAAU,SAACC,GAAW/B,EAAKmI,WAAWpG,EAAO6G,IAC7C7G,MAA+B,GAAxB3I,KAAKsE,MAAM0K,UAAqBhP,KAAKsE,MAAMsJ,QAAU5N,KAAKsE,MAAM4K,eAEhD,GAAxBlP,KAAKsE,MAAM8J,SAAqB,KAAO5L,EAAA1D,EAAA2D,cAAA,WAAM2L,GACtB,GAAvBpO,KAAKsE,MAAM+J,SAAoB,KAAO7L,EAAA1D,EAAA2D,cAAA,WAAM4L,GACrB,GAAvBrO,KAAKsE,MAAMgK,SAAoB,KAAO9L,EAAA1D,EAAA2D,cAAA,WAAM6L,IAItC9L,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,KACDnF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAQE,MAAM,UAAU+C,QAAS5K,KAAK0N,UAAtC,gBACGlL,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAQE,MAAM,YAAY+C,QAAS5K,KAAKiP,cAAxC,SAAqE,cAzqB9D/L,iDCNV0P,GAAkCC,KAAlCD,OAAqBE,IAAaD,KAA1BE,YAA0BF,KAAbC,WAEtBE,eACJ,SAAAA,EAAYpR,GAAO,IAAAJ,EAAA,OAAA7C,OAAAqG,EAAA,EAAArG,CAAAqB,KAAAgT,IACjBxR,EAAA7C,OAAAsG,EAAA,EAAAtG,CAAAqB,KAAArB,OAAAuG,EAAA,EAAAvG,CAAAqU,GAAA7N,KAAAnF,KAAM4B,KACD0C,MAAQ,CAAC2O,YAAazR,EAAKI,MAAMsR,eAEtC1R,EAAK2R,MAAQ,kBAAM3R,EAAK4R,KAAKC,OAAOF,SACpC3R,EAAKkH,SAAW,SAACuK,GAAiBzR,EAAKI,MAAM0R,gBAAgBL,GAAczR,EAAKwE,SAAS,CAACiN,iBAE1FzR,EAAK+R,iBAAmB,SAACC,GAAD,OAAahS,EAAKiS,kBAAkBD,IAE5DhS,EAAKkS,gBAAkB,SAAChU,GAAD,OAAU8B,EAAKmS,iBAAiBjU,IACvD8B,EAAKoS,kBAAoB,SAACxQ,GAAD,OAAW5B,EAAKqS,mBAAmBzQ,IAV3C5B,iFAaDgS,GAAS,IAClBP,EAAejT,KAAKsE,MAApB2O,YACDa,EAAWhB,GAAUS,iBAAiBN,EAAaO,GACzD,QAAIM,IACF9T,KAAK0I,SAASoL,IACP,kCAKJ9P,GAELhE,KAAK0I,SAASoK,GAAUiB,MAAM/P,EAAGhE,KAAKsE,MAAM2O,YAD3B,6CAIFe,GACfhU,KAAK0I,SACHoK,GAAUY,gBACR1T,KAAKsE,MAAM2O,YACXe,+CAKaC,GACjBjU,KAAK0I,SACHoK,GAAUc,kBACR5T,KAAKsE,MAAM2O,YACXgB,qCAKG,IACAhB,EAAejT,KAAKsE,MAApB2O,YAIHvQ,EAAY,oBACZwR,EAAejB,EAAYkB,oBAO/B,OANKD,EAAaE,WACqC,aAAjDF,EAAaG,cAAcC,QAAQC,YACrC7R,GAAa,+BAKfF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,mBACbF,EAAA1D,EAAA2D,cAAC+R,GAAD,CACEvB,YAAaA,EACbwB,SAAUzU,KAAK0T,kBAEjBlR,EAAA1D,EAAA2D,cAACiS,GAAD,CACEzB,YAAaA,EACbwB,SAAUzU,KAAK4T,oBAEjBpR,EAAA1D,EAAA2D,cAAA,OAAKC,UAAWA,EAAWkI,QAAS5K,KAAKmT,OACvC3Q,EAAA1D,EAAA2D,cAACmQ,GAAD,CACE+B,aAAcC,GACdC,eAAgBC,GAChB7B,YAAaA,EACbM,iBAAkBvT,KAAKuT,iBACvB7K,SAAU1I,KAAK0I,SACfqL,MAAO/T,KAAK+T,MACZ/I,YAAY,kBACZrI,IAAI,SACJoS,YAAY,aAhFE9R,IAAMC,WAyF1B4R,GAAW,CACfE,KAAM,CACJC,gBAAiB,sBACjBC,WAAY,gDACZC,SAAU,GACVC,QAAS,IAIb,SAASR,GAAcS,GACrB,OAAQA,EAAMd,WACZ,IAAK,aAAc,MAAO,wBAC1B,QAAS,OAAO,UAIde,eACJ,SAAAA,IAAc,IAAApT,EAAA,OAAAvD,OAAAqG,EAAA,EAAArG,CAAAqB,KAAAsV,IACZpT,EAAAvD,OAAAsG,EAAA,EAAAtG,CAAAqB,KAAArB,OAAAuG,EAAA,EAAAvG,CAAA2W,GAAAnQ,KAAAnF,QACKyU,SAAW,SAACzQ,GACfA,EAAE+F,iBACF7H,EAAKN,MAAM6S,SAASvS,EAAKN,MAAMwB,QAJrBlB,wEASZ,IAAIQ,EAAY,yBAKhB,OAJI1C,KAAK4B,MAAM2T,SACb7S,GAAa,4BAIbF,EAAA1D,EAAA2D,cAAA,QAAMC,UAAWA,EAAW8S,YAAaxV,KAAKyU,UAC3CzU,KAAK4B,MAAM6T,cAjBMxS,IAAMC,WAuB1BwS,GAAc,CAClB,CAACD,MAAO,KAAMrS,MAAO,cACrB,CAACqS,MAAO,KAAMrS,MAAO,cACrB,CAACqS,MAAO,KAAMrS,MAAO,gBACrB,CAACqS,MAAO,KAAMrS,MAAO,eACrB,CAACqS,MAAO,KAAMrS,MAAO,eACrB,CAACqS,MAAO,KAAMrS,MAAO,cACrB,CAACqS,MAAO,aAAcrS,MAAO,cAC7B,CAACqS,MAAO,KAAMrS,MAAO,uBACrB,CAACqS,MAAO,KAAMrS,MAAO,sBAGjBuS,GAAqB,SAAC/T,GAAU,IAC7BqR,EAAerR,EAAfqR,YACD2C,EAAY3C,EAAY4C,eACxB7B,EAAYf,EACfkB,oBACA2B,eAAeF,EAAUG,eACzBxB,UAEH,OACE/R,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,uBACZgT,GAAY7S,IAAI,SAACnD,GAAD,OACf8C,EAAA1D,EAAA2D,cAACuT,GAAD,CACEhT,IAAKtD,EAAK+V,MACVF,OAAQ7V,EAAK0D,QAAU4Q,EACvByB,MAAO/V,EAAK+V,MACZhB,SAAU7S,EAAM6S,SAChBrR,MAAO1D,EAAK0D,YAOlB6S,GAAgB,CAClB,CAACR,MAAO,OAAQrS,MAAO,QACvB,CAACqS,MAAO,SAAUrS,MAAO,UACzB,CAACqS,MAAO,YAAarS,MAAO,cAGxB8S,GAAsB,SAACtU,GAC3B,IAAIuU,EAAevU,EAAMqR,YAAYmD,wBACrC,OACE5T,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,uBACZuT,GAAcpT,IAAI,SAAAnD,GAAI,OACrB8C,EAAA1D,EAAA2D,cAACuT,GAAD,CACEhT,IAAKtD,EAAK+V,MACVF,OAAQY,EAAaE,IAAI3W,EAAK0D,OAC9BqS,MAAO/V,EAAK+V,MACZhB,SAAU7S,EAAM6S,SAChBrR,MAAO1D,EAAK0D,YAOX4P,MCzKXsD,eAEF,SAAAA,EAAY1U,GAAO,IAAAJ,EAAA,OAAA7C,OAAAqG,EAAA,EAAArG,CAAAqB,KAAAsW,IACf9U,EAAA7C,OAAAsG,EAAA,EAAAtG,CAAAqB,KAAArB,OAAAuG,EAAA,EAAAvG,CAAA2X,GAAAnR,KAAAnF,KAAM4B,KAqCV0R,gBAAkB,SAACL,GAMfzR,EAAKwE,SAAS,CAAEiN,iBA5CDzR,EA+CnB+U,eA/CmB5X,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KA+CF,SAAAC,IAAA,IAAAkV,EAAAsC,EAAAtX,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAOT4U,EAAe1S,EAAK8C,MAAM2O,YAAYkB,oBACtCqC,EAAYC,KAAKC,UAAUC,uBAAazC,IAR/B9U,EAAAE,KAAA,EAUKC,IAAMmH,KAAK,sBAAuB,CAAEyD,KAAM3I,EAAKI,MAAMuI,KAAM1J,OAAQe,EAAKI,MAAMnB,OAAQ4B,QAASb,EAAK8C,MAAMjC,QAASgR,OAAQmD,IAVhI,OAUPtX,EAVOE,EAAAK,KAYKP,EAAIU,KAAKwH,KAAKwP,SAGhCpV,EAAKwE,SAAS,CAAE4Q,SAAU1X,EAAIU,KAAKwH,KAAKwP,WAf3B,wBAAAxX,EAAAS,SAAAb,MA/CEwC,EAmEnBqV,WAnEmB,eAAAzW,EAAAzB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAmEN,SAAAsB,EAAO2D,GAAP,IAAA1B,EAAAwU,EAAAC,EAAAC,EAAA3P,EAAA4P,EAAA,OAAApY,EAAAC,EAAAK,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,OAcT,GAXA0E,EAAE+F,iBAIEzH,EAAQd,EAAK8C,MAAMhC,MACnBwU,EAAO,IAAII,OAAO,SAClBH,EAAQD,EAAKK,KAAK3V,EAAK8C,MAAMjC,UAAa+U,SAAS5V,EAAK8C,MAAMjC,UAAY,GAAK+U,SAAS5V,EAAK8C,MAAMjC,UAAY,IAC/G2U,GAAS,EAITxV,EAAK8C,MAAMsS,SACX,IAASvP,EAAI,EAAGA,EAAI7F,EAAK8C,MAAMsS,SAASrS,OAAQ8C,IAGxC7F,EAAK8C,MAAMjC,SAAWb,EAAK8C,MAAMsS,SAASvP,GAAGhF,UAG7C2U,GAAS,GArBZ,IA8BLD,GAAmB,GAAVC,EA9BJ,CAAA1W,EAAAhB,KAAA,gBAiCLkC,EAAKwE,SAAS,CAAEoI,UAAU,EAAOC,UAAU,IAjCtC/N,EAAAhB,KAAA,GAkCeC,IAAMmH,KAAK,oBAAqB,CAAEyD,KAAM3I,EAAKI,MAAMuI,KAAM1J,OAAQe,EAAKI,MAAMnB,OAAQ4B,QAASb,EAAK8C,MAAMjC,QAASC,MAAOA,IAlCvI,QAkCD2U,EAlCC3W,EAAAb,KAqCL+B,EAAKwE,SAAS,CAAE4Q,SAAUK,EAAQrX,KAAKwH,KAAKwP,WArCvC,QA0CI,GAATG,GAGAvV,EAAKwE,SAAS,CAAEoI,UAAU,IAGhB,GAAV4I,GAGAxV,EAAKwE,SAAS,CAAEqI,UAAU,EAAMD,UAAU,IAnDrC,yBAAA9N,EAAAT,SAAAQ,MAnEM,gBAAAP,GAAA,OAAAM,EAAAL,MAAAC,KAAAC,YAAA,GAAAuB,EAmInB6V,eAAiB,SAACrT,GAGY,WAAtBA,EAAEiG,cAAclD,IAChBvF,EAAKwE,SAAS,CAAE3D,QAAS2B,EAAEiG,cAActB,QAGnB,SAAtB3E,EAAEiG,cAAclD,IAEhBvF,EAAKwE,SAAS,CAAE1D,MAAO0B,EAAEiG,cAActB,SA5I5BnH,EAqJnB8V,gBAAkB,WAGd9V,EAAKwE,SAAS,CAAEuR,YAAa/V,EAAK8C,MAAMiT,WAAYnJ,UAAU,EAAOC,UAAU,KAxJhE7M,EA4JnBgW,YAAc,SAACxT,GAGX,IAAIyT,EAASzT,EAAEqC,OAAOkE,WAAWxD,GAC7BhE,EAAQ0U,EAAS,EAEjBC,EAAclW,EAAK8C,MAAMsS,SAAS7T,GAAO2U,YAK7C,GAAIA,EAAa,CAEb,IAAIC,EAAoB5E,cAAY6E,kBAAkBC,yBAAepB,KAAKtI,MAAMuJ,KAChFlW,EAAKwE,SAAS,CAAEkN,cAAeyE,SAK/BnW,EAAKwE,SAAS,CAAEkN,cAAeH,cAAY+E,gBAI/CtW,EAAKwE,SAAS,CAAEyR,OAAQA,EAAQM,WAAYvW,EAAK8C,MAAMyT,aAnLxCvW,EAkNnBwW,gBAAkB,WAEd,IACIC,EADAC,EAAW,GAEXC,EAAa,CAAEtQ,MAAO,SAE1BoQ,EAAczW,EAAK8C,MAAMsS,SAASwB,KAAK,SAAStZ,EAAGuZ,GAAK,OAAOvZ,EAAEuD,QAAUgW,EAAEhW,UAE7E,IAAK,IAAIgF,EAAI,EAAGA,EAAI4Q,EAAY1T,OAAQ8C,IAAK,CAEzC,IAAIhF,EAAUb,EAAK8C,MAAMsS,SAASvP,GAAGhF,QAGE,YAAnCb,EAAK8C,MAAMgU,YAAYjW,GAEvB6V,EAASxQ,KAGLlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAKxB,EAAK8C,MAAMsS,SAASvP,GAAGhF,QAAS0E,GAAIvF,EAAK8C,MAAMsS,SAASvP,GAAGhF,QAASuI,QAASpJ,EAAK+W,cAAe7V,UAAU,oBACjIF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAf,WAAoClB,EAAK8C,MAAMsS,SAASvP,GAAGhF,SAC3DG,EAAA1D,EAAA2D,cAAA,WACAD,EAAA1D,EAAA2D,cAAA,SAAOsE,GAAIvF,EAAK8C,MAAMsS,SAASvP,GAAGhF,QAAS3C,KAAK,OAAOsL,YAAaxJ,EAAK8C,MAAMsS,SAASvP,GAAG/E,MAAOc,MAAO+U,EAAYzV,UAAU,aAAaiG,MAAOnH,EAAK8C,MAAMkU,WAAWhX,EAAK8C,MAAMsS,SAASvP,GAAGhF,SAAUqG,SAAUlH,EAAKiX,eACzNjW,EAAA1D,EAAA2D,cAAA,UAAQmI,QAAS,SAAC5G,GAAOxC,EAAKgW,YAAYxT,KAA1C,oBAQQkU,EAASxQ,KAELlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAKxB,EAAK8C,MAAMsS,SAASvP,GAAGhF,QAAS0E,GAAIvF,EAAK8C,MAAMsS,SAASvP,GAAGhF,QAASuI,QAASpJ,EAAK+W,cAAe7V,UAAU,cACnIF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAf,WAAoClB,EAAK8C,MAAMsS,SAASvP,GAAGhF,SAC3DG,EAAA1D,EAAA2D,cAAA,WACAD,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,cAAclB,EAAK8C,MAAMsS,SAASvP,GAAG/E,OAHtC,MAaZ,OAAQ4V,GA/PO1W,EAoQnBiX,aAAe,SAACzU,GAEZ,IAAI0U,EAAS1U,EAAEqC,OAAOU,GAClB4B,EAAQ3E,EAAEqC,OAAOsC,MAIrBnH,EAAKwE,SAAS,SAAAO,GAAS,MAAK,CAAEiS,WAAW7Z,OAAA6H,EAAA,EAAA7H,CAAA,GAAM4H,EAAUiS,WAAjB7Z,OAAA8H,EAAA,EAAA9H,CAAA,GAA8B+Z,EAAS/P,QA3QhEnH,EAkRnB+W,cAAgB,SAACvU,GAIb,GAAyB,SAArBA,EAAEqC,OAAOgE,SAAqB,CAE9B,IAAIsO,EAAS3U,EAAEiG,cAAclD,GAGS,YAAlCvF,EAAK8C,MAAMgU,YAAYK,GACvBnX,EAAKwE,SAAS,SAAAO,GAAS,MAAK,CAAElE,QAASsW,EAAQL,YAAY3Z,OAAA6H,EAAA,EAAA7H,CAAA,GAAM4H,EAAU+R,YAAjB3Z,OAAA8H,EAAA,EAAA9H,CAAA,GAA+Bga,EAAS,oBAC3FnX,EAAK8C,MAAMqU,GAGlBnX,EAAKwE,SAAS,SAAAO,GAAS,MAAK,CAAElE,QAASsW,EAAQL,YAAY3Z,OAAA6H,EAAA,EAAA7H,CAAA,GAAM4H,EAAU+R,YAAjB3Z,OAAA8H,EAAA,EAAA9H,CAAA,GAA+Bga,EAAS,mBAhS3FnX,EA2SlBoX,aA3SkB,eAAAlY,EAAA/B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KA2SH,SAAA4B,EAAOqD,GAAP,IAAA3B,EAAAU,EAAA2U,EAAApV,EAAA8J,EAAAK,EAAAoM,EAAAjW,EAAAkW,EAAAC,EAAAC,EAAAC,EAAA5R,EAAA6R,EAAA5R,EAAA6R,EAAAC,EAAAC,EAAAjW,EAAAkW,EAAAjW,EAAAkW,EAAAC,EAAAC,EAAAC,EAAAC,EAAAja,EAAAka,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAA,OAAAxc,EAAAC,EAAAK,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cAGR+C,EAAU2B,EAAEiG,cAAclD,GAC1BhE,EAAQV,EAAU,EAClBqV,EAAclW,EAAK8C,MAAMsS,SAAS7T,GAAO2U,YACzCpV,EAAQd,EAAK8C,MAAMsS,SAAS7T,GAAOT,MAN3B1B,EAAAtB,KAAA,EASWC,IAAMmH,KAAK,mBAAoB,CAAC0D,WAAW5I,EAAKI,MAAMuI,KAAKC,aATtE,UASRgC,EATQxL,EAAAnB,KAURgN,EAAkBL,EAAWxM,KAAK4M,YAAYpE,kBAAkB+B,KACpEzF,QAAQC,IAAI8H,GAIRoM,EAAenB,EAAc3E,cAAY6E,kBAAkBC,yBAAepB,KAAKtI,MAAMuJ,KAAiB3E,cAAY+E,cAClHlV,EAAaiW,EAAa1E,oBAAoBmH,eAInC,UADXxC,EAAUpB,EAAcjB,KAAKtI,MAAMuJ,GAAe,SAnB1C,CAAA9W,EAAAtB,KAAA,SA0CR,IApBIyZ,EAAa,GACE,GAEfC,EAAa,CAEbuC,aAAc,KACdC,sBAAuB,KACvBC,oBAAqB,KACrBC,KAAM,CAAEC,WAAY,QACpBC,UAAW,CAAEC,eAAgB,aAC7BC,OAAQ,CAAEC,UAAW,WAQrB9C,EAAa,EAER5R,EAAI,EAAGA,EAAIzE,EAAW2B,OAAQ8C,IAAK,CAQxC,IANI6R,EAAa,CAAEzV,QAAS,UAC5BwV,EAAa,EACTrW,EAAWyE,GAAG2U,MAAM,iBACpB9C,EAAa,IAGR5R,EAAI,EAAGA,EAAIwR,EAAQmD,OAAO1X,OAAQ+C,IAAK,CAI5C,IAAS6R,EAAI,EAAGA,EAAIL,EAAQmD,OAAO3U,GAAG4U,kBAAkB3X,OAAQ4U,IAIxDC,EAAQN,EAAQmD,OAAO3U,GAAG4U,kBAAkB/C,GAAGgD,OAASlD,EACxDI,EAAMP,EAAQmD,OAAO3U,GAAG4U,kBAAkB/C,GAAG5U,OAAS6U,EACtDhW,EAAQ0V,EAAQmD,OAAO3U,GAAG4U,kBAAkB/C,GAAG/V,MAI/CiE,GAAK+R,GAAS/R,GAAKgS,GAGnB1a,OAAOgD,OAAOuX,EAAYF,EAAW5V,IAW7C6V,GAAcH,EAAQmD,OAAO3U,GAAG8U,KAAK7X,OAAS,EAOlDwU,EAAWrR,KAAK,CAAC9E,EAAWyE,GAAI6R,IAShCI,EAAS,GACTjW,EAAQ,GACRkW,EAAW,EACC,EACZC,EAAY,EACZC,EAAU,EACVC,EAAU,GAILC,EAAI,EAxGL,aAwGQA,EAAIZ,EAAWxU,QAxGvB,CAAA3D,EAAAtB,KAAA,cA2GCyZ,EAAWY,GAAG,GAAGqC,MAAM,iBAAsBjD,EAAWY,EAAI,IAAQD,EAAQnV,OAAQ,GA3GrF,CAAA3D,EAAAtB,KAAA,SA8GGoa,EAAQnV,OAAQ,IAEfmV,EAAQ,IAEVA,EAAQ2C,MAET/C,EAASI,EAETC,GAAO,EAEPD,EAAU,IAKNrW,EAAMoW,KACPpW,EAAMoW,GAAW,IAGjB/Z,EAAOoZ,EAAQmD,OAAO1C,GAAYT,EAAQmD,OAAO1C,GAAU7Z,KAAO,KAjItEkB,EAAA0b,GAmIQ5c,EAnIRkB,EAAAtB,KAoIS,eApITsB,EAAA0b,GAAA,GAmJS,eAnJT1b,EAAA0b,GAAA,GAkKS,iBAlKT1b,EAAA0b,GAAA,GAgLS,gBAhLT1b,EAAA0b,GAAA,GA+LS,gBA/LT1b,EAAA0b,GAAA,GA8MS,eA9MT1b,EAAA0b,GAAA,GA6NS,wBA7NT1b,EAAA0b,GAAA,GAuQS,sBAvQT1b,EAAA0b,GAAA,GAmTS,eAnTT1b,EAAA0b,GAAA,GAqVS,aArVT1b,EAAA0b,GAAA,2BAqIU9C,EAAY,GAAK,IACnBF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KAClEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCG,IACAF,IACAC,EAAY,IAEZF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCC,IACAC,GAAa,GA/IpB5Y,EAAA2b,OAAA,2BAoJQ/C,EAAY,KAAO,IACpBF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCG,IACAF,IACAC,EAAY,IAEZF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCC,IACAC,GAAa,KA9JpB5Y,EAAA2b,OAAA,2BAmKO/C,EAAY,GAAK,IACjBF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCG,IACAF,IACAC,EAAY,IAEZF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCC,IACAC,GAAa,GA7KpB5Y,EAAA2b,OAAA,2BAiLO/C,EAAY,KAAO,IACnBF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCG,IACAF,IACAC,EAAY,IAEZF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCC,IACAC,GAAa,KA3LpB5Y,EAAA2b,OAAA,2BAgMQ/C,EAAY,MAAQ,IACrBF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCG,IACAF,IACAC,EAAY,IAEZF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCC,IACAC,GAAa,MA1MpB5Y,EAAA2b,OAAA,2BA+MQ/C,EAAY,GAAK,IAClBF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCG,IACAF,IACAC,EAAY,IAEZF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,UAAK6W,KACtCC,IACAC,GAAa,GAzNpB5Y,EAAA2b,OAAA,2BA8Na3C,EAAUN,EAAO/U,OACR,IAEbuV,EAAaN,GADbK,EAAQD,EADK,MAKjB,IAMKA,IAHCG,EARW,IAOGD,EAAa,KAM9BJ,EAAUA,EAAQhP,OAAO4O,IAKrBU,EAAYV,EAAOkD,OAAOlD,EAAO/U,OAASwV,EAAWA,GACzDL,EAAQnV,OAAS,EACjBmV,EAAUA,EAAQhP,OAAOsP,GAGzB3W,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,MAAIC,UAAU,UAASF,EAAA1D,EAAA2D,cAAA,UAAK6W,OAI9DG,IAEAD,EAAY,IAGZF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,MAAIC,UAAU,UAASF,EAAA1D,EAAA2D,cAAA,UAAK6W,MAC7DC,IACAC,GAAaiD,KAAKC,KAAK7C,IAlQ9BjZ,EAAA2b,OAAA,2BAyQU3C,EAAUN,EAAO/U,OACL,IAEbuV,EAAaN,GADbK,EAAQD,EADK,MAMjB,IAMKA,IAHCG,EATW,IAQGD,EAAa,KAM9BJ,EAAUA,EAAQhP,OAAO4O,IAKrBU,EAAYV,EAAOkD,OAAOlD,EAAO/U,OAASwV,EAAWA,GACzDL,EAAQnV,OAAS,EACjBmV,EAAUA,EAAQhP,OAAOsP,GAGzB3W,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,MAAIC,UAAU,UAASF,EAAA1D,EAAA2D,cAAA,UAAK6W,OAI9DG,IAEAD,EAAY,IAGZF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,MAAIC,UAAU,UAASF,EAAA1D,EAAA2D,cAAA,UAAK6W,MAC7DC,IACAC,GAAaiD,KAAKC,KAAK7C,IA9S9BjZ,EAAA2b,OAAA,2BAoTU3C,EAAUN,EAAO/U,OACL,IAEbuV,EAAaN,GADbK,EAAQD,EADK,MAIjB,IAKKA,IAFCG,EAPW,IAMGD,EAAa,KAK9BJ,EAAUA,EAAQhP,OAAO4O,IAGrBU,EAAYV,EAAOkD,OAAOlD,EAAO/U,OAASwV,EAAWA,GACzDL,EAAQnV,OAAS,EACjBmV,EAAUA,EAAQhP,OAAOsP,GACzB3W,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,cAAYC,UAAU,cAAc4W,MAItEG,IAEAD,EAAY,IAGZF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAGnX,EAAA1D,EAAA2D,cAAA,cAAYC,UAAU,cAAc4W,KACrEC,IACAC,GAAaiD,KAAKC,KAAK7C,IAlV9BjZ,EAAA2b,OAAA,2BAuVY3C,EAAUN,EAAO/U,OACP,IAEbuV,EAAaN,GADbK,EAAQD,EADK,MAKjB,IAKKA,IAFCG,EARW,IAOGD,EAAa,KAK9BJ,EAAUA,EAAQhP,OAAO4O,IAGrBU,EAAYV,EAAOkD,OAAOlD,EAAO/U,OAASwV,EAAWA,GACzDL,EAAQnV,OAAS,EACjBmV,EAAUA,EAAQhP,OAAOsP,GACzB3W,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAIL,KAInCG,IAEAD,EAAY,IAGZF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAIL,IAClCC,IACAC,GAAaiD,KAAKC,KAAK7C,IAtX9BjZ,EAAA2b,OAAA,2BA2XY3C,GAAUN,EAAO/U,OACP,IAEbuV,GAAaN,GADbK,GAAQD,GADK,MAKjB,IAKKA,KAFCG,GARW,IAOGD,GAAa,KAK9BJ,EAAUA,EAAQhP,OAAO4O,IAGrBU,GAAYV,EAAOkD,OAAOlD,EAAO/U,OAASwV,GAAWA,IACzDL,EAAQnV,OAAS,EACjBmV,EAAUA,EAAQhP,OAAOsP,IACzB3W,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAIL,KAInCG,IAEAD,EAAY,IAGZF,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KACjEtW,EAAMoW,GAAS/R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,GAAIL,IAClCC,IACAC,GAAaiD,KAAKC,KAAK7C,KA1Z9BjZ,EAAA2b,OAAA,oBAkaAjD,EAAS,GAlaT1Y,EAAAtB,KAAA,iBAwaAga,EAAO5R,KAAKlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAK2W,EAAGvW,MAAO2V,EAAWY,GAAG,IAAKZ,EAAWY,GAAG,KAxajE,QAwG+BA,IAxG/B/Y,EAAAtB,KAAA,iBAmbToF,QAAQC,IAAI8H,GAEXjL,EAAKwE,SAAS,CAAEpD,WAAYS,EAAOjB,UAAU,CAACC,QAAQA,EAAQC,MAAMA,GAAQC,QAAQkK,GAAkB,WAElGjL,EAAKwE,SAAS,CAAE2W,OAAQ,SAvbpB/b,EAAAtB,KAAA,iBA4bJsD,GAAa,CAAC,eAClBpB,EAAKwE,SAAS,CAAEpD,WAAYA,GAAYR,UAAU,CAACC,QAAQU,EAAOT,MAAMA,GAAQC,QAAQkK,GAAmB,WAE1GjL,EAAKwE,SAAS,CAAC2W,OAAO,SA/bf,yBAAA/b,EAAAf,SAAAc,MA3SG,gBAAAJ,GAAA,OAAAG,EAAAX,MAAAC,KAAAC,YAAA,GAAAuB,EAqvBnBob,YAAc,WACV,IACI3E,EADAC,EAAW,GAMfD,EAAczW,EAAK8C,MAAMsS,SAASwB,KAAK,SAAStZ,EAAGuZ,GAAK,OAAOvZ,EAAEuD,QAAUgW,EAAEhW,UAG7E,IAAK,IAAIgF,EAAI,EAAGA,EAAI4Q,EAAY1T,OAAQ8C,IAEpC6Q,EAASxQ,KACLlF,EAAA1D,EAAA2D,cAAA,OAAKO,IAAKxB,EAAK8C,MAAMsS,SAASvP,GAAGhF,QAAS0E,GAAIvF,EAAK8C,MAAMsS,SAASvP,GAAGhF,QAASuI,QAASpJ,EAAKoX,aAAclW,UAAU,UAC9HF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAf,aAAsClB,EAAK8C,MAAMsS,SAASvP,GAAGhF,SAC7DG,EAAA1D,EAAA2D,cAAA,WACAD,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,cAAclB,EAAK8C,MAAMsS,SAASvP,GAAG/E,SAMlD,OAAQ4V,GA3wBO1W,EAgxBnBqb,cAAgB,WAEZrb,EAAKwE,SAAS,CAAE8W,MAAOtb,EAAK8C,MAAMwY,KAAMtE,WAAY,GAAIF,YAAa,MAlxBtD9W,EAuxBnBub,YAAc,WAEV,OACIva,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAAakI,QAASpJ,EAAKwb,aAC9Cxa,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,cACfF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,oBACfF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,iBACfF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,iBACfF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,mBA/xBAlB,EAsyBnByb,UAtyBmBte,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAsyBP,SAAAiC,IAAA,IAAAkc,EAAAtG,EAAA4B,EAAAF,EAAAtV,EAAAma,EAAAjN,EAAA7I,EAAAC,EAAA6C,EAAA1J,EAAA2c,EAAA,OAAAve,EAAAC,EAAAK,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,OAOR,IAAS0D,KALLka,EAAa,GACbtG,EAAWpV,EAAK8C,MAAMsS,SAASyG,QAC/B7E,EAAa7Z,OAAOgD,OAAO,GAAIH,EAAK8C,MAAMkU,YAC1CF,EAAc3Z,OAAOgD,OAAO,GAAIH,EAAK8C,MAAMgU,aAE/BE,EAEZ,IAAS2E,KAAQ7E,EAGY,YAArBA,EAAY6E,IAAuBna,GAAOma,IAGtCjN,EAAM,CAAE7N,QAASW,EAAKV,MAAOkW,EAAWxV,IAC5Cka,EAAWxV,KAAKwI,IAU5B,IAAS7I,EAAI,EAAGA,EAAIuP,EAASrS,OAAQ8C,IAGjC,IAASC,EAAI,EAAGA,EAAI4V,EAAW3Y,OAAQ+C,IAG/BsP,EAASvP,GAAGhF,SAAW6a,EAAW5V,GAAGjF,UAErCuU,EAASvP,GAAG/E,MAAQ4a,EAAW5V,GAAGhF,OAlCtC,OAyCJ6H,EAAO3I,EAAKI,MAAMuI,KAClB1J,EAASe,EAAKI,MAAMnB,OA1ChBQ,EAAA3B,KAAA,GA4CgBC,IAAMmH,KAAK,sBAAuB,CAAEyD,KAAMA,EAAM1J,OAAQA,EAAQmW,SAAUA,IA5C1F,QA4CJwG,EA5CInc,EAAAxB,KA8CR+B,EAAKwE,SAAS,CAAE4Q,SAAUwG,EAAYxd,KAAKgX,SAAU0G,SAAS,GAAQ,WAElEC,WAAW,WAAQ/b,EAAKwE,SAAS,CAAEsX,SAAS,KAAY,QAhDpD,yBAAArc,EAAApB,SAAAmB,MAtyBOQ,EA81BnBwb,YA91BmBre,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KA81BL,SAAAye,IAAA,IAAAlF,EAAAE,EAAA4E,EAAAxG,EAAA5T,EAAA,OAAAnE,EAAAC,EAAAK,KAAA,SAAAse,GAAA,cAAAA,EAAApe,KAAAoe,EAAAne,MAAA,cAINgZ,EAAc3Z,OAAOgD,OAAO,GAAIH,EAAK8C,MAAMgU,aAC3CE,EAAa7Z,OAAOgD,OAAO,GAAIH,EAAK8C,MAAMkU,YALpCiF,EAAAne,KAAA,EAQcC,IAAMmH,KAAK,sBAAuB,CAAEyD,KAAM3I,EAAKI,MAAMuI,KAAM1J,OAAQe,EAAKI,MAAMnB,OAAQ6X,YAAaA,IARjH,OAaV,IAAStV,KALLoa,EARMK,EAAAhe,KASNmX,EAAWwG,EAAYxd,KAAKwH,KAAKwP,SAIrB0B,EAEY,YAApBA,EAAYtV,WACLwV,EAAWxV,GAM1BsV,EAAc,GACd9W,EAAKwE,SAAS,CAAE4Q,SAAUA,EAAU0B,YAAaA,EAAaE,WAAYA,EAAYkF,WAAW,GAAQ,WAErGH,WAAW,WAAQ/b,EAAKwE,SAAS,CAAE0X,WAAW,KAAY,QAzBpD,wBAAAD,EAAA5d,SAAA2d,MA91BKhc,EAi4BnBmc,UAj4BmBhf,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAi4BP,SAAA6e,IAAA,IAAA3G,EAAAL,EAAA,OAAA/X,EAAAC,EAAAK,KAAA,SAAA0e,GAAA,cAAAA,EAAAxe,KAAAwe,EAAAve,MAAA,cAAAue,EAAAve,KAAA,EAGcC,IAAMmH,KAAK,iBAAkB,CAAEyD,KAAM3I,EAAKI,MAAMuI,KAAM1J,OAAQe,EAAKI,MAAMnB,OAAQgE,OAAQ,QAHvG,QAGFwS,EAHE4G,EAAApe,MAKIG,KAAK6O,QACTmI,EAAWK,EAAQrX,KAAK6O,MAAMmI,SAElCpV,EAAKwE,SAAS,CAAE8X,WAAW,EAAOlH,SAAUA,KARxC,wBAAAiH,EAAAhe,SAAA+d,MA/3BRpc,EAAK8C,MAAQ,CAETiT,YAAY,EACZlV,QAAS,GACTC,MAAO,GACP8L,UAAU,EACVC,UAAU,EACVyP,WAAW,EACXlH,SAAU,KACVkG,MAAM,EACNtE,WAAY,GACZF,YAAa,GACbgF,SAAS,EACTI,WAAW,EACXf,QAAQ,EACRlF,OAAQ,KACRM,WAAW,EACXL,YAAa,GACbqG,OAAQ,GACRC,QAAS,GACTC,QAAS,GACThL,YAAa,KACbC,cAAeH,cAAY+E,cAC3BlV,WAAY,KACZR,UAAU,KACVG,QAAQ,MA3BGf,wEAm5BV,IAAAU,EAAAlC,KAKDoO,EAAW5L,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,oBAAf,oCACX2L,EAAW7L,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,oBAAf,iCACXwb,EAAe,CAEfC,UAAW,SACXhJ,SAAU,QAed,OAVInV,KAAK4B,MAAMuI,MAAQnK,KAAKsE,MAAMwZ,WAE9B9d,KAAK2d,YAYTnb,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,QAEW,MAArB1C,KAAKsE,MAAMqY,OAAiBna,EAAA1D,EAAA2D,cAAC2b,EAAA,EAAD,CAAMC,GAAG,aAAa3b,UAAU,gBAAhC,WAAgE,KAChF,MAArB1C,KAAKsE,MAAMqY,OAAkBna,EAAA1D,EAAA2D,cAAC6b,EAAD,CAAM1b,WAAY5C,KAAKsE,MAAM1B,WAAYL,QAASvC,KAAKsE,MAAM/B,QAASH,UAAWpC,KAAKsE,MAAMlC,YAC1HI,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,kBACdF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,iBACCF,EAAA1D,EAAA2D,cAAA,KAAG8b,KAAK,WAAW7b,UAAU,gBAA7B,WACfF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,YACdF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,eAAekI,QAAS5K,KAAK6c,eAA5C,QACoB,GAAnB7c,KAAKsE,MAAMwY,KAAgBta,EAAA1D,EAAA2D,cAAA,OAAKmI,QAAS5K,KAAKid,UAAWva,UAAU,gBAAxC,QAAoE,KAC5E,GAAnB1C,KAAKsE,MAAMwY,KAAgB9c,KAAK+c,cAAgB,OAGnDva,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,WAEdF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAO+K,OAAQ1S,KAAKsE,MAAMgZ,QAASkB,KAAK,MAC/Bhc,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAWvE,MAAO8a,GACjB1b,EAAA1D,EAAA2D,cAAA,OAAKc,OAAO,KAAK+J,IAAKmR,MADvB,kBAKHjc,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAO+K,OAAQ1S,KAAKsE,MAAMoZ,UAAWc,KAAK,MACvChc,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAWvE,MAAO8a,GACjB1b,EAAA1D,EAAA2D,cAAA,OAAKc,OAAO,KAAK+J,IAAKmR,MADvB,oBAKHjc,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAO+K,OAAQ1S,KAAKsE,MAAMyT,UAAWrV,UAAU,iBAC9CF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAawE,OAAQ,kBAAMjK,EAAK8D,SAAS,CAAC+R,WAAW7V,EAAKoC,MAAMyT,cAAhE,mBAGAvV,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,KACCnF,EAAA1D,EAAA2D,cAAA,2BACAD,EAAA1D,EAAA2D,cAACic,GAAD,CAAaxL,cAAelT,KAAKsE,MAAM4O,cAAeI,gBAAiBtT,KAAKsT,kBAC5E9Q,EAAA1D,EAAA2D,cAAA,UAAQmI,QAAS5K,KAAKuW,gBAAtB,SAGD/T,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,OAIPnF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAO+K,OAAQ1S,KAAKsE,MAAMiT,WAAYiH,KAAK,MACnChc,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAawE,OAAQ,kBAAMjK,EAAKoV,oBAAhC,qBACA9U,EAAA1D,EAAA2D,cAAA,YACCD,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,KACCnF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAUZ,GAAG,UAAU4B,MAAO3I,KAAKsE,MAAMjC,QAASqG,SAAU,SAAC1E,GAAO9B,EAAKmV,eAAerT,IAAKtB,UAAU,kBAAkB+S,MAAM,iBAAiB/V,KAAK,SAASqL,UAAQ,EAAC4T,IAAI,IAAIC,IAAI,QAClL5e,KAAKsE,MAAM8J,SAAWA,EAAW,KACjCpO,KAAKsE,MAAM+J,SAAWA,EAAW,KAClC7L,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAUZ,GAAG,QAAQ4B,MAAO3I,KAAKsE,MAAMhC,MAAOoG,SAAU,SAAC1E,GAAO9B,EAAKmV,eAAerT,IAAKyR,MAAM,gBAAiBoJ,UAAU,QAE5Hrc,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,KACCnF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAQ6W,KAAK,KAAK9e,KAAK,SAASmI,MAAM,UAAU+C,QAAS,SAAC5G,GAAO9B,EAAK2U,WAAW7S,IAAK+G,UAAQ,GAA9F,gBACEvI,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAQ6W,KAAK,KAAK3W,MAAM,YAAY+C,QAAS,kBAAM1I,EAAKoV,mBAAmBvM,UAAQ,GAAnF,SAAmG,OAIpF,GAAnB/K,KAAKsE,MAAMwY,MAAiB9c,KAAKsE,MAAMsS,SAAW5W,KAAKgY,kBAAoB,KAC3EhY,KAAKsE,MAAMsS,UAA+B,GAAnB5W,KAAKsE,MAAMwY,KAAiB9c,KAAK4c,cAAgB,KAC9E5c,KAAKsE,MAAMwY,KAAO,KAAOta,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aACxCF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,YAAYkI,QAAS5K,KAAKsX,iBACvC9U,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,2BA9+BAQ,aAqhCRe,mBATf,SAAyBrC,GAGrB,MAAO,CAAEuI,KAAMvI,EAAMuC,KAAM1D,OAAQmB,EAAMgD,QAM9BX,CAAyBqS,ICniClCwI,eAGF,SAAAA,EAAYld,GAAO,IAAAJ,EAAA,OAAA7C,OAAAqG,EAAA,EAAArG,CAAAqB,KAAA8e,IACftd,EAAA7C,OAAAsG,EAAA,EAAAtG,CAAAqB,KAAArB,OAAAuG,EAAA,EAAAvG,CAAAmgB,GAAA3Z,KAAAnF,KAAM4B,KACD0C,MAAQ,CAETya,YAAa,EACbvX,MAAO,MACPwX,UAAW,GACXC,MAAO,QACPC,UAAS,GAOb1d,EAAK2d,WAAa,GAClB3d,EAAK4d,cAAgB,GACrB5d,EAAK2P,UAAY,KACjB3P,EAAK6d,YAAc7d,EAAK6d,YAAY1Z,KAAjBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KACnBA,EAAK8d,QAAU9d,EAAK8d,QAAQ3Z,KAAbhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KACfA,EAAK+d,YAAc/d,EAAK+d,YAAY5Z,KAAjBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KACnBA,EAAKge,UAAYhe,EAAKge,UAAU7Z,KAAfhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KACjBA,EAAKie,aAAeje,EAAKie,aAAa9Z,KAAlBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KACpBA,EAAKke,cAAgBle,EAAKke,cAAc/Z,KAAnBhH,OAAAiH,EAAA,EAAAjH,QAAAiH,EAAA,EAAAjH,CAAA6C,KAvBNA,mHA8BD2I,8EAKTA,2CAGO3H,EAAA1D,EAAA2D,cAAA,6CAIelD,IAAMmH,KAAK,mBAAoB,CAAE0D,WAAYD,EAAKC,oBAAnEuV,SACAC,EAAWD,EAAS/f,KAGtB6W,KAAKC,UAAUkJ,IAAanJ,KAAKC,UAAU1W,KAAKmf,cAIhDnf,KAAKmf,WAAaS,EAElB5f,KAAKgG,SAAS,SAAAO,GAAS,MAAK,CACxBwY,YAAaxY,EAAUwY,YAAc,2IAwBjD,IAJA,IAAI5W,EAAYnI,KAAKmf,WAAWhX,UAAU,GAAGE,WACzCZ,EAAY,GACZoY,EAAe,GAEVxY,EAAI,EAAGA,EAAIc,EAAU5D,OAAQ8C,IAEM,QAApCc,EAAUd,GAAGiB,eAAe,GAAGtB,EAE/BS,EAAUC,KAAKlF,EAAA1D,EAAA2D,cAAA,MAAIO,IAAKqE,EAAGuD,QAAS5K,KAAKwf,WAAYrX,EAAUd,GAAGlF,KAAK,KAEvE0d,EAAanY,KAAKlF,EAAA1D,EAAA2D,cAAA,MAAIO,IAAKqE,EAAGuD,QAAS5K,KAAKwf,WAAYrX,EAAUd,GAAGlF,KAAK,KAKlF,OACIK,EAAA1D,EAAA2D,cAAA,UACED,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,kBACfF,EAAA1D,EAAA2D,cAAA,MAAIC,UAAU,oBACdF,EAAA1D,EAAA2D,cAAA,MAAIC,UAAU,aAAd,WACAF,EAAA1D,EAAA2D,cAAA,MAAImI,QAAS5K,KAAKwf,WAAlB,OACC/X,EACAoY,6EAWK7b,gFAORwD,EAD+B,OAA/BxD,EAAEiG,cAAc6V,YACR,GAEA9b,EAAEiG,cAAc6V,YAG5B9f,KAAKgG,SAAS,CAAEwB,MAAOA,EAAOyX,MAAO,SAArCtgB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAiD,SAAAsB,IAAA,IAAA0f,EAAAC,EAAA,OAAAnhB,EAAAC,EAAAK,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cAAAgB,EAAAhB,KAAA,EAEnBC,IAAMmH,KAAK,mBAAoB,CAAEP,UAAWjE,EAAKoC,MAAMkD,MAAO4C,WAAYlI,EAAKN,MAAMuC,KAAKiG,aAFvE,OAEvC2V,EAFuCzf,EAAAb,KAGvCugB,EAAWD,EAAYngB,KAC7BsC,EAAK8D,SAAS,CAAEgZ,UAAWgB,IAJkB,wBAAA1f,EAAAT,SAAAQ,gJAevC,IAEN4f,EAYA/W,EAdMtC,EAAA5G,KAkBNkJ,EAFmB,OAVnB+W,EAFwB,IAAxBjgB,KAAKsE,MAAM0a,UAEOhf,KAAKsE,MAAM0a,UAAUkB,MAGrBlgB,KAAKmf,WAAWe,aAOY1b,GAAnByb,GAAwE,IAAxCthB,OAAOwhB,KAAKF,GAAiB1b,OAEjF,CAAC,CAAE6b,MAAO,GAAI9d,MAAO,GAAI+d,OAAQ,GAAIC,UAAW,GAAIC,KAAM,KAM1DN,EAAgBpd,IAAI,SAAA2d,GAGvB,IAAIle,EAAQke,EAAQpZ,KAAK,GAAG9E,MAAM,GAC9B+d,EAASG,EAAQpZ,KAAK,GAAGqZ,QAAQ,GAAGJ,OAAO,GAAGle,KAAK,GACnDme,EAAYE,EAAQpZ,KAAK,GAAGsZ,eAAe,GAC3CH,EAAOC,EAAQpZ,KAAK,GAAGuZ,UAAU,GACjC7T,EAAQ0T,EAAQpZ,KAAK,GAAG2F,UAAU,GAGlChG,GAFWyZ,EAAQpZ,KAAK,GAAGwZ,UAAU,GAC9BJ,EAAQpZ,KAAK,GAAGyZ,YAAY,GAC9BL,EAAQpZ,KAAK,GAAGL,GAAG,GAAGC,GAa/B,MAAO,CAAEoZ,MAAO5d,EAAA1D,EAAA2D,cAAA,OAAKsE,GAAIA,EAAIrE,UAAU,UAAUkI,QAAShE,EAAK6Y,cAAcjd,EAAA1D,EAAA2D,cAAA,OAAK6K,IAAKR,KAAqBxK,MAAOA,EAAO+d,OAAQA,EAAQC,UAAWA,EAAWC,KAAMA,KA6C9K,OAGI/d,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAUmZ,KAAG,EAACpe,UAAU,mBACxBF,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAcyB,QArCJ,CAEV,CACIqM,MAAO,QACPsL,MAAO,QACP3I,KAAM,OAEV,CACI3C,MAAO,QACPsL,MAAO,QACP3I,KAAM,OAEV,CACI3C,MAAO,SACPsL,MAAO,SACP3I,KAAM,OAEV,CACI3C,MAAO,cACPsL,MAAO,cACP3I,KAAM,OAEV,CACI3C,MAAO,OACPsL,MAAO,OACP3I,KAAM,UAaV5V,EAAA1D,EAAA2D,cAACkF,EAAA,EAAD,CAAcuB,KAAMA,kFASTlF,gFAEfhE,KAAKof,cAAgBpb,EAAEiG,cAAclD,GACrC/G,KAAK4B,MAAMd,eAAed,KAAKof,wBAGT7f,IAAMmH,KAAK,iBAAkB,CAACjC,OAAO,MAAO0F,KAAKnK,KAAK4B,MAAMuC,KAAM1D,OAAOT,KAAKof,uBAAhG4B,SAGJhhB,KAAKmR,UAAY6P,EAAUphB,KAAK6O,MAIR,SAApBzO,KAAKsE,MAAM2a,MACXjf,KAAKgG,SAAS,CAAEiZ,MAAO,UAEvBjf,KAAKgG,SAAS,CAAEiZ,MAAO,qJASf,IAGRgB,EAGAgB,EAEAb,EACA9d,EATQ2F,EAAAjI,KAERkhB,EAAYlhB,KAAKof,cAgBrB,GANIa,EADwB,IAAxBjgB,KAAKsE,MAAM0a,UACOhf,KAAKsE,MAAM0a,UAAUkB,MAErBlgB,KAAKmf,WAAWe,MAalC,IAAK,IAAI7Y,EAAI,EAAGA,EAAI4Y,EAAgB1b,OAAQ8C,IAEpC4Y,EAAgB5Y,GAAGD,KAAK,GAAGL,GAAG,GAAGC,GAAKka,IAE1BjB,EAAgB5Y,GAAGD,KAAK,GACpC6Z,EAAQhB,EAAgB5Y,GAAGD,KAAK,GAAGyZ,YAAY,GACpCZ,EAAgB5Y,GAAGD,KAAK,GAAGwZ,UAAU,GAChDR,EAAQH,EAAgB5Y,GAAGD,KAAK,GAAG2F,UAAU,GAC7CzK,EAAQ2d,EAAgB5Y,GAAGD,KAAK,GAAG9E,MAAM,SAhBjC,KACZ2e,EAAQ,KACG,KACXb,EAAQ,KACR9d,EAAQ,KAwBhB,OAEIE,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,wBACfF,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,gBACZF,EAAA1D,EAAA2D,cAAA,OAAK6K,IAAK8S,IACV5d,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aACfF,EAAA1D,EAAA2D,cAAA,MAAIC,UAAU,eAAeJ,GAC7BE,EAAA1D,EAAA2D,cAAA,0BAFA,IAEuBwe,IAG1Bze,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,gBACbF,EAAA1D,EAAA2D,cAAA,KAAGC,UAAU,eAAekI,QAAS,WAAO3C,EAAKjC,SAAS,CAACkZ,UAAS,MAApE,qBAEF1c,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,oBACXF,EAAA1D,EAAA2D,cAAC0e,EAAD,CAAU1gB,OAAQT,KAAKof,cAAejO,UAAWnR,KAAKmR,UAAWhH,KAAMnK,KAAK4B,MAAMuC,0CAoB1F,OALAnE,KAAKqf,YAAYrf,KAAK4B,MAAMuC,MAWpB3B,EAAA1D,EAAA2D,cAAA,OAAKC,UAAkC,GAAvB1C,KAAKsE,MAAM4a,SAAoB,eAAuC,SAApBlf,KAAKsE,MAAM2a,MAAmB,4BAA8B,8BAI/F,GAA1Bjf,KAAKsE,MAAMya,YAAmB,KAAOvc,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,WAE7B,GAAvB1C,KAAKsE,MAAM4a,SAAoB1c,EAAA1D,EAAA2D,cAAC2e,GAAD,MAAc,KACtB,GAAvBphB,KAAKsE,MAAM4a,SAAoB,KAC5B1c,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,4BACY,GAA1B1C,KAAKsE,MAAMya,YAAmB/e,KAAKsf,UAAY,MAK5B,GAAvBtf,KAAKsE,MAAM4a,SAAoB,KAC5B1c,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,yBACc,GAA1B1C,KAAKsE,MAAMya,YAAmB/e,KAAKuf,cAAgB,MAMjC,SAApBvf,KAAKsE,MAAM2a,OAA2C,GAAvBjf,KAAKsE,MAAM4a,SAAmBlf,KAAK0f,gBAAkB,aAxXtFxc,aAoZRe,mBANf,SAAA7D,GAEI,MAAO,CAAE+D,KAFsB/D,EAAR+D,OAMYC,EAAxBH,CAAiC6a,ICzZ1CuC,eAGL,SAAAA,EAAYzf,GAAM,IAAAJ,EAAA,OAAA7C,OAAAqG,EAAA,EAAArG,CAAAqB,KAAAqhB,IACjB7f,EAAA7C,OAAAsG,EAAA,EAAAtG,CAAAqB,KAAArB,OAAAuG,EAAA,EAAAvG,CAAA0iB,GAAAlc,KAAAnF,KAAM4B,KACD0C,MAAQ,GAFI9C,+EAYjB,OAAOxB,KAAK4B,MAAMuC,MAGjB,KAAK,KACJ,OACD,KAAK,EACJ,OAGE3B,EAAA1D,EAAA2D,cAAA,KAAG8b,KAAM,mBACR/b,EAAA1D,EAAA2D,cAAA,OAAK6K,IAAI,mGAAmGC,IAAI,YAMpH,QACC,OAEA/K,EAAA1D,EAAA2D,cAAA,WACED,EAAA1D,EAAA2D,cAAA,MAAIC,UAAU,YAEdF,EAAA1D,EAAA2D,cAAC2b,EAAA,EAAD,CAAMC,GAAG,YAAT,YAGA7b,EAAA1D,EAAA2D,cAAA,KAAG8b,KAAM,YAAT,WAKA/b,EAAA1D,EAAA2D,cAAA,KAAG8b,KAAM,gBAAT,8CAwBH,OAEC/b,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,UACdF,EAAA1D,EAAA2D,cAAA,KAAG8b,KAAK,KACP/b,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,UAAf,gBAEDF,EAAA1D,EAAA2D,cAAA,WACEzC,KAAK8L,yBA5EU5I,aAyGPe,mBANf,SAAAvF,GAEC,MAAO,CAAEyF,KAFwBzF,EAAPyF,OAMYC,EAAxBH,CAAiCod,IC5F1CC,+LAKFthB,KAAK4B,MAAMnD,6CAMJ,IAAA+C,EAAAxB,KAEP,OAIGwC,EAAA1D,EAAA2D,cAAC2b,EAAA,EAAD,KAEG5b,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,UACbF,EAAA1D,EAAA2D,cAAC8e,GAAD,MACE/e,EAAA1D,EAAA2D,cAAA,OAAKC,UAAU,aAELF,EAAA1D,EAAA2D,cAAC+e,EAAA,EAAD,KACEhf,EAAA1D,EAAA2D,cAAC+e,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWnW,IACjChJ,EAAA1D,EAAA2D,cAAC+e,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,WAAWC,UAAW,kBAC9BngB,EAAKI,MAAMsC,SACT1B,EAAA1D,EAAA2D,cAACmf,GAAD,MAEApf,EAAA1D,EAAA2D,cAACof,EAAD,SAGZrf,EAAA1D,EAAA2D,cAAC+e,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,aAAaC,UAAW,kBAChCngB,EAAKI,MAAMsC,SACT1B,EAAA1D,EAAA2D,cAAC2e,GAAD,MAEA5e,EAAA1D,EAAA2D,cAACof,EAAD,SAbd,OAgBErf,EAAA1D,EAAA2D,cAAC+e,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,WAAWI,OAAQ,kBAC3BtgB,EAAKI,MAAMsC,SACT1B,EAAA1D,EAAA2D,cAACsf,EAAD,MAEAvf,EAAA1D,EAAA2D,cAACof,EAAD,UAMfrf,EAAA1D,EAAA2D,cAACuf,EAAD,gBAjDL9e,aAsEHe,mBALf,SAAyBrC,GAEvB,MAAO,CAACsC,SAAStC,EAAMuC,OAGeC,EAAzBH,CAAkCqd,IC/C3CW,GAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MAElDC,GAAcxgB,SAASygB,eAAe,QAC5CC,IAASV,OAERtf,EAAA1D,EAAA2D,cAACggB,EAAA,EAAD,CAAUR,MAAOA,IAEhBzf,EAAA1D,EAAA2D,cAACigB,GAAD,OAGDJ","file":"static/js/main.2698b9cf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/greencheck.789bfbef.jpg\";","import axios from 'axios';\r\n\r\nexport const fetchUser = () => async dispatch => {\r\n\r\n\r\n\tconst res = await axios.get('/api/current_user');\r\n\r\n\tdispatch({ type:'fetch_user', payload:res.data })\r\n\r\n}\r\n\r\n\r\nexport const callbacklul = (pathlul) => async dispatch => {\r\n\r\n\r\n\tconst res = await axios.get('/auth/goodreads/callback');\r\n\r\n\tdispatch({type:'callbacklul', payload:res.data })\r\n\r\n\r\n}\r\n\r\nexport const notebookid = (bookid) => async dispatch => {\r\n\r\n\r\n\tdispatch({type:'notebookid', payload:bookid})\r\n}\r\n\r\n\r\nexport const calendarbookid = (bookid) => async dispatch => {\r\n\r\n\r\n\tdispatch({type:'calbookid', payload:bookid})\r\n\r\n\r\n}","import $ from \"jquery\";\r\nimport q from \"turn.js\";\r\nimport React from 'react';\r\nimport \"./styles.css\";\r\n\r\nimport * as actions from './actions';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\n\r\nclass Turn extends React.Component {\r\n    static defaultProps = {\r\n        style: {},\r\n        className: \"book\",\r\n        options: {},\r\n        pages: [\r\n            \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/01.jpg\",\r\n            \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/02.jpg\",\r\n            \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/03.jpg\",\r\n            \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/04.jpg\",\r\n            \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/05.jpg\",\r\n            \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/06.jpg\"\r\n        ],\r\n        options: {\r\n            width: 800,\r\n            height: 600,\r\n            autoCenter: true,\r\n            display: \"double\",\r\n            acceleration: true,\r\n            elevation: 50,\r\n            gradients: !$.isTouch,\r\n            when: {\r\n                turned: function(e, page) {\r\n                    //console.log(\"Current view: \", $(this).turn(\"view\"));\r\n                }\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        \r\n\r\n        if (this.el) {\r\n            $(this.el).turn(Object.assign({}, this.props.options));\r\n        }\r\n        document.addEventListener(\"keydown\", this.handleKeyDown, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.el) {\r\n            $(this.el)\r\n                .turn(\"destroy\")\r\n                .remove();\r\n        }\r\n        document.removeEventListener(\"keydown\", this.handleKeyDown, false);\r\n    }\r\n\r\n    handleKeyDown = event => {\r\n        if (event.keyCode === 37) {\r\n            $(this.el).turn(\"previous\");\r\n        }\r\n        if (event.keyCode === 39) {\r\n            $(this.el).turn(\"next\");\r\n        }\r\n    };\r\n\r\n    render() {\r\n\r\n       \r\n        let hardstyle = {width:\"400px\",height:\"800px\"};\r\n        let chapnum = this.props.coverinfo.chapnum;\r\n        let title = this.props.coverinfo.title;\r\n        let name = this.props.profile[0].name[0];\r\n \r\n\r\n        return (\r\n            <div className={this.props.className} ref={el => (this.el = el)}>\r\n\r\n                 <div className=\"hard\">\r\n                    <div className=\"noteCover\">\r\n                        <div className=\"cardTitle\">{\"Your notes for Chapter \" + this.props.coverinfo.chapnum}</div>\r\n                        <hr></hr>\r\n                        <div className=\"cardTitle2\">{this.props.coverinfo.title}</div>\r\n                    </div>\r\n                 </div>\r\n                 <div className=\"hard\"></div>\r\n                    {this.props.turnjstext.map((page, index) => (\r\n                        <div key={index} className=\"page\">\r\n                            <div className=\"turnjsPageNum\">{index+1}</div>\r\n                            <hr></hr>\r\n                            <div className=\"pageText\">\r\n                                {page}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                <div className=\"hard\">           \r\n                        <div className=\"cardTitle\">{\"Credits to YOU =) \" + name}</div>\r\n                </div>\r\n                <div className=\"hard\">\r\n                    <div className=\"cardTitle\">End Cover</div>\r\n                </div>\r\n             \r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(props) {\r\n\r\n    return { thisuser: props.auth }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, actions)(Turn);","import { combineReducers } from 'redux';\r\n\r\n\r\nimport authReducer from './authReducer';\r\nimport bookReducer from './bookReducer';\r\n\r\nexport default combineReducers({\r\n\r\n\tauth: authReducer,\r\n\tbknid:bookReducer,\r\n\r\n\r\n})","export default function(state = null, action){\r\n\r\n\tswitch(action.type){\r\n\r\n\t\tcase 'fetch_user':\r\n\t\t\t\r\n\t\t\tconsole.log(action.payload)\r\n\t\t\treturn action.payload || false;\r\n\t\tcase 'callbacklul':\r\n\t\t\tconsole.log(action.payload)\r\n\t\t\treturn action.payload || false;\r\n\t\tdefault:\r\n\t\t\t\r\n\t\t\treturn state;\r\n\t}\r\n\r\n}\r\n","export default function(state = null, action){\r\n\r\n\tswitch(action.type){\r\n\r\n\r\n\t\tcase 'notebookid':\r\n\t\t\treturn action.payload || false\r\n\r\n\t\tcase 'calbookid':\r\n\t\t\treturn action.payload || false\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\r\n\r\n\r\n\t}\r\n}","import React, { Component } from \"react\";\r\n\r\n\r\nclass FooterSec extends Component {\r\n\r\n\r\nrender() {\r\n\r\n\r\nreturn (\r\n\r\n\t\t<div className=\"footer\">\r\n\r\n\t\t\t<ul className=\"ftlinks\">\r\n\t\t\t\t<li>Copyright 2018-2019 LetsRead.com </li>\r\n\t\r\n\r\n\t\t\t</ul>\r\n\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FooterSec;","import React, { Component } from 'react';\r\n\r\n\r\n\r\nclass Spinner extends Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div>\r\n\t\t\t\t<i className=\"fa fa-spinner fa-spin\" /> Loading...\r\n\t\t\t</div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default Spinner;","import React, { Component } from 'react';\r\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'mdbreact';\r\nimport Spinner from './Spinner'\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nclass Button extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\r\n\r\n\t\t\r\n\t\t\t\tactiveshelf:{},\r\n\t\t\t\tloading:false\r\n\t\t\t\t\r\n\r\n\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tthis.activeshelves2 = {};\r\n\t\tthis.prevCounter = 0;\r\n\t\tthis.othershelves2 = [];\r\n\t\tthis.shelftitle = \"\";\r\n\t\r\n\r\n\t\tthis.renderItems = this.renderItems.bind(this);\r\n\t\tthis.renderToggle = this.renderToggle.bind(this);\r\n\t\tthis.onCheckChange = this.onCheckChange.bind(this);\r\n\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tcomponentDidMount(){\r\n\r\n\r\n\t\t\r\n\t\tthis.prevCounter = this.props.searchcounter;\r\n\t\tthis.renderToggle();\r\n\t\tthis.renderItems();\r\n\t\t\r\n\t\tthis.setState({activeshelf:this.activeshelves2});\r\n\r\n\t\r\n\t}\r\n\r\n\r\n\r\n\r\n\t onCheckChange(e,shelfid,bookId,shelfname){\r\n\r\n\t\r\n\r\n\r\n\t\r\n\t\tvar checked = e.target.checked;\r\n\t\tvar shelfadd = '';\r\n\t\tthis.activeshelves2[shelfid] = checked;\r\n\r\n\t\tthis.setState(prevState => ({\r\n\r\n\t\t\tactiveshelf:{\r\n\t\t\t\t...prevState.activeshelf,\r\n\t\t\t\t[shelfid]:this.activeshelves2[shelfid]\r\n\t\t\t},\r\n\t\t\tloading:true\r\n\t\t\t\r\n\t\t}), async () => {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tshelfadd = await axios.post('http://localhost:7000/api/addtoshelf', {\r\n\t\t\t\tname:shelfname,\r\n\t\t\t\tbook_id:bookId,\r\n\t\t\t\ta:checked ? \"\" : \"remove\"\r\n\t\t\t})\r\n\r\n\t\t\tconsole.log(shelfadd+' shelfadd')\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading:false\r\n\t\t\t\t})\r\n\r\n\t\t})\r\n\r\n\r\n\t\r\n\t}\r\n\r\n\trenderToggle(){\r\n\r\n\t\tvar bookId = this.props.bookobj.best_book[0].id[0]._;\r\n\t\tvar usershelfbooks = this.props.usershelfbooks;\r\n\t\tvar toggleitemd = [];\r\n\t\tvar trueshelf = [];\r\n\t\tthis.othershelves2= [];\r\n\t\tthis.shelftitle = undefined;\r\n\t\t\r\n\r\n\t\tif(usershelfbooks){\r\n\r\n\t\t\tconsole.log(usershelfbooks)\r\n\t\r\n\t\t\t\t\ttoggleitemd = usershelfbooks.map((book,i) => {\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(usershelfbooks[i].book[0].id[0]._ === bookId){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tfor(var j=0;j<usershelfbooks[i].shelves[0].shelf.length;j++){\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif(usershelfbooks[i].shelves[0].shelf[j].$.exclusive == \"true\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tthis.shelftitle = usershelfbooks[i].shelves[0].shelf[j].$.name;\r\n\r\n\t\t\t\t\t\t\t\t\t\t//exiting the for loop here, so for this book you're returning for true for map function.\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrueshelf.push(<DropdownToggle key={bookId} caret color=\"red\"> {this.shelftitle}</DropdownToggle>);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(usershelfbooks[i].shelves[0].shelf[j].$.exclusive == \"false\"){\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tthis.othershelves2.push(usershelfbooks[i].shelves[0].shelf[j].$.name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\treturn ( trueshelf )\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(this.othershelves2.length == 0){\r\n\t\t\t\t\t\tthis.othershelves2 = undefined;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar toggleitem = toggleitemd.filter(n => n);\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\tif(toggleitem === undefined || toggleitem.length == 0){\r\n\r\n\t\t\t\t\t\treturn  (\r\n\r\n\t\t\t\t\t\t\t<DropdownToggle caret color=\"warning\">Want to read &#63;</DropdownToggle>\r\n\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\treturn ( toggleitem )\r\n\t\t\t\t\t}\r\n\r\n\t\t}else{\r\n\r\n\r\n\t\t\treturn(<DropdownToggle caret color=\"warning\">Want to read &#63;</DropdownToggle>)\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n   renderItems(){\r\n\r\n\t \t\t\tvar ditems = [];\r\n\t \t\t\tvar bookId = this.props.bookobj.best_book[0].id[0]._;\r\n\t\t\t\tvar shelflist = this.props.shelflist;\r\n\t\t\t\t\r\n\r\n\r\n\t  if(shelflist){\r\n\r\n\r\n\t\t\t\tvar shelves = shelflist.data.GoodreadsResponse.shelves[0].user_shelf;\r\n\t\t\t\t\r\n\t\t\t\tditems = shelves.map((shelf) => {\r\n\r\n\r\n\t\t\t\t\t\t\tif(shelf.exclusive_flag[0]._ == \"true\"){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\tif(this.shelftitle){\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(this.shelftitle != shelf.name[0]){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownItem key={shelf.id[0]._}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{shelf.name[0]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t<DropdownItem key={shelf.id[0]._}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{shelf.name[0]}\r\n\t\t\t\t\t\t\t\t\t\t</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif(this.othershelves2){\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar shelfmatch = undefined;\r\n\t\t\t\t\t\t\t\t\t\tvar nomatch = undefined;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tfor(var j=0;j<this.othershelves2.length;j++){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(shelf.name[0] == this.othershelves2[j]){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.activeshelves2[shelf.id[0]._] = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshelfmatch = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={shelf.id[0]._} className=\"checkboxinput\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <label key={shelf.id[0]._}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       \t   {this.state.loading ? <Spinner/> : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \t   <input key={shelf.id[0]._} onChange={(e) => this.onCheckChange(e,shelf.id[0]._, bookId, shelf.name[0])} type=\"checkbox\" value={shelf.name[0]} checked={this.state.activeshelf[shelf.id[0]._]}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \t   {shelf.name[0]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        </label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t    \t)\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.activeshelves2[shelf.id[0]._] = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnomatch = (\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={shelf.id[0]._} className=\"checkboxinput\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <label key={shelf.id[0]._}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       \t   {this.state.loading ? <Spinner/> : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \t   <input key={shelf.id[0]._} onChange={(e) => this.onCheckChange(e,shelf.id[0]._, bookId, shelf.name[0])} type=\"checkbox\" value={shelf.name[0]}  checked={this.state.activeshelf[shelf.id[0]._]}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \t   {shelf.name[0]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        </label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t   \t\t )\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(shelfmatch){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn shelfmatch\r\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn nomatch\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tthis.activeshelves2[shelf.id[0]._] = false;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn(\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={shelf.id[0]._} className=\"checkboxinput\">\r\n\t\t\t\t\t\t\t\t\t\t       <label key={shelf.id[0]._}>\r\n\t\t\t\t\t\t\t\t\t\t       \t   {this.state.loading ? <Spinner/> : ''}\r\n\t\t\t\t\t\t\t\t\t\t    \t   <input key={shelf.id[0]._} onChange={(e) => this.onCheckChange(e,shelf.id[0]._, bookId, shelf.name[0])} type=\"checkbox\" value={shelf.name[0]} checked={this.state.activeshelf[shelf.id[0]._]}/>\r\n\t\t\t\t\t\t\t\t\t\t    \t   {shelf.name[0]}\r\n\t\t\t\t\t\t\t\t\t\t        </label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t   \t\t )\r\n\t\t\t\t\t\t\t         }\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t})\r\n\r\n\t\t\t\t\r\n\r\n\t}else{\r\n\r\n\t\tditems.push(<DropdownItem key={1}>\r\n\t\t\t\t\t\t\t\tread\r\n\t\t\t\t\t\t\t</DropdownItem>);\r\n\t\tditems.push(<DropdownItem key={2}>\r\n\t\t\t\t\t\t\t\tcurrently-reading\r\n\t\t\t\t\t\t\t</DropdownItem>);\r\n\t\tditems.push(<DropdownItem key={3}>\r\n\t\t\t\t\t\t\t\tto-read\r\n\t\t\t\t\t\t\t</DropdownItem>);\r\n\r\n\r\n\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\t//if nnot equal to searchcounter, then a new search has started and reset checkbox values from API.\r\n\r\n\t\t//console.log(JSON.stringify(Button.activeshelves,null,2)+'buttonshelf');\r\n\t\t//console.log(JSON.stringify(this.state.activeshelf,null,2)+'stateshelf');\r\n\t\t\t\r\n\t\tif(this.prevCounter != this.props.searchcounter){\r\n\r\n\t\t\tconsole.log(this.prevCounter +'uhmm' + this.props.searchcounter + 'should change');\r\n\t\t\t\r\n\t\t\t\t\tthis.prevCounter = this.props.searchcounter;\r\n\r\n\t\t\t\t\tthis.setState(prevState => {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\t\tactiveshelf:this.activeshelves2\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, () => console.log('completed ding!'))\r\n\t\t\t\t\t\t\r\n\t\t\t\r\n\r\n\r\n\t\t}\r\n\t\t\r\n\t\t\t\r\n\t\t\treturn(ditems)\r\n\t\t\t\t\t\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\trender(){\r\n\r\n\t\r\n\r\n\t\treturn(\r\n\r\n\t\t\r\n\t\t\t<div className=\"button\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Dropdown>\r\n\t\t\t\t\t\t  {this.renderToggle()}\r\n\t\t\t\t\t  \r\n\t\t\t\t\t        <DropdownMenu>  \r\n\t\t\t\t\t        \t\r\n\t\t\t\t\t        \t{this.renderItems()}\r\n\t\t\t\t\t        </DropdownMenu>\r\n\t\t\t\t\t      </Dropdown>\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t  \r\n \t\t\t \r\n\t\t\t\t\t\r\n\t\t\t</div>\r\n\r\n\t\t\t)\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction mapStateToProps(props){\r\n\r\n\treturn {thisuser:props.auth}\r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(Button);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { MDBDataTable} from 'mdbreact';\r\nimport Button from './Button';\r\nimport axios from 'axios';\r\n\r\nclass SearchResults extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.searchRef = React.createRef();\r\n\t\tthis.state = {\r\n\r\n\t\t\tsearchquery:\"\",\r\n\t\t\ttrows:this.props.tdata.rows,\r\n\t\t\ttcolumns:this.props.tdata.columns,\r\n\t\t\ttbooksarray:this.props.tdata.booksarray,\r\n\t\t\tusershelfbooksraw:this.props.usershelfbooksraw,\r\n\t\t\tshelflist:this.props.shelflist,\r\n\t\t\tsearchcounter:0\r\n\t\t\r\n\t\t}\r\n\t\tthis.handleInputChanges = this.handleInputChanges.bind(this);\r\n\t\tthis.handleSubmits = this.handleSubmits.bind(this);\r\n\t}\r\n\r\n\t componentDidMount(){\r\n\t\t\r\n\r\n\t\tvar usershelfbooks = '';\r\n\t\tvar usershelfbooksraw = this.state.usershelfbooksraw;\r\n\t\r\n\t\tif(usershelfbooksraw){\r\n\t\t\tusershelfbooks = this.state.usershelfbooksraw.data.usershelfbooks;\r\n\t\t}else{\r\n\t\t\tusershelfbooks = this.state.usershelfbooksraw;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tvar booksarray = this.state.tbooksarray;\r\n\t\tvar trows = this.state.trows;\r\n\t\tvar shelflist = this.state.shelflist;\r\n\t\tvar searchcounter = this.state.searchcounter;\r\n\r\n\t\ttrows.forEach(function(rowobj, i, trowsArray){\r\n\r\n\r\n\t\t\ttrowsArray[i].button = <Button usershelfbooks={usershelfbooks} shelflist={shelflist} bookobj={booksarray[i]} searchcounter={searchcounter}  />\r\n\r\n\t\t})\r\n\r\n\t\tthis.setState({trows:trows});\r\n\t\r\n\t}\r\n\r\n\r\n\r\n\tasync handleSubmits(e){\r\n\r\n\t\te.preventDefault();\r\n\t\tvar ee = e.currentTarget;\r\n\t\tvar event = e.currentTarget;\r\n\t\tvar dataresults = '';\r\n\t\tvar usershelfbooks ='';\r\n\t\tvar usershelfbooksraw = '';\r\n\t\tvar shelflist = '';\r\n\r\n\t\t\tif(this.props.thisuser){\r\n\r\n\t\t\t shelflist = await axios.post('http://localhost:7000/api/shelf/list',{\r\n\t\t\t\t\tuser:this.props.thisuser\r\n\t\t\t\t});\r\n\r\n\t\t\t usershelfbooksraw = await axios.post('http://localhost:7000/api/usershelfbooks', {\r\n\t\t\t\tgoodreadId:this.props.thisuser.goodreadId\r\n\t\t\t})\r\n\r\n\t\t\tusershelfbooks = usershelfbooksraw.data.usershelfbooks;\r\n\r\n\t\t\t}else{\r\n\t\t\t\t shelflist = false;\r\n\t\t\t\t usershelfbooksraw = false;\r\n\t\t\t\t usershelfbooks = false;\r\n\t\t\t}\r\n\r\n\r\n\t\tif(event.nodeName == \"DIV\"){\r\n\r\n\t\t\t\r\n\t\t\tconst form = ee.parentNode;\r\n\t\t\tconst query = form.elements[\"searchq\"].value;\r\n\t\t\tdataresults = await axios.get(`http://localhost:7000/api/search/${query}`);\r\n\r\n\r\n\r\n\t\t\tvar searchcounter = this.state.searchcounter;\r\n\t\t\t\r\n\t\t\tvar booksarray = dataresults.data.booksarray;\r\n\t\t\t\r\n\r\n\t\t\tdataresults.data.rows.forEach(function(rowobj,i,trowsArray){\r\n\r\n\t\t\t\ttrowsArray[i].button = <Button shelflist={shelflist} usershelfbooks={usershelfbooks} bookobj={booksarray[i]} searchcounter={searchcounter} />;\r\n\t\t\t})\r\n\r\n\t\t\t\r\n\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\ttrows:dataresults.data.rows, \r\n\t\t\t\ttcolumns:dataresults.data.columns, \r\n\t\t\t\ttbooksarray:dataresults.data.booksarray,\r\n\t\t\t\tsearchcounter:prevState.searchcounter + 1\r\n\r\n\t\t\t}))\r\n\t\t\r\n\r\n\t\t}else{\r\n\r\n\t\t\t\r\n\t\t\tconst form = ee;\r\n\t\t\tconst query = form.elements[\"searchq\"].value;\r\n\t\t\tdataresults = await axios.get(`http://localhost:7000/api/search/${query}`);\r\n\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t\tvar searchcounter = this.state.searchcounter;\r\n\t\t\r\n\t\t\tvar booksarray = dataresults.data.booksarray;\r\n\t\t\tdataresults.data.rows.forEach(function(rowobj,i,trowsArray){\r\n\r\n\t\t\t\ttrowsArray[i].button = <Button shelflist={shelflist} usershelfbooks={usershelfbooks} bookobj={booksarray[i]} searchcounter={searchcounter}/>;\r\n\t\t\t})\r\n\t\t\t\r\n\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\ttrows:dataresults.data.rows, \r\n\t\t\t\ttcolumns:dataresults.data.columns, \r\n\t\t\t\ttbooksarray:dataresults.data.booksarray,\r\n\t\t\t\tsearchcounter:prevState.searchcounter + 1\r\n\r\n\t\t\t}))\r\n\t\t\t\r\n\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n\t\t\r\n\r\n\r\n\t}\r\n\t\r\n\thandleInputChanges(e){\r\n\r\n\t\tthis.setState({\r\n\r\n\t\t\tsearchquery:e.target.value\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\trender(){\r\n\r\n\t\t\r\n\t\t\r\n\r\n\t\tvar tdata = {\r\n\r\n\t\t\tcolumns:this.state.tcolumns,\r\n\t\t\trows:this.state.trows\r\n\r\n\t\t};\r\n\r\n\r\n\r\n\r\n\t\treturn(\r\n\t\r\n\t\t<div>\r\n\t\t  <div className=\"topsearch\">\r\n\r\n\t\t\t<form onSubmit={this.handleSubmits} className=\"form-inline active-pink-3 active-pink-4 \">\r\n\t\t\t\t\t<div onClick={this.handleSubmits}>\r\n  \t\t\t\t\t<i onClick={this.onClicki} className=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n  \t\t\t\t\t</div>\r\n  \t\t\t\t\t<input className=\"form-control form-control-sm ml-3 w-75\" ref={this.searchRef}  required={true} type=\"text\" name=\"searchq\" value={this.state.searchquery} onChange={this.handleInputChanges} placeholder=\"Search books by title, isbn, or author!\" aria-label=\"Search\" />\r\n\t\t\t</form>\r\n\t\t  </div>\r\n\r\n\t\t\t<div>\r\n\t\t\t<MDBDataTable\r\n\t\t\t\tstriped\r\n\t\t\t\tbordered\r\n\t\t\t\tfixed\r\n\t\t\t\thover\r\n\t\t\t\tsmall\r\n\t\t\t\tpaging={false}\r\n\t\t\t\tdata={tdata}\r\n\r\n\t\t\t/>\r\n\r\n\t\t\t   </div>\r\n\t\t\t  </div>\r\n\r\n\t\t\t);\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction mapStateToProps(props){\r\n\r\n\treturn {thisuser:props.auth}\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps)(SearchResults);","import React, { Component } from 'react'; \r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport SearchResults from './SearchResults';\r\n\r\nclass Landing extends Component {\r\n\r\n\tconstructor(props){\r\n\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\r\n\t\t\tsearchquery: \"\",\r\n\t\t\tqresults:\"\",\r\n\t\t\tusershelfbooksraw:\"\",\r\n\t\t\tshelflist:\"\",\r\n\t\t\tsearchpage:false\r\n\r\n\t\t}\r\n\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n\t}\r\n\r\n\r\n\thandleInputChange(e){\r\n\r\n\t\tconst value = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\tsearchquery:value\r\n\t\t})\r\n\r\n\t}\r\n                                             \r\n\tasync handleSubmit(e){\r\n\r\n\t\te.preventDefault();\r\n\t\tvar ee = e.currentTarget;\r\n\t\tvar dataresults = '';\r\n\t\tvar shelflist = '';\r\n\t\tvar usershelfbooksraw = '';\r\n\t\tvar event = e.currentTarget;\r\n\r\n\t\tif(this.props.thisuser){\r\n\r\n\r\n\r\n\t\t shelflist = await axios.post('http://localhost:7000/api/shelf/list',{\r\n\t\t\t\t\tuser:this.props.thisuser\r\n\t\t\t\t});\r\n\r\n\t\t usershelfbooksraw = await axios.post('http://localhost:7000/api/usershelfbooks',{\r\n\t\t\tgoodreadId:this.props.thisuser.goodreadId\r\n\r\n\t\t})\r\n\r\n\t\t}else{\r\n\t\t\tshelflist = false;\r\n\t\t\tusershelfbooksraw = false;\r\n\t\t}\r\n\r\n\r\n\r\n\t\t\r\n\t\tif(event.nodeName == \"DIV\"){\r\n\r\n\t\t\t\r\n\t\t\tconst form = ee.parentNode;\r\n\t\t\tconst query = form.elements[\"searchq\"].value;\r\n\t\t\tdataresults = await axios.get(`http://localhost:7000/api/search/${query}`);\r\n\r\n\r\n\r\n\t\t\tthis.setState({qresults:dataresults.data, shelflist:shelflist, usershelfbooksraw:usershelfbooksraw, searchpage:true});\r\n\t\t\t//this.setState({searchpage:true});\r\n\t\t\r\n\r\n\t\t}else{\r\n\r\n\t\t\tconst form = ee;\r\n\t\t\tconst query = form.elements[\"searchq\"].value;\r\n\t\t\tdataresults = await axios.get(`http://localhost:7000/api/search/${query}`);\r\n\r\n\r\n\r\n\r\n\t\tthis.setState({qresults:dataresults.data, shelflist:shelflist, usershelfbooksraw:usershelfbooksraw, searchpage:true});\r\n\r\n\t\r\n\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//this.setState({searchpage:true});\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n\t\t\r\n\r\n\r\n\t}\r\n\r\n\r\n\trenderContent(){\r\n\r\n\r\n\t\tif(this.state.searchpage != true){\r\n\r\n\t\t\treturn(\r\n\r\n\r\n\t\t\t<div className=\"formcenter\">\r\n\t\t\t\t<p className=\"landtitlep\">Let's Read </p>\r\n\t\t\t\t<form onSubmit={this.handleSubmit} className=\"form-inline active-pink-3 active-pink-4 \">\r\n\t\t\t\t\t<div onClick={this.handleSubmit}>\r\n  \t\t\t\t\t<i className=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n  \t\t\t\t\t</div>\r\n  \t\t\t\t\t<input className=\"form-control form-control-sm ml-3 w-75\" required={true} type=\"text\" name=\"searchq\" value={this.state.searchquery} onChange={this.handleInputChange} placeholder=\"Search books by title, isbn, or author!\" aria-label=\"Search\" />\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\r\n\t\t\t);\r\n\r\n\t\t}else{\r\n\r\n\t\t\treturn(\r\n\t\t\t<SearchResults tdata={this.state.qresults} shelflist={this.state.shelflist} usershelfbooksraw={this.state.usershelfbooksraw}/>\r\n\t\t\t)\r\n\r\n\t\t}\r\n\r\n\r\n\t\t\r\n\t}\r\n\r\n\trender(){\r\n\r\n\t\treturn(\r\n\r\n\t\t<div className=\"centeredsearch\">\r\n\t\t\t{this.renderContent()}\r\n\t\t</div>\r\n\r\n\t\t)\r\n\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(props){\r\n\r\n\treturn {thisuser:props.auth}\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps)(Landing);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { notebookid } from  '../actions/index'\r\nimport axios from 'axios';\r\n\r\n\r\nclass Profile extends Component {\r\n\r\n\tconstructor(props){\r\n\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\r\n\t\t\tdataloaded:'notloaded',\r\n\t\t\t\r\n\r\n\t\t}\r\n\t\tthis.profileload = this.profileload.bind(this);\r\n\t\tthis.profilerender = this.profilerender.bind(this);\r\n\t\tthis.toggle = this.toggle.bind(this);\r\n\t\tthis.profileres = '';\r\n\t\r\n\r\n\t}\r\n\r\n\r\n \r\n\tcomponentDidMount(){\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\t toggle(nr) {\r\n\t \tconsole.log('toggle1')\r\n\t    let modalNumber = 'modal' + nr\r\n\t    this.setState({\r\n\t      [modalNumber]: !this.state[modalNumber]\r\n\t    }, () => console.log(this.state.modal1));\r\n  }\r\n\r\n\tasync profileload(user){\r\n\r\n\t\tif(!user.goodreadId){\r\n\r\n\t\t\treturn(<div>nodata</div>)\r\n\r\n\t\t}else{\r\n\t\t\tif(this.state.dataloaded == 'loaded'){\r\n\r\n\r\n\t\t\t}else{\r\n\r\n\t\t\t\tvar profileres = await axios.post('/api/profileinfo', {goodreadId:user.goodreadId});\r\n\t\t\t\t\r\n\t\t\t\tvar profileuserdata = profileres.data.profileinfo.GoodreadsResponse.user;\r\n\t\t\t\tthis.profileres = profileres;\r\n\r\n\t\t\t\t\r\n\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\tdataloaded:prevState.dataloaded != 'notloaded' ? null : 'loaded'\r\n\t\t\t\t}))\r\n\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\tprofilerender(){\r\n\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tvar profileuserdata = this.profileres.data.profileinfo.GoodreadsResponse.user;\r\n\t\t\tvar name = profileuserdata[0].name[0];\r\n\t\t\tvar gender = profileuserdata[0].gender[0];\r\n\t\t\tvar location = profileuserdata[0].location[0];\r\n\t\t\t//var joined = profileuserdata[0].joined[0];\r\n\t\t\t//var lastactive = profileuserdata[0].last_active[0];\r\n\t\t\tvar age = profileuserdata[0].age[0];\r\n\t\t\tvar about = profileuserdata[0].about[0];\r\n\t\t\tvar image = profileuserdata[0].image_url[0];\r\n\t\t\t//var favauthors = profileuserdata[0].favorite_authors;//rated books, get the authors from those! Top 10!\r\n\t\t\tvar favbooks = this.profileres.data.favbooks.GoodreadsResponse.reviews[0].review;//these are books on the *read* shelf with the highest ratings from the user. Top 10 books!\r\n\t\t\t//loop through review array\r\n\t\t\t//author: .book[0].authors[0].author[0].name    author[0].small_image_url[0]._\r\n\t\t\t//book: .rating(personal rating)    .book[0].small_image_url[0]  -->  .description[0]  .image_url[0]  .num_pages[0]  .publication_year  .title[0] .ratings_count[0]  .average_rating[0] .link[0]\r\n\t\t\t\r\n\r\n\t\t\tvar styles = {\r\n\r\n\t\t\t\tbackgroundImage: `url(${image})`\r\n\r\n\t\t\t}\t\t\r\n\t\t\t\r\n\t\t\treturn(\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"profiledetail\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"profileimage\" style={styles}>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"profileinfo\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<h1 className=\"profilename\">{name}</h1>\r\n\t\t\t\t\t\t\t\t<div className=\"profilelabels\">\r\n\t\t\t\t\t\t\t\t\t<div>Location: </div>\r\n\t\t\t\t\t\t\t\t\t<div>Gender:</div>\r\n\t\t\t\t\t\t\t\t\t<div>Age:</div>\r\n\t\t\t\t\t\t\t\t\t<div>About me:</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"profiledata\">\r\n\t\t\t\t\t\t\t\t\t<div>{location}</div>\r\n\t\t\t\t\t\t\t\t\t<div>{gender != \"\" ? gender:\"n/a\"}</div>\r\n\t\t\t\t\t\t\t\t\t<div>{age!= \"\" ? age:\"n/a\"}</div>\r\n\t\t\t\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t\t\t\t<div className=\"quotation\">{about}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\r\n\t\t\t\t\r\n\t\t\t\t)\r\n\r\n\t}\r\n\r\n\tgalleryrender(){\r\n\r\n\t\t\r\n\r\n\t\tvar imagesarray =[];\r\n\t\tvar imgempty = \"https://i.imgur.com/RmQGVhT.png\";\r\n\t\tvar favbooks = this.profileres.data.favbooks.GoodreadsResponse.reviews[0].review;\r\n\t\t//console.log(JSON.stringify(favbooks,null,2));\r\n\r\n\r\n\t\tfor(var i=0;i<9;i++){\r\n\r\n\t\t\t//console.log(JSON.stringify(favbooks[i].book[0].small_image_url[0]));\r\n\t\t\tif( !(favbooks[i])){\r\n\t\t\t\timagesarray.push(<figure key={i}><img src={imgempty} alt=\"\"></img></figure>);\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\timagesarray.push(<figure key={i} onClick={() => this.toggle(1)}><img src={favbooks[i].book[0].image_url[0]} alt=\"\"></img></figure>);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\r\n\t\t\t\treturn(\r\n\r\n\t\t\t\t\t\t<div className=\"gallery1\">\r\n\r\n\t\t\t\t\t\t\t<div className=\"container2\">\r\n\r\n\t\t\t\t\t\t\t\t<div id=\"carousel\">\r\n\t\t\t\t\t\t\t\t\t{imagesarray}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t}\r\n\r\n\r\n\r\n\r\n\t\r\n\trender(){\r\n\r\n\t\tthis.profileload(this.props.thisuser);\r\n\r\n\t\treturn(\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"profilecontainer\">\r\n\r\n\t\t\t\t\t{this.state.dataloaded != 'notloaded' ? this.profilerender() : <div className=\"loader\"></div>}\r\n\t\t\t\t\t{this.state.dataloaded != 'notloaded' ? this.galleryrender() : <div></div>}\r\n\t\t\t\t\t\r\n\t\t\t\t<div className=\"favbookscontainer\">\r\n\t\t\t\t\t<div className=\"favbookstitle\">Favorite books</div>\r\n\t\t\t\t\t<div className=\"favbooksicon\">\r\n\t\t\t\t\t\t<img src=\"https://i.imgur.com/600kya8.jpg\"></img>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t  \r\n\t\t\t\t</div>\r\n\t\t\t\r\n\r\n\t\t\t)\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction mapStateToProps(props){\r\n\r\n\r\n\treturn {thisuser:props.auth}\r\n}\r\n\r\nexport default connect(mapStateToProps,notebookid)(Profile);","import React, { Component } from 'react';\r\nimport dateFns from 'date-fns';\r\nimport axios from 'axios';\r\nimport { Container, Button, Modal, ModalBody, ModalHeader, ModalFooter } from 'mdbreact';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport {connect} from 'react-redux';\r\n\r\n\r\n\r\n\r\n\r\nclass Calendar extends Component {\r\n\r\n\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcurrentMonth: new Date(),\r\n\t\t\tselectedDate: new Date(),\r\n\t\t\tbooksched: this.props.booksched,\r\n\t\t\tbookid:this.props.bookid,\r\n\t\t\tuser:this.props.user,\r\n\t\t\tcreatemodal:false,\r\n\t\t\teditmodal:false,\r\n\t\t\twarning1:false,\r\n\t\t\twarning2:false,\r\n\t\t\twarning3:false,\r\n\t\t\tstartdate:null, \r\n\t\t\tenddate:null,\r\n\t\t\tcalchange:false,\r\n\t\t\tsaveddates:null,\r\n\t\t\ttitlenum:1\r\n\r\n\t\t}\r\n\r\n\tthis.togglee = false;\r\n\tthis.togsd = null;//startdate for modale (edit one)\r\n\tthis.toged = null;//enddate for modale (edit one)\r\n\t}\r\n\r\n\r\n\t async componentDidMount(){\r\n\r\n\t \t//since preview is of a specific book, we need the user and bookid for the api data. action is get/save/delete. get to retrieve initial data.\r\n\t \t//to render the book dates visually. if there are no scheduled dates saved, titlenum is set to 0. titlenum is the index for eaach saved date, so that\r\n\t \t//when clicking on a saved date visually, we can use that titlenum, to reference that saved date in mongodb, which is in an array of svds[key]ects, and edit it or delete it.\r\n\t \t//titlenum will be the last saved number, with one added to it, for the next date svds[key]ect to be saved.\r\n\t \t\r\n\t \t\r\n\t \tconst datesres = await axios.post('/api/booksched',{user:this.state.user, bookid:this.state.bookid, action:\"get\"});\r\n\t \tvar dates;\r\n\r\n\t \tif(datesres.data.dates){\r\n\t \t\tconsole.log(datesres.data.dates)\r\n\t \t\tdates = datesres.data.dates.datesched;\r\n\t \t\tif(dates && (dates.length > 0)){\r\n \t\t\tthis.setState({ saveddates:dates, titlenum:dates[dates.length-1].titlenum + 1 })\r\n \t\t}\r\n\r\n\r\n\t \t}\r\n\r\n\r\n\r\n\t  }\r\n\r\n\r\n\t  addSched =  async (e) => {\r\n\r\n\t  \t\r\n\t  \r\n\r\n\t  \tvar startdate = this.state.startdate;\r\n\t  \tvar enddate = this.state.enddate;\r\n\r\n\t\tif(startdate != null && enddate != null){\r\n\t\t\t//adding a new date cant be null, and startdate has to be less than enddate.\r\n\t\t\tif(startdate < enddate){\r\n\t\t\t\r\n\t\t\t\tvar svds = this.state.saveddates;\r\n\t\t\t\tvar getdata = true;\r\n\r\n\t\t\t//chek for existing date conflicts. loop through each saved date svds[key]ect, and if selected startdate is in between existing start date or end date, then getdata is false. same for enddate.\r\n\t\t\tif(svds != null){\r\n\t\t\t\tfor(var i=0;i<svds.length;i++){\r\n\r\n\r\n\t\t\t\t\tif((startdate >= dateFns.parse(svds[i].startdate) && startdate <= dateFns.parse(svds[i].enddate)) || (enddate >= dateFns.parse(svds[i].startdate) && enddate <= dateFns.parse(svds[i].enddate))){\r\n\r\n\t\t\t\t\t\tgetdata = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif((dateFns.parse(svds[i].startdate) >= startdate && dateFns.parse(svds[i].startdate) <= enddate) || (dateFns.parse(svds[i].enddate) >= startdate && dateFns.parse(svds[i].enddate) <= enddate)){\r\n\r\n\t\t\t\t\t\t\tgetdata = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t\tif(getdata == false){\r\n\t\t\t\t\tthis.setState({warning1:false,warning2:false,warning3:true})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.setState({warning1:false,warning2:false, warning3:false})\r\n\t\t\t\t\tvar datesched = {startdate:startdate.toString(), enddate:enddate.toString(), titlenum:this.state.titlenum}\r\n\t\t\t\t\tconst datesres = await axios.post('/api/booksched', {user:this.state.user, bookid:this.state.bookid, action:\"save\", datesched:datesched});\r\n\t\t\t\t\r\n\t\t\t\t\tthis.setState({saveddates:datesres.data.dates.datesched, titlenum:datesres.data.dates.datesched[datesres.data.dates.datesched.length-1].titlenum + 1})\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\r\n\r\n\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState({warning2:true, warning1:false, warning3:false})\r\n\t\t\t}\r\n\t\r\n\r\n\t\t}else{\r\n\r\n\t\t\tthis.setState({warning1:true, warning2:false, warning3:false})\r\n\r\n\t\t}\r\n\r\n\t\t//this.setState({warning:true})\r\n\t \t \r\n\r\n\t \t// const sched = await axios.post('/api/booksched', {user:this.state.user});\r\n\r\n\r\n\t  }\r\n\r\n\r\n\r\n\r\n\t  //for when you click on a displayed schedule on the calendar. it opens up a modal with the current dates to edit.  save, delete, cancel.\r\n\t  editSched = async (e) => {\r\n\r\n\r\n\t\t  \tvar startdate = this.state.startdate;\r\n\t\t  \tvar enddate = this.state.enddate;\r\n\r\n\t\t\tif(startdate != null && enddate != null){\r\n\r\n\t\t\t\tif(startdate < enddate){\r\n\r\n\t\t\t\t\tvar svds = {...this.state.saveddates}\r\n\t\t\t\t\tvar getdata = true;\r\n\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tfor(var key in svds){\r\n\t\t\t\t\t\tif(svds[key].titlenum == this.editnum){\r\n\t\t\t\t\t\t\t//svds.splice(i,1)\r\n\t\t\t\t\t\t\tconsole.log(svds[key])\r\n\t\t\t\t\t\t\tdelete svds[key]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t//chek for existing date conflicts. loop through each saved date svds[key]ect, and if selected startdate is in between existing start date or end date, then getdata is false. same for enddate.\r\n\t\t\t\t\r\n\t\t\t\t\t\tfor(var key in svds){\r\n\r\n\t\t\t\t\t\t\t\r\n\r\n\r\n\r\n\t\t\t\t\t\t\tif((startdate >= dateFns.parse(svds[key].startdate) && startdate <= dateFns.parse(svds[key].enddate)) || (enddate >= dateFns.parse(svds[key].startdate) && enddate <= dateFns.parse(svds[key].enddate))){\r\n\r\n\t\t\t\t\t\t\t\tconsole.log('false');\r\n\t\t\t\t\t\t\t\tgetdata = false;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif((dateFns.parse(svds[key].startdate) >= startdate && dateFns.parse(svds[key].startdate) <= enddate) || (dateFns.parse(svds[key].enddate) >= startdate && dateFns.parse(svds[key].enddate) <= enddate)){\r\n\r\n\t\t\t\t\t\t\t\tconsole.log('false');\r\n\t\t\t\t\t\t\t\tgetdata = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif(getdata == false){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(this.state.saveddates)\r\n\t\t\t\t\t\tthis.setState({warning1:false,warning2:false,warning3:true})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(this.state.saveddates)\r\n\t\t\t\t\t\tthis.setState({warning1:false,warning2:false, warning3:false})\r\n\t\t\t\t\t\tvar datesched = {startdate:startdate.toString(), enddate:enddate.toString(), titlenum:this.editnum}\r\n\t\t\t\t\t\tconst datesres = await axios.post('/api/booksched', {user:this.state.user, bookid:this.state.bookid, action:\"edit\", datesched:datesched});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({saveddates:datesres.data.datesched},()=>{console.log(this.state.saveddates+\"FUCKINGHELLO\")})\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\r\n\r\n\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({warning2:true, warning1:false, warning3:false})\r\n\t\t\t\t}\r\n\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({warning1:true, warning2:false, warning3:false})\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t  \r\n\r\n\r\n\r\n\r\n\t  }\r\n\r\n\r\n\r\n\r\n\t  deleteSched = async () => {\r\n\r\n\t  \tconsole.log('casket')\r\n\t  \tvar editnum = this.editnum;\r\n\t  \tvar dateres = await axios.post('/api/booksched', {user:this.state.user, bookid:this.state.bookid, titlenum:editnum, action:\"delete\", startdate:this.state.startdate, enddate:this.state.enddate});\r\n\t  \tconsole.log(editnum)\r\n\t  \tconsole.log(dateres.data)\r\n\t  \tthis.setState({saveddates:dateres.data.book.datesched}, ()=>{console.log('deleted')})\r\n\r\n\t  \tthis.togglemodale();\r\n\r\n\r\n\r\n\r\n\r\n\t  }\r\n\r\n\r\n\r\n\t  //for onChange handler of datepickers. setState of new values.\r\n\t  schedinput = (value,e) => {\r\n\r\n\t  \r\n\t  \t//check if end date is ahead of startdate\r\n\r\n\t  \tif(e == \"startdate\"){\r\n\r\n\t  \t\t\r\n\t  \t\tthis.setState(prevState => {\r\n\r\n\t  \t\t\treturn {\r\n\r\n\t  \t\t\t\tstartdate:value, \r\n\t  \t\t\t\tcalchange:true\r\n\r\n\t  \t\t\t\t}\r\n\r\n\t  \t\t})\r\n\r\n\t  \t}else{\r\n\t  \t\t\r\n\t  \t\tthis.setState(prevState => {\r\n\t  \t\t\treturn{\r\n\r\n\t\t \t\tenddate:value,\r\n\t\t \t\tcalchange:true\r\n\r\n\t  \t\t\t}\r\n\r\n\r\n\t  \t\t})\r\n\r\n\t  \t}\r\n\t\r\n\r\n\t  }\r\n\r\n\r\n\t\t  togglemodalc = () => {\r\n\r\n\t\t\t//the calendar edit starts off with the selectedDate. calchange is the boolean that is used to determine if the onchange values are updated visually.\r\n\t\t\t//calchange is initially false, so that we start off with selectedDate. It becomes true in the onChange handler. Then, when we close the modal, we set it to false again,\r\n\t\t\t//using the same modalc handler, so that when we open it again, and onchange happens, we dont use the previous start/end dates.\r\n\t\t\t\tconsole.log(this.state.startdate)\r\n\t\t\t\tconsole.log(this.state.selectedDate)\r\n\r\n\r\n\t\t\t    \t//check for togglemodale. If you click on a square, and also on the blue spot, both modals with pop up. \r\n\t\t\t    \t//this will immediately reverse the createmodal and keep the editmodal.\r\n\t\t\t    \t\r\n\t\t\t    \tif(this.togglee === \"open\"){\r\n\t\t\t    \t\tconsole.log(this.state.createmodal)\r\n\t\t\t    \t\tthis.togglee = false;\r\n\t\t\t    \t\tthis.setState({\r\n\t\t\t    \t\t\tcreatemodal:false,\r\n\t\t\t   \t\t\t\twarning1:false,\r\n\t\t\t\t\t\t    warning2:false,\r\n\t\t\t\t\t\t    warning3:false,\r\n\t\t\t\t\t\t    calchange:false,\r\n\t\t\t    \t\t\tstartdate:this.togsd,\r\n\t\t\t    \t\t\tenddate:this.toged\r\n\r\n\t\t\t    \t\t})\r\n\t\t\t    \t}else{\r\n\r\n\r\n\t\t  \t\t\t\tthis.setState({\r\n\t\t\t\t\t      createmodal:!this.state.createmodal,\r\n\t\t\t\t\t      warning1:false,\r\n\t\t\t\t\t      warning2:false,\r\n\t\t\t\t\t      warning3:false,\r\n\t\t\t\t\t      calchange:false,\r\n\t\t\t\t\t      startdate:this.state.selectedDate,\r\n\t\t\t\t\t      enddate:this.state.selectedDate\r\n\t\t\t\t\t    })\r\n\r\n\r\n\r\n\t\t\t    \t}\r\n\r\n\r\n\r\n\r\n\t\r\n\t  \t\t\r\n\r\n\t\t\t}\r\n\r\n\r\n\t  \t  togglemodale = (e) => {\r\n\r\n\t  \t  \r\n\r\n\t  \t  \tif(e){\r\n\r\n\t  \t  \t\r\n\r\n\t\t  \t  \tvar titlenum = e.currentTarget.id;\r\n\t\t  \t  \r\n\t\t  \t  \tconsole.log(e.currentTarget)\r\n\t\t  \t  \tthis.editnum = titlenum;\r\n\t\t  \t  \r\n\t\t  \t  \tvar saveddates = this.state.saveddates;\r\n\t\t  \t  \tvar found = false;\r\n\t\t  \t  \tvar sd;\r\n\t\t  \t  \tvar ed;\r\n\t\t  \t  \tfor(var obj of saveddates){\r\n\t\t  \t  \t\r\n\r\n\t\t  \t  \t\tif(obj.titlenum == titlenum){\r\n\t\t  \t  \t\t\t\r\n\r\n\t\t  \t  \t\t\tthis.togsd = dateFns.parse(obj.startdate);\r\n\t\t  \t  \t\t\tthis.toged = dateFns.parse(obj.enddate);\r\n\t\t  \t  \t\t\tsd = obj.startdate;\r\n\t\t  \t  \t\t\ted = obj.enddate;\r\n\t\t  \t  \t\t\tfound = true;\r\n\t\t  \t  \t\t\t\r\n\r\n\t\t  \t  \t\t\t\r\n\t\t  \t  \t\t}\r\n\t\t  \t  \t}\r\n\r\n\t\t  \t  \tif(found){\r\n\t\t  \t  \t\t\tconsole.log(sd, ed, this.togsd);\r\n\t\t\t  \t  \t\tthis.setState({startdate:sd, enddate:ed}, ()=> {\r\n\t\t  \t  \t\t\t\t  \tthis.togglee = \"open\";\r\n\t\t\t\t\t\t\t    this.setState({\r\n\t\t\t\t\t\t\t      editmodal: !this.state.editmodal\r\n\t\t\t\t\t\t\t    }, ()=>{console.log(\"toggleopen2\")});\r\n\r\n\r\n\r\n\t\t  \t  \t\t\t\t})\r\n\t\t  \t  \t\t}\r\n\t\t  \t  \t\telse{\r\n\t\t  \t  \t\t\tthis.setState({editmodal:!this.state.editmodal})\r\n\t\t  \t  \t\t}\r\n\r\n\t\t  \t  }else{\r\n\r\n\t\t  \t  \tthis.setState({editmodal:!this.state.editmodal})\r\n\r\n\r\n\t\t  \t  }\r\n\t\t  \t \r\n\r\n\t  \t  \t\t\r\n\t  \t\r\n\r\n\r\n\t  \t\t}\r\n\r\n\r\n\r\n\r\n\t\tonDateClick = day => {\r\n\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t//call clickhandler for modal\r\n\t\t\t    this.setState({\r\n\t\t\t\t      selectedDate: day\r\n\r\n\t\t\t\t    }, ()=>this.togglemodalc());\r\n\t\t\t}\r\n\r\n\t\tnextMonth = () => {\r\n\r\n\t\t\t  this.setState({\r\n\t\t\t\t    currentMonth: dateFns.addMonths(this.state.currentMonth, 1)\r\n\t\t\t\t  });\r\n\t\t}\r\n\r\n\t\tprevMonth = () => {\r\n\r\n\t\t\t\t this.setState({\r\n\t\t\t\t    currentMonth: dateFns.subMonths(this.state.currentMonth, 1)\r\n\t\t\t\t  });\r\n\t\t}\r\n\r\n\r\n\r\n\trenderHeader(){\r\n\r\n\t\tconst dateFormat = \"MMMM YYYY\";\r\n\r\n\t\treturn(\r\n\t\t\t\t<div className=\"header row flex-middle\">\r\n\t\t\t\t\t<div className=\"col col-start\">\r\n\t\t\t\t\t\t<div className=\"icon\" onClick={this.prevMonth}>\r\n\t\t\t\t\t\t\tchevron_left\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col col-center\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{dateFns.format(this.state.currentMonth,dateFormat)}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col col-end\" onClick={this.nextMonth}>\r\n\t\t\t\t\t\t<div className=\"icon\">chevron_right</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t)\r\n\r\n\t}\r\n\r\n\trenderDays(){\r\n\r\n\t\tconst dateFormat = \"dddd\";\r\n\t\tconst days = [];\r\n\r\n\t\tlet startDate = dateFns.startOfWeek(this.state.currentMonth);\r\n\t\tfor(let i=0;i<7;i++){\r\n\r\n\t\t\tdays.push(\r\n\t\t\t\t<div className=\"col col-center\" key={i}>\r\n\t\t\t\t\t{dateFns.format(dateFns.addDays(startDate,i), dateFormat)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t}\r\n\r\n\r\n\t\treturn <div className=\"days row\">{days}</div>\r\n\r\n\r\n\r\n\t}\r\n\r\n\trenderCells(){\r\n\r\n\t\tconst { currentMonth, selectedDate } = this.state;\r\n\t\tconst monthStart = dateFns.startOfMonth(currentMonth);\r\n\t\tconst monthEnd = dateFns.endOfMonth(monthStart);\r\n\t\tconst startDate = dateFns.startOfWeek(monthStart);\r\n\t\tconst endDate = dateFns.endOfWeek(monthEnd);\r\n\r\n\t\tconst dateFormat = \"D\";\r\n\t\tconst rows = [];\r\n\r\n\t\tlet days = [];\r\n\t\tlet day = startDate;\r\n\t\tlet formattedDate = \"\";\r\n\r\n\t\tlet svdsnum = this.state.saveddates ? this.state.saveddates.length : 0;\r\n\t\tlet saveddates = this.state.saveddates;\r\n\r\n\r\n\t\r\n\t\t\r\n\r\n\t\twhile(day <= endDate){\r\n\t\t\tfor(let i=0;i<7;i++){\r\n\t\t\t\tformattedDate = dateFns.format(day,dateFormat);\r\n\t\t\t\tconst cloneDay = day;\r\n\t\t\t\tvar colorsched = [];\r\n\r\n\r\n\r\n\r\n\t\t\t\tfor(var j=0;j<svdsnum;j++){\r\n\r\n\t\t\t\r\n\t\t\t\t\tvar sd = dateFns.format(saveddates[j].startdate, 'MM/DD/YYYY');\r\n\t\t\t\t\tvar ed = dateFns.format(saveddates[j].enddate, 'MM/DD/YYYY');\r\n\t\t\t\t\tvar cDay = dateFns.format(cloneDay, 'MM/DD/YYYY');\r\n\r\n\r\n\r\n\r\n\t\t\t\t\tif((cDay >= sd) && (cDay <= ed)){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tcolorsched.push(<div key={saveddates[j].titlenum} id={saveddates[j].titlenum} onClick={this.togglemodale} className=\"calsched\"></div>);\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\tdays.push(\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`style-13 col cell ${\r\n\r\n\t\t\t\t\t\t\t!dateFns.isSameMonth(day,monthStart)\r\n\t\t\t\t\t\t\t\t?\"disabled\"\r\n\t\t\t\t\t\t\t\t:dateFns.isSameDay(day,selectedDate) ? \"selected\" : \"\"\r\n\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tkey={day}\r\n\t\t\t\t\t\tonClick={() => this.onDateClick(dateFns.parse(cloneDay))}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<span className=\"number\">{formattedDate}</span>\r\n\t\t\t\t\t\t{colorsched}\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t);\r\n\r\n\r\n\t\t\t\t\tday = dateFns.addDays(day,1);\r\n\r\n\t\t\t}\r\n\r\n\t\t\trows.push(\r\n\r\n\t\t\t\t<div className=\"row\" key={day}>\r\n\t\t\t\t\t{days}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t);\r\n\r\n\t\t\tdays = [];\r\n\r\n\t\t}\r\n\r\n\r\n\t\treturn <div className=\"body\">{rows}</div>\r\n\r\n\t}\r\n\r\n\r\n\trtogsd = () => {\r\n\r\n\t\tvar sdsd = this.togsd;\r\n\t\tvar stringsd = \"\";\r\n\t\tif(sdsd != null){\r\n\t\r\n\t\t\tstringsd = dateFns.format(sdsd, 'ddd MMM DD, YYYY hh:mm A');\r\n\t\t\tstringsd = stringsd.toString();\r\n\r\n\t\t}\r\n\r\n\t\r\n\t\t\r\n\r\n\t\treturn(\r\n\t\t\t<div className=\"editdates\">{stringsd}</div>\r\n\t\t)\r\n\t} \r\n\r\n\trtoged = () => {\r\n\r\n\t\tvar sdsd = this.toged;\r\n\t\tvar stringsd = \"\";\r\n\t\tif(sdsd != null){\r\n\t\r\n\t\t\tstringsd = dateFns.format(sdsd, 'ddd MMM DD, YYYY hh:mm A');\r\n\t\t\tstringsd = stringsd.toString();\r\n\t\r\n\t\t}\r\n\r\n\t\r\n\t\t\r\n\r\n\t\treturn(\r\n\t\t\t<div className=\"editdates\">{stringsd}</div>\r\n\r\n\t\t)\r\n\r\n\t}\r\n\r\n\t\trender(){ \r\n\t\t\t\r\n\t\t\tvar sd = \"startdate\";\r\n\t\t\tvar ed = \"enddate\";\r\n\t\t\tvar warning1 = \"Make sure you select both dates\";\r\n\t\t\tvar warning2 = \"Make sure start date is before the end date\";\r\n\t\t\tvar warning3 = \"Date range conflict with existing dates\";\r\n\r\n\t\t\treturn(\r\n\t\t\t\t\t  <div className=\"calendar\">\r\n\t\t\t\t\t\t{this.renderHeader()}\r\n\t\t\t\t\t\t{this.renderDays()}\r\n\t\t\t\t\t\t{this.renderCells()}\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t\t<Modal isOpen={this.state.editmodal} toggle={this.togglemodale}>\r\n\t\t\t\t          <ModalHeader toggle={this.togglemodale}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tEdit this current schedule\r\n\t\t\t\t\t\t\t</div>\t\t\t\t  \r\n\t\t\t\t          </ModalHeader>\r\n\t\t\t\t          <ModalBody>\r\n\t\t\t\t      \t\t<div>\r\n\t\t\t\t                <div className=\"editlabel\">Start:</div>\r\n\t\t\t\t\t\t          {this.rtogsd()}\r\n\t\t\t\t\t\t        <div className=\"editlabel\">End:</div>\r\n\t\t\t\t\t\t          {this.rtoged()}\r\n\t\t\t\t\t        </div>\r\n\t\t\t\t            <span className=\"editlabel2\">Start Date:</span>\r\n\t\t\t\t            <DateTimePicker\t\r\n\t\t\t\t              className=\"dtpickstart\"\t\t\t          \r\n\t\t\t\t\t\t\t  onChange={(value) => {this.schedinput(value, sd)}}\r\n\t\t\t\t\t\t\t  value={this.state.startdate}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t            <br/>\r\n\t\t\t\t            <span className=\"editlabel2\">End      Date:</span>\r\n\t\t\t\t            <DateTimePicker\r\n\t\t\t\t              className=\"dtpickend\"\r\n\t\t\t\t\t\t\t  onChange={(value) => {this.schedinput(value, ed)}}\r\n\t\t\t\t\t\t\t  value={this.state.enddate}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{this.state.warning1  == false ? null : <div>{warning1}</div>}\r\n\t\t\t\t\t\t\t{this.state.warning2 == false ? null : <div>{warning2}</div>}\r\n\t\t\t\t\t\t\t{this.state.warning3 == false ? null : <div>{warning3}</div>}\r\n\r\n\r\n\t\t\t\t          </ModalBody>\r\n\t\t\t\t          <ModalFooter>\r\n\t\t\t\t       \t\t<Button color=\"primary\" onClick={this.editSched}>Save changes</Button>\r\n\t\t\t\t       \t\t<Button color=\"green\" onClick={this.deleteSched}>Delete</Button>\r\n\t\t\t\t            <Button color=\"secondary\" onClick={this.togglemodale}>Close</Button>\r\n\t\t\t\t          </ModalFooter>\r\n\t\t\t\t        </Modal>\r\n\r\n\r\n\r\n\t\t\t\t        <Modal isOpen={this.state.createmodal} toggle={this.togglemodalc}>\r\n\t\t\t\t          <ModalHeader toggle={this.togglemodalc}>Set this book's reading schedule</ModalHeader>\r\n\t\t\t\t          <ModalBody>\r\n\t\t\t\t            Start Date:\r\n\t\t\t\t            <DateTimePicker\t\t\t\t          \r\n\t\t\t\t\t\t\t  onChange={(value) => {this.schedinput(value, sd)}}\r\n\t\t\t\t\t\t\t  value={this.state.calchange != false ? this.state.startdate : this.state.selectedDate}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t            <br/>\r\n\t\t\t\t            End Date:\r\n\t\t\t\t            <DateTimePicker\r\n\t\t\t\t\t\t\t  onChange={(value) => {this.schedinput(value, ed)}}\r\n\t\t\t\t\t\t\t  value={this.state.calchange != false ? this.state.enddate : this.state.selectedDate}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{this.state.warning1  == false ? null : <div>{warning1}</div>}\r\n\t\t\t\t\t\t\t{this.state.warning2 == false ? null : <div>{warning2}</div>}\r\n\t\t\t\t\t\t\t{this.state.warning3 == false ? null : <div>{warning3}</div>}\r\n\r\n\r\n\t\t\t\t          </ModalBody>\r\n\t\t\t\t          <ModalFooter>\r\n\t\t\t\t       \t\t<Button color=\"primary\" onClick={this.addSched}>Save changes</Button>\r\n\t\t\t\t            <Button color=\"secondary\" onClick={this.togglemodalc}>Close</Button>{' '}\r\n\t\t\t\t          </ModalFooter>\r\n\t\t\t\t        </Modal>\r\n\r\n\t\t\t\t      </div>\r\n\t\t\t\t)\r\n\t\t}\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default Calendar;","import React, {Component} from 'react';\r\nimport Draft from 'draft-js';\r\n\r\n\r\n\r\n      const {Editor, EditorState, RichUtils} = Draft;\r\n\r\n      class DraftEditor extends React.Component {\r\n        constructor(props) {\r\n          super(props);\r\n          this.state = {editorState: this.props.initialEditor};\r\n\r\n          this.focus = () => this.refs.editor.focus();\r\n          this.onChange = (editorState) => {this.props.saveEditorState(editorState); this.setState({editorState})};\r\n\r\n          this.handleKeyCommand = (command) => this._handleKeyCommand(command);\r\n          //this.onTab = (e) => this._onTab(e);\r\n          this.toggleBlockType = (type) => this._toggleBlockType(type);\r\n          this.toggleInlineStyle = (style) => this._toggleInlineStyle(style);\r\n        }\r\n\r\n        _handleKeyCommand(command) {\r\n          const {editorState} = this.state;\r\n          const newState = RichUtils.handleKeyCommand(editorState, command);\r\n          if (newState) {\r\n            this.onChange(newState);\r\n            return true;\r\n          }\r\n          return false;\r\n        }\r\n\r\n        _onTab(e) {\r\n          const maxDepth = 4;\r\n          this.onChange(RichUtils.onTab(e, this.state.editorState, maxDepth));\r\n        }\r\n\r\n        _toggleBlockType(blockType) {\r\n          this.onChange(\r\n            RichUtils.toggleBlockType(\r\n              this.state.editorState,\r\n              blockType\r\n            )\r\n          );\r\n        }\r\n\r\n        _toggleInlineStyle(inlineStyle) {\r\n          this.onChange(\r\n            RichUtils.toggleInlineStyle(\r\n              this.state.editorState,\r\n              inlineStyle\r\n            )\r\n          );\r\n        }\r\n\r\n        render() {\r\n          const {editorState} = this.state;\r\n\r\n          // If the user changes block type before entering any text, we can\r\n          // either style the placeholder or hide it. Let's just hide it now.\r\n          let className = 'RichEditor-editor';\r\n          var contentState = editorState.getCurrentContent();\r\n          if (!contentState.hasText()) {\r\n            if (contentState.getBlockMap().first().getType() !== 'unstyled') {\r\n              className += ' RichEditor-hidePlaceholder';\r\n            }\r\n          }\r\n\r\n          return (\r\n            <div className=\"RichEditor-root\">\r\n              <BlockStyleControls\r\n                editorState={editorState}\r\n                onToggle={this.toggleBlockType}\r\n              />\r\n              <InlineStyleControls\r\n                editorState={editorState}\r\n                onToggle={this.toggleInlineStyle}\r\n              />\r\n              <div className={className} onClick={this.focus}>\r\n                <Editor\r\n                  blockStyleFn={getBlockStyle}\r\n                  customStyleMap={styleMap}\r\n                  editorState={editorState}\r\n                  handleKeyCommand={this.handleKeyCommand}\r\n                  onChange={this.onChange}\r\n                  onTab={this.onTab}\r\n                  placeholder=\"Tell a story...\"\r\n                  ref=\"editor\"\r\n                  spellCheck={true}\r\n                />\r\n              </div>\r\n            </div>\r\n          );\r\n        }\r\n      }\r\n\r\n      // Custom overrides for \"code\" style.\r\n      const styleMap = {\r\n        CODE: {\r\n          backgroundColor: 'rgba(0, 0, 0, 0.05)',\r\n          fontFamily: '\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',\r\n          fontSize: 16,\r\n          padding: 2,\r\n        },\r\n      };\r\n\r\n      function getBlockStyle(block) {\r\n        switch (block.getType()) {\r\n          case 'blockquote': return 'RichEditor-blockquote';\r\n          default: return null;\r\n        }\r\n      }\r\n\r\n      class StyleButton extends React.Component {\r\n        constructor() {\r\n          super();\r\n          this.onToggle = (e) => {\r\n            e.preventDefault();\r\n            this.props.onToggle(this.props.style);\r\n          };\r\n        }\r\n\r\n        render() {\r\n          let className = 'RichEditor-styleButton';\r\n          if (this.props.active) {\r\n            className += ' RichEditor-activeButton';\r\n          }\r\n\r\n          return (\r\n            <span className={className} onMouseDown={this.onToggle}>\r\n              {this.props.label}\r\n            </span>\r\n          );\r\n        }\r\n      }\r\n\r\n      const BLOCK_TYPES = [\r\n        {label: 'H1', style: 'header-one'},\r\n        {label: 'H2', style: 'header-two'},\r\n        {label: 'H3', style: 'header-three'},\r\n        {label: 'H4', style: 'header-four'},\r\n        {label: 'H5', style: 'header-five'},\r\n        {label: 'H6', style: 'header-six'},\r\n        {label: 'Blockquote', style: 'blockquote'},\r\n        {label: 'UL', style: 'unordered-list-item'},\r\n        {label: 'OL', style: 'ordered-list-item'},\r\n      ];\r\n\r\n      const BlockStyleControls = (props) => {\r\n        const {editorState} = props;\r\n        const selection = editorState.getSelection();\r\n        const blockType = editorState\r\n          .getCurrentContent()\r\n          .getBlockForKey(selection.getStartKey())\r\n          .getType();\r\n\r\n        return (\r\n          <div className=\"RichEditor-controls\">\r\n            {BLOCK_TYPES.map((type) =>\r\n              <StyleButton\r\n                key={type.label}\r\n                active={type.style === blockType}\r\n                label={type.label}\r\n                onToggle={props.onToggle}\r\n                style={type.style}\r\n              />\r\n            )}\r\n          </div>\r\n        );\r\n      };\r\n\r\n      var INLINE_STYLES = [\r\n        {label: 'Bold', style: 'BOLD'},\r\n        {label: 'Italic', style: 'ITALIC'},\r\n        {label: 'Underline', style: 'UNDERLINE'},\r\n      ];\r\n\r\n      const InlineStyleControls = (props) => {\r\n        var currentStyle = props.editorState.getCurrentInlineStyle();\r\n        return (\r\n          <div className=\"RichEditor-controls\">\r\n            {INLINE_STYLES.map(type =>\r\n              <StyleButton\r\n                key={type.label}\r\n                active={currentStyle.has(type.style)}\r\n                label={type.label}\r\n                onToggle={props.onToggle}\r\n                style={type.style}\r\n              />\r\n            )}\r\n          </div>\r\n        );\r\n      };\r\n\r\n  export default DraftEditor;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { Container, Button, Modal, ModalBody, ModalHeader, ModalFooter } from 'mdbreact';\r\nimport { MDBInput } from \"mdbreact\";\r\nimport greencheck from '../../images/greencheck.jpg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Turn from '../../Turn';\r\nimport DraftEditor from './DraftEditor';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass BookNote extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n            addchapter: false,\r\n            chapnum: \"\",\r\n            title: \"\",\r\n            warning1: false,\r\n            warning2: false,\r\n            firstload: true,\r\n            chapters: null,\r\n            edit: false,\r\n            cardinputs: {},\r\n            cardselects: {},\r\n            savemsg: false,\r\n            deletemsg: false,\r\n            turnjs: false,\r\n            noteid: null,\r\n            notemodal: false,\r\n            predictions: \"\",\r\n            quotes: \"\",\r\n            lessons: \"\",\r\n            general: \"\",\r\n            editorState: null,\r\n            initialEditor: EditorState.createEmpty(),\r\n            turnjstext: null,\r\n            coverinfo:null,\r\n            profile:null\r\n\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    saveEditorState = (editorState) => {\r\n\r\n\r\n\r\n\r\n\r\n        this.setState({ editorState })\r\n    }\r\n\r\n    saveEditorToDB = async () => {\r\n\r\n        //save to db, also have it return the newest chapters array.\r\n        //then parse the info into page blocks.\r\n        //use those page blocks to create divs with content.\r\n        //that content is then saved to state, so that state will update, and\r\n        //have the Turnjs prop update with those divs.\r\n        let contentState = this.state.editorState.getCurrentContent();\r\n        let rawString = JSON.stringify(convertToRaw(contentState));\r\n\r\n        const res = await axios.post('/api/saveChapEditor', { user: this.props.user, bookid: this.props.bookid, chapnum: this.state.chapnum, editor: rawString });\r\n\r\n        let newchapters = res.data.book.chapters\r\n\r\n\r\n        this.setState({ chapters: res.data.book.chapters })\r\n\r\n    }\r\n\r\n\r\n    addChapter = async (e) => {\r\n\r\n        //check chapter number input\r\n        e.preventDefault();\r\n\r\n\r\n        //check if input is positive && between 1-170;\r\n        var title = this.state.title;\r\n        var patt = new RegExp(/^\\d*$/); //0-9 & positive.\t\t\r\n        var valid = patt.test(this.state.chapnum) && (parseInt(this.state.chapnum) >= 1 && parseInt(this.state.chapnum) <= 170);\r\n        var valid2 = true;\r\n\r\n\r\n\r\n        if (this.state.chapters) {\r\n            for (var i = 0; i < this.state.chapters.length; i++) {\r\n\r\n\r\n                if (this.state.chapnum == this.state.chapters[i].chapnum) {\r\n\r\n\r\n                    valid2 = false;\r\n                }\r\n\r\n\r\n\r\n\r\n            }\r\n        }\r\n\r\n        if (valid && valid2 != false) {\r\n\r\n\r\n            this.setState({ warning1: false, warning2: false });\r\n            var datares = await axios.post('/api/postachapter', { user: this.props.user, bookid: this.props.bookid, chapnum: this.state.chapnum, title: title });\r\n\r\n\r\n            this.setState({ chapters: datares.data.book.chapters })\r\n\r\n        }\r\n\r\n\r\n        if (valid == false) {\r\n\r\n\r\n            this.setState({ warning1: true })\r\n        }\r\n\r\n        if (valid2 == false) {\r\n\r\n\r\n            this.setState({ warning2: true, warning1: false })\r\n        }\r\n\r\n        //do a check to see if a chapter # already exists.\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    //calling it 'start' bc this is the first modal to 'start' a new chapter\r\n    mStartOnChange = (e) => {\r\n\r\n\r\n        if (e.currentTarget.id == \"chapnum\") {\r\n            this.setState({ chapnum: e.currentTarget.value });\r\n        }\r\n\r\n        if (e.currentTarget.id == \"title\") {\r\n\r\n            this.setState({ title: e.currentTarget.value });\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    setChapterStart = () => {\r\n\r\n\r\n        this.setState({ addchapter: !this.state.addchapter, warning1: false, warning2: false })\r\n\r\n    }\r\n\r\n    addBookNote = (e) => {\r\n\r\n\r\n        let noteid = e.target.parentNode.id;\r\n        let index = noteid - 1;\r\n\r\n        let predictions = this.state.chapters[index].predictions;\r\n\r\n\r\n\r\n\r\n        if (predictions) {\r\n\r\n            let editorPredictions = EditorState.createWithContent(convertFromRaw(JSON.parse(predictions)));\r\n            this.setState({ initialEditor: editorPredictions })\r\n\r\n\r\n        } else {\r\n\r\n            this.setState({ initialEditor: EditorState.createEmpty() })\r\n        }\r\n\r\n\r\n        this.setState({ noteid: noteid, notemodal: !this.state.notemodal });\r\n\r\n    }\r\n\r\n    /* \t\t//if I decided to use simple inputs later on.\r\n    \t\tnoteEdit = (e) => {\r\n\r\n    \t\t\tswitch(e.currentTarget.id){\r\n\r\n    \t\t\t\tcase \"predictions\":\r\n    \t\t\t\t\tthis.setState({predictions:e.currentTarget.value})\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase \"quotes\":\r\n    \t\t\t\t\tthis.setState({quotes:e.currentTarget.value})\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase \"lessons\":\t\t\t\r\n    \t\t\t\t\tthis.setState({lessons:e.currentTarget.value})\r\n    \t\t\t\t\tbreak;\r\n\r\n    \t\t\t\tcase \"general\":\r\n    \t\t\t\t\tthis.setState({general:e.currentTarget.value})\t\t\t\t\t\r\n    \t\t\t\t\tbreak;\r\n\r\n    \t\t\t}\r\n\r\n\r\n\r\n    \t\t}\r\n    \t*/\r\n\r\n\r\n    renderEditCards = () => {\r\n\r\n        var cardsarr = [];\r\n        var sortedchaps = [];\r\n        var inputstyle = { color: 'black' }\r\n\r\n        sortedchaps = this.state.chapters.sort(function(a, b) { return a.chapnum - b.chapnum });\r\n\r\n        for (var i = 0; i < sortedchaps.length; i++) {\r\n\r\n            var chapnum = this.state.chapters[i].chapnum;\r\n\r\n\r\n            if (this.state.cardselects[chapnum] == 'selected') {\r\n\r\n                cardsarr.push(\r\n\r\n\r\n                    <div key={this.state.chapters[i].chapnum} id={this.state.chapters[i].chapnum} onClick={this.editCardClick} className=\"bkcardeditselect\">\r\n\t\t\t\t\t\t\t\t<div className=\"cardTitle\">Chapter {this.state.chapters[i].chapnum}</div>\r\n\t\t\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t\t\t\t<input id={this.state.chapters[i].chapnum} type=\"text\" placeholder={this.state.chapters[i].title} style={inputstyle} className=\"cardTitle2\" value={this.state.cardinputs[this.state.chapters[i].chapnum]} onChange={this.cardonChange} />\r\n\t\t\t\t\t\t\t\t<button onClick={(e) => {this.addBookNote(e)}} >Add Book Notes</button>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n                )\r\n\r\n            } else {\r\n\r\n                cardsarr.push(\r\n\r\n                    <div key={this.state.chapters[i].chapnum} id={this.state.chapters[i].chapnum} onClick={this.editCardClick} className=\"bkcardedit\">\r\n\t\t\t\t\t\t<div className=\"cardTitle\">Chapter {this.state.chapters[i].chapnum}</div>\r\n\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t\t<div className=\"cardTitle2\">{this.state.chapters[i].title}</div>>\r\n\t\t\t\t\t</div>\r\n                )\r\n\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n        return (cardsarr)\r\n\r\n    }\r\n\r\n\r\n    cardonChange = (e) => {\r\n\r\n        var cardid = e.target.id;\r\n        var value = e.target.value;\r\n\r\n\r\n\r\n        this.setState(prevState => ({ cardinputs: { ...prevState.cardinputs, [cardid]: value } }));\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    editCardClick = (e) => {\r\n\r\n\r\n\r\n        if (e.target.nodeName != \"INPUT\") {\r\n\r\n            var chapid = e.currentTarget.id;\r\n\r\n\r\n            if (this.state.cardselects[chapid] == 'selected') {\r\n                this.setState(prevState => ({ chapnum: chapid, cardselects: { ...prevState.cardselects, [chapid]: 'notselected' } }))\r\n            } else if (this.state[chapid] == 'notselected') {\r\n\r\n\r\n                this.setState(prevState => ({ chapnum: chapid, cardselects: { ...prevState.cardselects, [chapid]: 'selected' } }))\r\n\r\n\r\n            } else {\r\n\r\n                this.setState(prevState => ({ chapnum: chapid, cardselects: { ...prevState.cardselects, [chapid]: 'selected' } }))\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n     turnjsSwitch = async (e) => {\r\n\r\n\r\n        let chapnum = e.currentTarget.id;\r\n        let index = chapnum - 1;\r\n        let predictions = this.state.chapters[index].predictions;\r\n        let title = this.state.chapters[index].title;\r\n\r\n\r\n        var profileres = await axios.post('/api/profileonly', {goodreadId:this.props.user.goodreadId});\r\n        var profileuserdata = profileres.data.profileinfo.GoodreadsResponse.user;\r\n        console.log(profileuserdata)\r\n\r\n\r\n\r\n        let turnjsEditor = predictions ? EditorState.createWithContent(convertFromRaw(JSON.parse(predictions))) : EditorState.createEmpty();\r\n        let turnjstext = turnjsEditor.getCurrentContent().getPlainText();\r\n\r\n\r\n        var predObj = predictions ? JSON.parse(predictions) : \"Empty\"\r\n        if (predObj != \"Empty\") {\r\n\r\n            var stylechars = [];\r\n            var finaldivsArr = [];\r\n\r\n            var stylesDict = {\r\n\r\n                \"header-one\": \"h1\",\r\n                \"unordered-list-item\": \"ul\",\r\n                \"ordered-list-item\": \"ol\",\r\n                BOLD: { fontWeight: \"bold\" },\r\n                UNDERLINE: { textDecoration: \"underline\" },\r\n                ITALIC: { fontStyle: \"italic\" }\r\n\r\n\r\n\r\n\r\n            };\r\n\r\n\r\n            var blockcount = 0;\r\n \r\n            for (var i = 0; i < turnjstext.length; i++) {\r\n\r\n                var tempstyles = { display: \"inline\" };\r\n                blockcount = 0;\r\n                if (turnjstext[i].match(/\\r\\n|\\r|\\n/g)) {\r\n                    tempstyles = {};\r\n                }\r\n\r\n                for (var j = 0; j < predObj.blocks.length; j++) {\r\n\r\n\r\n\r\n                    for (var k = 0; k < predObj.blocks[j].inlineStyleRanges.length; k++) {\r\n\r\n\r\n\r\n                        var start = predObj.blocks[j].inlineStyleRanges[k].offset + blockcount ;\r\n                        var end = predObj.blocks[j].inlineStyleRanges[k].length + start;\r\n                        var style = predObj.blocks[j].inlineStyleRanges[k].style;\r\n\r\n\r\n\r\n                        if (i >= start && i <= end) {\r\n\r\n\r\n                            Object.assign(tempstyles, stylesDict[style])\r\n\r\n                        } //endif\r\n\r\n\r\n\r\n\r\n                    } //endfor3\r\n\r\n\r\n\r\n                    blockcount += predObj.blocks[j].text.length + 1;\r\n                    \r\n\r\n\r\n                } //endfor2\r\n\r\n\r\n                stylechars.push([turnjstext[i], tempstyles])\r\n\r\n            } //endfor1\r\n\r\n\r\n\r\n\r\n\r\n\r\n            let divarr = [];\r\n            let pages = [];\r\n            let blocknum = 0;\r\n            let charcount = 0;\r\n            let linecount = 0;\r\n            let pagenum = 0;\r\n            var divarr2 = [];\r\n\r\n\r\n        \t\r\n            for (var m = 0; m < stylechars.length; m++) {\r\n\r\n            \r\n                if ((stylechars[m][0].match(/\\r\\n|\\r|\\n/g) ) || (!stylechars[m + 1]) || (divarr2.length >0)) {\r\n\r\n                  \r\n                    if(divarr2.length >0){\r\n\r\n                    \tif(divarr2[1]){\r\n\r\n                    \t\tdivarr2.pop();\r\n                    \t}\r\n                    \tdivarr = divarr2;\r\n    \r\n                    \tm = m -1;\r\n                    \r\n                    \tdivarr2 = [];\r\n\r\n                    }\r\n\r\n\r\n                    if (!pages[pagenum]) {\r\n                        pages[pagenum] = [];\r\n                    }\r\n\r\n                    let type = predObj.blocks[blocknum] ? predObj.blocks[blocknum].type : null;\r\n             \t//17 is the safety buffer. can still add last block.\r\n                    switch (type) {                  \t\r\n                        case \"header-one\":\r\n                         \t{if(linecount + 3 >= 17){\r\n                      \t\t    divarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h1>{divarr}</h1></div>);\r\n                         \t\tpagenum++;\r\n                         \t\tblocknum++;\r\n                         \t\tlinecount = 0;\r\n                         \t}else{\r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h1>{divarr}</h1></div>);                    \r\n                         \t\tblocknum++;\r\n                         \t\tlinecount += 3;\r\n                         \t}\r\n\r\n                            break;}\r\n                        case \"header-two\":\r\n                       \t\tif(linecount + 2.5 >= 17){                         \t\t\r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h2>{divarr}</h2></div>);\r\n                         \t\tpagenum++;\r\n                         \t\tblocknum++;\r\n                         \t\tlinecount = 0;\r\n                         \t}else{\r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h2>{divarr}</h2></div>);                    \r\n                         \t\tblocknum++;\r\n                         \t\tlinecount += 2.5;\r\n                         \t}\r\n\r\n                            break;\r\n                        case \"header-three\":\r\n                       \tif(linecount + 2 >= 17){                        \t\t\r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h3>{divarr}</h3></div>);\r\n                         \t\tpagenum++;\r\n                         \t\tblocknum++;\r\n                         \t\tlinecount = 0;\r\n                         \t}else{\r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h3>{divarr}</h3></div>);                    \r\n                         \t\tblocknum++;\r\n                         \t\tlinecount += 2;\r\n                         \t}\r\n                            break;\r\n                        case \"header-four\":\r\n                       \tif(linecount + 1.5 >= 17){                       \t\t\r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h4>{divarr}</h4></div>);\r\n                         \t\tpagenum++;\r\n                         \t\tblocknum++;\r\n                         \t\tlinecount = 0;\r\n                         \t}else{\r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h4>{divarr}</h4></div>);                    \r\n                         \t\tblocknum++;\r\n                         \t\tlinecount += 1.5;\r\n                         \t}\r\n\r\n                            break;\r\n                        case \"header-five\":\r\n                        \tif(linecount + 1.25 >= 17){                        \t\t\r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h5>{divarr}</h5></div>);\r\n                         \t\tpagenum++;\r\n                         \t\tblocknum++;\r\n                         \t\tlinecount = 0;\r\n                         \t}else{\r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h5>{divarr}</h5></div>);                    \r\n                         \t\tblocknum++;\r\n                         \t\tlinecount += 1.25;\r\n                         \t}\r\n\r\n                            break;\r\n                        case \"header-six\":\r\n                       \t\tif(linecount + 1 >= 17){                       \t\t\r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h6>{divarr}</h6></div>);\r\n                         \t\tpagenum++;\r\n                         \t\tblocknum++;\r\n                         \t\tlinecount = 0;\r\n                         \t}else{\r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><h6>{divarr}</h6></div>);                    \r\n                         \t\tblocknum++;\r\n                         \t\tlinecount += 1;\r\n                         \t}\r\n\r\n                            break;\r\n                        case \"unordered-list-item\":\r\n                            {let olchars = divarr.length;\r\n                        \tlet widthchars = 36; //in OL, each line is 36 chars max, accounting for capitalized text, gives us an extra line or two safety.\r\n                        \tlet lines = olchars/widthchars;\r\n                        \tlet totallines = linecount + lines;\r\n\r\n                                              \t\r\n \t\t\t\t\t\t\tif(totallines >= 17){\t\r\n                         \t\t\r\n                         \t\tlet nextpglines = totallines - 17;\r\n                         \t\tlet nextindex = widthchars * nextpglines;\r\n                      \t\t\r\n\r\n                         \t\tif(olchars <= nextindex){\r\n                         \t\r\n                         \t\t\tdivarr2 = divarr2.concat(divarr);\r\n\r\n                         \t\t}else{\r\n                         \t\t\t\r\n                         \t\t\r\n                         \t\t\tlet divarrcut = divarr.splice(divarr.length - nextindex, nextindex)                       \r\n                         \t\t\tdivarr2.length = 0;\r\n                         \t\t\tdivarr2 = divarr2.concat(divarrcut);\r\n                       \r\n                         \t\r\n                         \t\t\tpages[pagenum].push(<div key={m}><ul className=\"pageUL\"><li>{divarr}</li></ul></div>);\r\n                         \t\t\r\n                         \t\t}                    \t\t\r\n                         \t\t\r\n                         \t\tpagenum++;\r\n                         \t\t//blocknum++;\r\n                         \t\tlinecount = 0;\r\n                         \t}else{\r\n                         \r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><ul className=\"pageUL\"><li>{divarr}</li></ul></div>);                   \r\n                         \t\tblocknum++;\r\n                         \t\tlinecount += Math.ceil(lines);\r\n                         \t}\r\n\r\n                         \t                         \t\r\n                         \tbreak;}\r\n                        case \"ordered-list-item\":\r\n\r\n                        \t{let olchars = divarr.length;\r\n                        \tlet widthchars = 36; //in OL, each line is 36 chars max, accounting for capitalized text, gives us an extra line or two safety.\r\n                        \tlet lines = olchars/widthchars;\r\n                        \tlet totallines = linecount + lines;\r\n\r\n                        \r\n                        \t\r\n \t\t\t\t\t\t\tif(totallines >= 17){\t\r\n                         \t\t\r\n                         \t\tlet nextpglines = totallines - 17;\r\n                         \t\tlet nextindex = widthchars * nextpglines;\r\n                      \t\t\r\n\r\n                         \t\tif(olchars <= nextindex){\r\n                         \t\r\n                         \t\t\tdivarr2 = divarr2.concat(divarr);\r\n\r\n                         \t\t}else{\r\n                         \t\t\t\r\n                         \t\t\r\n                         \t\t\tlet divarrcut = divarr.splice(divarr.length - nextindex, nextindex)                       \r\n                         \t\t\tdivarr2.length = 0;\r\n                         \t\t\tdivarr2 = divarr2.concat(divarrcut);\r\n                       \r\n                         \t\r\n                         \t\t\tpages[pagenum].push(<div key={m}><ol className=\"pageOL\"><li>{divarr}</li></ol></div>);\r\n                         \t\t\r\n                         \t\t}                    \t\t\r\n                         \t\t\r\n                         \t\tpagenum++;\r\n                         \t\t//blocknum++;\r\n                         \t\tlinecount = 0;\r\n                         \t}else{\r\n                         \r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><ol className=\"pageOL\"><li>{divarr}</li></ol></div>);                   \r\n                         \t\tblocknum++;\r\n                         \t\tlinecount += Math.ceil(lines);\r\n                         \t}\r\n\r\n                         \t                         \t\r\n                         \tbreak;}\r\n                        case \"blockquote\":\r\n                        \t{let olchars = divarr.length;\r\n                        \tlet widthchars = 36;\r\n                        \tlet lines = olchars/widthchars;\r\n                        \tlet totallines = linecount + lines;\r\n       \r\n \t\t\t\t\t\t\tif(totallines >= 17){\t\r\n                         \t\t\r\n                         \t\tlet nextpglines = totallines - 17;\r\n                         \t\tlet nextindex = widthchars * nextpglines;\r\n                        \r\n                         \t\tif(olchars <= nextindex){\r\n                         \t\t\t\r\n                         \t\t\tdivarr2 = divarr2.concat(divarr);\r\n                         \t\t\r\n                         \t\t}else{\r\n                         \t\t\tlet divarrcut = divarr.splice(divarr.length - nextindex, nextindex)                       \r\n                         \t\t\tdivarr2.length = 0;\r\n                         \t\t\tdivarr2 = divarr2.concat(divarrcut);\r\n                         \t\t\tpages[pagenum].push(<div key={m}><blockquote className=\"grapefruit\">{divarr}</blockquote></div>);\r\n                         \t\r\n                         \t\t}                    \t\t\r\n                         \t\t\r\n                         \t\tpagenum++;\r\n                         \t\t//blocknum++;\r\n                         \t\tlinecount = 0;\r\n                         \t}else{\r\n                         \r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}><blockquote className=\"grapefruit\">{divarr}</blockquote></div>);                  \r\n                         \t\tblocknum++;\r\n                         \t\tlinecount += Math.ceil(lines);\r\n                         \t}\r\n                         \tbreak;}\r\n                        case \"unstyled\":   \r\n                   \r\n                           {let olchars = divarr.length;\r\n                        \tlet widthchars = 36;\r\n                        \tlet lines = olchars/widthchars;\r\n                        \tlet totallines = linecount + lines;\r\n\r\n                       \r\n \t\t\t\t\t\t\tif(totallines >= 17){\t\r\n                         \t\t\r\n                         \t\tlet nextpglines = totallines - 17;\r\n                         \t\tlet nextindex = widthchars * nextpglines;\r\n                        \r\n                         \t\tif(olchars <= nextindex){\r\n                         \t\t\t\r\n                         \t\t\tdivarr2 = divarr2.concat(divarr);\r\n                         \t\t\r\n                         \t\t}else{\r\n                         \t\t\tlet divarrcut = divarr.splice(divarr.length - nextindex, nextindex)                       \r\n                         \t\t\tdivarr2.length = 0;\r\n                         \t\t\tdivarr2 = divarr2.concat(divarrcut);\r\n                         \t\t\tpages[pagenum].push(<div key={m}>{divarr}</div>);\r\n                         \t\t\r\n                         \t\t}                    \t\t\r\n                         \t\t\r\n                         \t\tpagenum++;\r\n                         \t\t//blocknum++;\r\n                         \t\tlinecount = 0;\r\n                         \t}else{\r\n                         \r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}>{divarr}</div>);                  \r\n                         \t\tblocknum++;\r\n                         \t\tlinecount += Math.ceil(lines);\r\n                         \t}\r\n                         \tbreak;}\r\n\r\n                        default:\r\n                           {let olchars = divarr.length;\r\n                        \tlet widthchars = 36;\r\n                        \tlet lines = olchars/widthchars;\r\n                        \tlet totallines = linecount + lines;\r\n\r\n                       \r\n \t\t\t\t\t\t\tif(totallines >= 17){\t\r\n                         \t\t\r\n                         \t\tlet nextpglines = totallines - 17;\r\n                         \t\tlet nextindex = widthchars * nextpglines;\r\n                        \r\n                         \t\tif(olchars <= nextindex){\r\n                         \t\t\t\r\n                         \t\t\tdivarr2 = divarr2.concat(divarr);\r\n                         \t\t\r\n                         \t\t}else{\r\n                         \t\t\tlet divarrcut = divarr.splice(divarr.length - nextindex, nextindex)                       \r\n                         \t\t\tdivarr2.length = 0;\r\n                         \t\t\tdivarr2 = divarr2.concat(divarrcut);\r\n                         \t\t\tpages[pagenum].push(<div key={m}>{divarr}</div>);\r\n                         \t\t\r\n                         \t\t}                    \t\t\r\n                         \t\t\r\n                         \t\tpagenum++;\r\n                         \t\t//blocknum++;\r\n                         \t\tlinecount = 0;\r\n                         \t}else{\r\n                         \r\n                         \t\tdivarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>)\r\n                         \t\tpages[pagenum].push(<div key={m}>{divarr}</div>);                  \r\n                         \t\tblocknum++;\r\n                         \t\tlinecount += Math.ceil(lines);\r\n                         \t}\r\n                         \tbreak;}\r\n                    }\r\n\r\n\r\n\r\n                 \r\n                    divarr = [];\r\n\r\n\r\n\r\n                } else {\r\n               \r\n                    divarr.push(<div key={m} style={stylechars[m][1]}>{stylechars[m][0]}</div>);\r\n                    \r\n                }\r\n\r\n            }\r\n\r\n\r\n            \r\n\r\n\r\n       \r\n           console.log(profileuserdata)\r\n\r\n            this.setState({ turnjstext: pages, coverinfo:{chapnum:chapnum,title:title}, profile:profileuserdata}, () => {\r\n\r\n                this.setState({ turnjs: 'on' })\r\n            })\r\n\r\n        } else {\r\n\r\n            let turnjstext = [\"No notes =(\"];\r\n            this.setState({ turnjstext: turnjstext, coverinfo:{chapnum:index, title:title}, profile:profileuserdata }, () => {\r\n\r\n            \tthis.setState({turnjs:'on'})\r\n            })\r\n\r\n\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n    renderCards = () => {\r\n        var cardsarr = [];\r\n        var sortedchaps = [];\r\n        //go through each chapter in chapterarray and return a card in a div with chapter num & title in it. \r\n        //each card has an onclick which will open up a bigger modal with all the text info in sections.\r\n\r\n\r\n        sortedchaps = this.state.chapters.sort(function(a, b) { return a.chapnum - b.chapnum });\r\n\r\n\r\n        for (var i = 0; i < sortedchaps.length; i++) {\r\n\r\n            cardsarr.push(\r\n                <div key={this.state.chapters[i].chapnum} id={this.state.chapters[i].chapnum} onClick={this.turnjsSwitch} className=\"bkcard\">\r\n\t\t\t\t\t\t<div className=\"cardTitle\">Chapter   {this.state.chapters[i].chapnum}</div>\r\n\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t\t<div className=\"cardTitle2\">{this.state.chapters[i].title}</div>\r\n\t\t\t\t\t</div>);\r\n\r\n        }\r\n\r\n\r\n        return (cardsarr)\r\n\r\n\r\n    }\r\n\r\n    seteditRender = () => {\r\n\r\n        this.setState({ edit: !this.state.edit, cardinputs: {}, cardselects: {} })\r\n\r\n\r\n    }\r\n\r\n    trashButton = () => {\r\n\r\n        return (\r\n            <div className=\"icon-trash\" onClick={this.delChapters}>\r\n\t\t\t\t    <div className=\"trash-lid\"></div>\r\n\t\t\t\t    <div className=\"trash-container\"></div>\r\n\t\t\t\t    <div className=\"trash-line-1\"></div>\r\n\t\t\t\t    <div className=\"trash-line-2\"></div>\r\n\t\t\t\t    <div className=\"trash-line-3\"></div>\r\n\t\t\t\t  </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n    saveedits = async () => {\r\n\r\n        var saveinputs = [];\r\n        var chapters = this.state.chapters.slice();\r\n        var cardinputs = Object.assign({}, this.state.cardinputs);\r\n        var cardselects = Object.assign({}, this.state.cardselects);\r\n\r\n        for (var key in cardinputs) {\r\n\r\n            for (var key2 in cardselects) {\r\n\r\n\r\n                if (cardselects[key2] == 'selected' && key == key2) {\r\n\r\n\r\n                    var obj = { chapnum: key, title: cardinputs[key] };\r\n                    saveinputs.push(obj);\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        for (var i = 0; i < chapters.length; i++) {\r\n\r\n\r\n            for (var j = 0; j < saveinputs.length; j++) {\r\n\r\n\r\n                if (chapters[i].chapnum == saveinputs[j].chapnum) {\r\n\r\n                    chapters[i].title = saveinputs[j].title;\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        var user = this.props.user;\r\n        var bookid = this.props.bookid;\r\n\r\n        var newchapters = await axios.post('/api/updatechapters', { user: user, bookid: bookid, chapters: chapters });\r\n\r\n        this.setState({ chapters: newchapters.data.chapters, savemsg: true }, () => {\r\n\r\n            setTimeout(() => { this.setState({ savemsg: false }) }, 2300)\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    delChapters = async () => {\r\n\r\n\r\n        //all chapters in selected array are deleted.\r\n        var cardselects = Object.assign({}, this.state.cardselects);\r\n        var cardinputs = Object.assign({}, this.state.cardinputs);\r\n\r\n\r\n        var newchapters = await axios.post('/api/deletechapters', { user: this.props.user, bookid: this.props.bookid, cardselects: cardselects })\r\n        var chapters = newchapters.data.book.chapters;\r\n\r\n\r\n        //empty the inputs obj that match the cardselects obj. \r\n        for (let key in cardselects) {\r\n\r\n            if (cardselects[key] == 'selected') {\r\n                delete cardinputs[key]\r\n            }\r\n\r\n        }\r\n\r\n        //empty the cardselects obj\r\n        cardselects = {};\r\n        this.setState({ chapters: chapters, cardselects: cardselects, cardinputs: cardinputs, deletemsg: true }, () => {\r\n\r\n            setTimeout(() => { this.setState({ deletemsg: false }) }, 2300)\r\n\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    firstLoad = async () => {\r\n\r\n\r\n        const datares = await axios.post('/api/booksched', { user: this.props.user, bookid: this.props.bookid, action: \"get\" })\r\n\r\n        if (datares.data.dates) {\r\n            var chapters = datares.data.dates.chapters;\r\n\r\n            this.setState({ firstload: false, chapters: chapters });\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n \r\n\r\n\r\n    render() {\r\n\r\n\r\n\r\n\r\n        var warning1 = <div className=\"bknotewarningred\">Number must be between 1 and 170</div>;\r\n        var warning2 = <div className=\"bknotewarningred\">Chapter number already exists</div>;\r\n        var savemsgStyle = {\r\n\r\n            textAlign: 'center',\r\n            fontSize: '25px'\r\n\r\n        }\r\n\r\n\r\n        if (this.props.user && this.state.firstload) {\r\n\r\n            this.firstLoad();\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n        return (\r\n\r\n\r\n\r\n        <div className=\"cero\">\r\n\r\n            {this.state.turnjs == 'on' ? <Link to=\"/booknotes\" className=\"editFlexBack\">Go Back</Link> : null}\r\n\t\t\t{this.state.turnjs == 'on' ?  <Turn turnjstext={this.state.turnjstext} profile={this.state.profile} coverinfo={this.state.coverinfo} /> : \r\n\t\t\t<div className=\"cardscontainer\">\r\n\t\t\t\t<div className=\"editcontainer\">\r\n                    <a href=\"/mybooks\" className=\"editFlexBack\">Go Back</a>\r\n\t\t\t\t\t<div className=\"editflex\">\r\n\t\t\t\t\t\t<div className=\"editFlexBack\" onClick={this.seteditRender} >Edit</div>\r\n\t\t\t\t\t\t{this.state.edit != false ? <div onClick={this.saveedits} className=\"editFlexBack\">Save</div> : null}\r\n\t\t\t\t\t\t{this.state.edit != false ? this.trashButton() : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"bkcards\">\r\n\r\n\t\t\t\t\t<Modal isOpen={this.state.savemsg} size=\"sm\">\t\t\t\t         \r\n\t\t\t\t          <ModalBody style={savemsgStyle}>\r\n\t\t\t\t          \t<img height=\"50\" src={greencheck}></img>Save Success!\t\t\t          \t     \r\n\t\t\t\t          </ModalBody>\r\n\t\t\t        </Modal>\r\n\r\n\t\t\t        <Modal isOpen={this.state.deletemsg} size=\"sm\">\t\t\t\t         \r\n\t\t\t\t          <ModalBody style={savemsgStyle}>\r\n\t\t\t\t          \t<img height=\"50\" src={greencheck}></img>Delete Success!\t\t\t          \t     \r\n\t\t\t\t          </ModalBody>\r\n\t\t\t        </Modal>\r\n\r\n\t\t\t        <Modal isOpen={this.state.notemodal} className=\"editNoteModal\" >\r\n\t\t\t        \t<ModalHeader toggle={() => this.setState({notemodal:!this.state.notemodal}) }>\r\n\t\t\t        \t\tEdit Book Notes\r\n\t\t\t        \t</ModalHeader>\r\n\t\t\t        \t<ModalBody>\r\n\t\t\t        \t\t<div>Predictions:</div>\r\n\t\t\t        \t\t<DraftEditor initialEditor={this.state.initialEditor} saveEditorState={this.saveEditorState} />\r\n\t\t\t        \t\t<button onClick={this.saveEditorToDB}>SAVE</button>\r\n\t\t\t        \t\t\r\n\t\t\t        \t</ModalBody>\r\n\t\t\t        \t<ModalFooter>\r\n\t\t\t        \t</ModalFooter>\r\n\t\t\t        </Modal>\r\n\r\n\t\t\t\t\t<Modal isOpen={this.state.addchapter} size=\"sm\">\r\n\t\t\t\t         <ModalHeader toggle={() => this.setChapterStart()}>Add a new chapter</ModalHeader>\r\n\t\t\t\t         <form>\r\n\t\t\t\t          <ModalBody>\r\n\t\t\t\t          \t<MDBInput id=\"chapnum\" value={this.state.chapnum} onChange={(e) => {this.mStartOnChange(e)}} className=\"modalstartinput\" label=\"Chapter Number\" type=\"number\" required min=\"1\" max=\"170\"/>\r\n\t\t\t\t          \t{this.state.warning1 ? warning1 : null}\r\n\t\t\t\t          \t{this.state.warning2 ? warning2 : null}\r\n\t\t\t\t          \t<MDBInput id=\"title\" value={this.state.title} onChange={(e) => {this.mStartOnChange(e)}} label=\"Chapter Title\"  maxLength=\"50\"/>\t\t\t\t     \r\n\t\t\t\t          </ModalBody>\r\n\t\t\t         \t<ModalFooter>\r\n\t\t\t         \t\t<Button size=\"sm\" type=\"submit\" color=\"primary\" onClick={(e) => {this.addChapter(e)}} required>Save changes</Button>\r\n\t\t\t\t            <Button size=\"sm\" color=\"secondary\" onClick={() => this.setChapterStart()} required>Close</Button>{' '}\r\n\t\t\t         \t</ModalFooter>\r\n\t\t\t         </form>\r\n\t\t\t        </Modal>\r\n\t\t\t        {this.state.edit != false && this.state.chapters ? this.renderEditCards() : null}\r\n\t\t\t        {this.state.chapters && this.state.edit == false  ? this.renderCards() : null}\r\n\t\t\t\t\t{this.state.edit ? null : <div className=\"addCenter\">\r\n\t\t\t\t\t\t<div className=\"addCenter\" onClick={this.setChapterStart}>\r\n\t\t\t\t\t\t  <div className=\"addChapter\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\t</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nfunction mapStateToProps(props) {\r\n\r\n\r\n    return { user: props.auth, bookid: props.bknid }\r\n\r\n\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(BookNote);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../../actions'\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { MDBBtn, MDBTable, MDBTableBody, MDBTableHead } from 'mdbreact';\r\nimport Calendar from '../Calendar';\r\nimport BookNote from './BookNote';\r\n\r\n\r\nclass BookList extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n            bookcounter: 1,\r\n            shelf: \"All\",\r\n            tabledata: '',\r\n            grid2: \"grid2\",\r\n            booknote:false\r\n           \r\n\r\n\r\n        }\r\n\r\n\r\n        this.mybookdata = ''; //initial shelf/ table data!\r\n        this.bookpreviewId = '';\r\n        this.booksched = null;\r\n        this.mybooksload = this.mybooksload.bind(this);\r\n        this.leftnav = this.leftnav.bind(this);\r\n        this.tablerender = this.tablerender.bind(this);\r\n        this.tableload = this.tableload.bind(this);\r\n        this.previewState = this.previewState.bind(this);\r\n        this.previewRender = this.previewRender.bind(this);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    async mybooksload(user) {\r\n\r\n\r\n        \r\n\r\n        if (!user) {\r\n\r\n\r\n            return (<div>nodata</div>)\r\n\r\n        } else {\r\n\r\n            const booksres = await axios.post('/api/mybooksload', { goodreadId: user.goodreadId });\r\n            const bookdata = booksres.data;\r\n\r\n\r\n            if (JSON.stringify(bookdata) != JSON.stringify(this.mybookdata)) {\r\n\r\n               \r\n\r\n                this.mybookdata = bookdata;\r\n\r\n                this.setState(prevState => ({\r\n                    bookcounter: prevState.bookcounter + 1\r\n                }))\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    leftnav() {\r\n\r\n\r\n\r\n        var shelflist = this.mybookdata.shelflist[0].user_shelf;\r\n        var exclusive = [];\r\n        var othershelves = [];\r\n\r\n        for (var i = 0; i < shelflist.length; i++) {\r\n\r\n            if (shelflist[i].exclusive_flag[0]._ == \"true\") {\r\n\r\n                exclusive.push(<li key={i} onClick={this.tableload}>{shelflist[i].name[0]}</li>)\r\n            } else {\r\n                othershelves.push(<li key={i} onClick={this.tableload}>{shelflist[i].name[0]}</li>)\r\n            }\r\n        }\r\n\r\n\r\n        return (\r\n            <ul>\r\n              <div className=\"goodReadsLogo\"></div>\r\n              <hr className=\"goodReadsLogoHR\"></hr>\r\n              <h1 className=\"shelvesh1\">Shelves</h1>\r\n              <li onClick={this.tableload}>All</li>\r\n              {exclusive}\r\n              {othershelves}\r\n            </ul>\r\n\r\n\r\n        )\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    async tableload(e) {\r\n\r\n\r\n       \r\n        var shelf;\r\n\r\n        if (e.currentTarget.textContent == \"All\") {\r\n            shelf = \"\";\r\n        } else {\r\n            shelf = e.currentTarget.textContent;\r\n        }\r\n\r\n        this.setState({ shelf: shelf, grid2: \"grid2\"  }, async () => {\r\n\r\n            const booklistres = await axios.post('/api/selectshelf', { shelfname: this.state.shelf, goodreadId: this.props.auth.goodreadId })\r\n            const booklist = booklistres.data;\r\n            this.setState({ tabledata: booklist })\r\n\r\n        })\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    tablerender() {\r\n\r\n        var tabledatachoice;\r\n\r\n        if (this.state.tabledata != '') {\r\n           \r\n            tabledatachoice = this.state.tabledata.books;\r\n        } else {\r\n           \r\n            tabledatachoice = this.mybookdata.books;\r\n        }\r\n        \r\n\r\n\r\n        var rows;\r\n\r\n        if (tabledatachoice == null || tabledatachoice == undefined || Object.keys(tabledatachoice).length === 0) {\r\n\r\n            rows = [{ cover: \"\", title: \"\", author: \"\", avgrating: \"\", year: \"\" }]\r\n\r\n        } else {\r\n\r\n\r\n\r\n            rows = tabledatachoice.map(currObj => {\r\n\r\n\r\n                var title = currObj.book[0].title[0];\r\n                var author = currObj.book[0].authors[0].author[0].name[0];\r\n                var avgrating = currObj.book[0].average_rating[0];\r\n                var year = currObj.book[0].published[0];\r\n                var image = currObj.book[0].image_url[0];\r\n                var numpages = currObj.book[0].num_pages[0];\r\n                var desc = currObj.book[0].description[0];\r\n                var id = currObj.book[0].id[0]._;\r\n\r\n                /* var styles = {\r\n\r\n                   width:'100%',\r\n                   height:'100%',\r\n                   backgroundRepeat: 'no-repeat',\r\n                   backgroundSize: 'cover',\r\n                   backgroundPosition:'50% 50%',\r\n                   backgroundImage: `url(${image})`\r\n                 \r\n\r\n                 } */\r\n                return { cover: <div id={id} className=\"pointer\" onClick={this.previewState}><img src={image}></img></div>, title: title, author: author, avgrating: avgrating, year: year }\r\n\r\n\r\n            })\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n        var columns = [\r\n\r\n            {\r\n                label: 'cover',\r\n                field: 'cover',\r\n                sort: 'asc'\r\n            },\r\n            {\r\n                label: 'title',\r\n                field: 'title',\r\n                sort: 'asc'\r\n            },\r\n            {\r\n                label: 'author',\r\n                field: 'author',\r\n                sort: 'asc'\r\n            },\r\n            {\r\n                label: 'avg. rating',\r\n                field: 'avg. rating',\r\n                sort: 'asc'\r\n            },\r\n            {\r\n                label: 'year',\r\n                field: 'year',\r\n                sort: 'asc'\r\n            }\r\n\r\n\r\n        ]\r\n\r\n\r\n\r\n        return (\r\n\r\n\r\n            <MDBTable btn className=\"mdbtablemybooks\">\r\n            <MDBTableHead columns={columns} />\r\n            <MDBTableBody rows={rows} />\r\n          </MDBTable>\r\n\r\n\r\n        )\r\n\r\n    }\r\n\r\n\r\n    async previewState(e) {\r\n\r\n        this.bookpreviewId = e.currentTarget.id;\r\n        this.props.calendarbookid(this.bookpreviewId);//for booknotes access\r\n        //axios post req with bookid, find bookdates, return.\r\n\r\n        var bookDates = await axios.post('/api/booksched', {action:\"get\", user:this.props.auth, bookid:this.bookpreviewId})\r\n     \r\n\r\n        this.booksched = bookDates.data.dates;\r\n       \r\n\r\n\r\n        if (this.state.grid2 == \"grid2\") {\r\n            this.setState({ grid2: \"grid3\" })\r\n        } else {\r\n            this.setState({ grid2: \"grid2\" })\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    previewRender() {\r\n\r\n        var previewId = this.bookpreviewId;\r\n        var tabledatachoice;\r\n\r\n        var foundbook;\r\n        var descr;\r\n        var numpages;\r\n        var cover;\r\n        var title;\r\n\r\n        if (this.state.tabledata != '') {\r\n            tabledatachoice = this.state.tabledata.books;\r\n        } else {\r\n            tabledatachoice = this.mybookdata.books;\r\n        }\r\n\r\n        //use bookid and inside a for loop compare it to each object -> book ->id\r\n        if(!tabledatachoice){\r\n                foundbook = null;\r\n                descr = null;\r\n                numpages = null;\r\n                cover = null;\r\n                title = null;\r\n        }else{\r\n\r\n\r\n            for (var i = 0; i < tabledatachoice.length; i++) {\r\n\r\n                if (tabledatachoice[i].book[0].id[0]._ == previewId) {\r\n\r\n                    foundbook = tabledatachoice[i].book[0];\r\n                    descr = tabledatachoice[i].book[0].description[0];\r\n                    numpages = tabledatachoice[i].book[0].num_pages[0];\r\n                    cover = tabledatachoice[i].book[0].image_url[0];\r\n                    title = tabledatachoice[i].book[0].title[0];\r\n                }\r\n\r\n        }\r\n\r\n        \r\n\r\n        }\r\n\r\n    \r\n\r\n\r\n        return (\r\n\r\n            <div className=\"previewnote style-13\">  \r\n            <div className=\"bookprevinfo\">\r\n               <img src={cover}></img>\r\n               <div className=\"bkprevdet\">\r\n               <h1 className=\"bkprevtitle\">{title}</h1>\r\n               <h5>Description:</h5> {descr}\r\n               </div>\r\n            </div>\r\n            <div className=\"noteprevinfo\" >\r\n              <a className=\"toBkNoteLink\" onClick={()=> { this.setState({booknote:true })} }>Go to book notes</a>\r\n            </div>\r\n            <div className=\"calendarprevinfo\">\r\n                <Calendar bookid={this.bookpreviewId} booksched={this.booksched} user={this.props.auth}/>\r\n            </div>\r\n          </div>\r\n\r\n        )\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n\r\n\r\n        this.mybooksload(this.props.auth)\r\n\r\n\r\n\r\n\r\n        return (\r\n\r\n\r\n        \r\n            \r\n\r\n                <div className={this.state.booknote != false ? \"bknoteparent\"  :  this.state.grid2 != \"grid2\" ? \"mybookscontainer style-13\" : \"mybookscontainer2 style-13\" }>\r\n            \r\n\r\n\r\n                    {this.state.bookcounter != 1 ? null : <div className=\"loader\"></div>}\r\n\r\n                    {this.state.booknote != false ? <BookNote/> : null}\r\n                    {this.state.booknote != false ? null :\r\n                        <nav className=\"booklistsidebar style-13\">\r\n                        {this.state.bookcounter != 1 ? this.leftnav() : null}\r\n                        </nav>\r\n                    }\r\n\r\n\r\n                    {this.state.booknote != false ? null :\r\n                        <div className=\"mybookstable style-13\">\r\n                          {this.state.bookcounter != 1 ? this.tablerender() : null}\r\n                        </div>\r\n                    }\r\n\r\n\r\n                      \r\n                        {this.state.grid2 != \"grid2\" && this.state.booknote != true ? this.previewRender() : null}\r\n\r\n                </div>\r\n\r\n\r\n            \r\n      \r\n\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction mapStateToProps({ auth }) {\r\n\r\n    return { auth }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps,actions)(BookList);","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from './actions';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Header2 extends Component {\r\n\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\n\trenderContent(){\r\n\r\n\r\n\r\n\t\tswitch(this.props.auth){\r\n\r\n\r\n\t\t\tcase null:\r\n\t\t\t\treturn;\r\n\t\t\tcase false:\r\n\t\t\t\treturn (\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<a href={'/auth/goodreads'}>\r\n\t\t\t\t\t\t\t<img src='https://s.gr-assets.com/assets/badge/goodreads-login-button-7bd184d3077cf3580f68aa8a00de39ce.png' alt='nother' />\r\n\t\t\t\t\t\t </a>\r\n\t\t\t\t\r\n\r\n\r\n\t\t\t\t\t)\r\n\t\t\tdefault:\r\n\t\t\t\treturn (\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\t\t\t\t  <ul className=\"headerul\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Link to=\"/mybooks\">My Books</Link>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<a href={'/profile'} >\r\n\t\t\t\t\t\t\tProfile\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t<a href={'/auth/logout'} >\r\n\t\t\t\t\t\t\tLogOut\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\r\n\t\t\t\t </ul>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t\t)\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\trender(){\r\n\r\n\r\n\t\t\treturn(\r\n\r\n\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t<a href=\"/\">\r\n\t\t\t\t\t\t<div className=\"logobg\">Let's Read!</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{this.renderContent()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\r\n\t\t\t\t)\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction mapStateToProps({ auth }){\r\n\r\n\treturn { auth };\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,actions)(Header2);","import React, { Component } from 'react';\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from './actions';\r\n\r\n\r\n\r\nimport FooterSec from './components/Footer';\r\nimport Landing from './components/Landing';\r\nimport SearchResults from './components/SearchResults';\r\nimport Profile from './components/Profile';\r\nimport BookList from './components/books/BookList';\r\nimport BookNote from './components/books/BookNote';\r\nimport Calendar from './components/Calendar';\r\n\r\nimport Turn from './Turn';\r\nimport Header2 from './Header2';\r\n\r\nclass App extends Component {\r\n\r\n\r\n  componentDidMount(){\r\n\r\n    this.props.fetchUser();\r\n    \r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n    \r\n          \r\n\r\n       <BrowserRouter>             \r\n       \r\n          <div className=\"rootdk\">\r\n            <Header2/>\r\n              <div className=\"container\">\r\n                      \r\n                        <Switch>\r\n                          <Route exact path=\"/\" component={Landing}/>\r\n                          <Route exact path=\"/mybooks\" component={() => (\r\n                                    this.props.thisuser ? (\r\n                                      <BookList/>\r\n                                    ) : (\r\n                                      <Landing/>\r\n                                    )\r\n                                  )} />\r\n                          <Route exact path=\"/booknotes\" component={() => (\r\n                                    this.props.thisuser ? (\r\n                                      <BookNote/>\r\n                                    ) : (\r\n                                      <Landing/>\r\n                                    )\r\n                                  )} />} />\r\n                          <Route exact path=\"/profile\" render={() => (\r\n                                    this.props.thisuser ? (\r\n                                      <Profile/>\r\n                                    ) : (\r\n                                      <Landing/>\r\n                                    )\r\n                                  )}/>\r\n\r\n                        </Switch>\r\n                       \r\n                       <FooterSec />\r\n\r\n                 </div>\r\n              </div>\r\n              \r\n\r\n        </BrowserRouter>   \r\n          \r\n   \r\n\r\n      )\r\n\r\n   }\r\n\r\n}\r\n\r\nfunction mapStateToProps(props){\r\n\r\n  return {thisuser:props.auth}\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(App);","\nimport 'bootstrap-css-only/css/bootstrap.min.css'; \nimport 'mdbreact/dist/css/mdb.css';\nimport './index.css';\n\nimport React, {Component} from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Turn from './Turn'\nimport $ from \"jquery\";\nimport q from \"turn.js\";\n\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport reducers from './reducers';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport * as actions from './actions';\nimport {connect} from 'react-redux';\n\n\n\n\n\nimport App from './App';\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n\n <Provider store={store}>\n \n\t\t<App />\n\t\n </Provider>, \n\trootElement\n\n\t);\n"],"sourceRoot":""}